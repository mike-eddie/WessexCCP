/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
function RGBColor(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var i in e)t==i&&(t=e[i]);for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,s=n[r].process,o=a.exec(t);o&&(channels=s(o),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i},this.getHelpXML=function(){for(var t=new Array,i=0;i<n.length;i++)for(var r=n[i].example,a=0;a<r.length;a++)t[t.length]=r[a];for(var s in e)t[t.length]=s;var o=document.createElement("ul");o.setAttribute("id","rgbcolor-examples");for(var i=0;i<t.length;i++)try{var h=document.createElement("li"),l=new RGBColor(t[i]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex(),c.appendChild(document.createTextNode("test"));var u=document.createTextNode(" "+t[i]+" -> "+l.toRGB()+" -> "+l.toHex());h.appendChild(c),h.appendChild(u),o.appendChild(h)}catch(d){}return o}}!function(t,e){function i(t){var e=t.length,i=ce.type(t);return ce.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t){var e=Te[t]={};return ce.each(t.match(de)||[],function(t,i){e[i]=!0}),e}function r(t,i,n,r){if(ce.acceptData(t)){var a,s,o=ce.expando,h=t.nodeType,l=h?ce.cache:t,c=h?t[o]:t[o]&&o;if(c&&l[c]&&(r||l[c].data)||n!==e||"string"!=typeof i)return c||(c=h?t[o]=ee.pop()||ce.guid++:o),l[c]||(l[c]=h?{}:{toJSON:ce.noop}),("object"==typeof i||"function"==typeof i)&&(r?l[c]=ce.extend(l[c],i):l[c].data=ce.extend(l[c].data,i)),s=l[c],r||(s.data||(s.data={}),s=s.data),n!==e&&(s[ce.camelCase(i)]=n),"string"==typeof i?(a=s[i],null==a&&(a=s[ce.camelCase(i)])):a=s,a}}function a(t,e,i){if(ce.acceptData(t)){var n,r,a=t.nodeType,s=a?ce.cache:t,h=a?t[ce.expando]:ce.expando;if(s[h]){if(e&&(n=i?s[h]:s[h].data)){ce.isArray(e)?e=e.concat(ce.map(e,ce.camelCase)):e in n?e=[e]:(e=ce.camelCase(e),e=e in n?[e]:e.split(" ")),r=e.length;for(;r--;)delete n[e[r]];if(i?!o(n):!ce.isEmptyObject(n))return}(i||(delete s[h].data,o(s[h])))&&(a?ce.cleanData([t],!0):ce.support.deleteExpando||s!=s.window?delete s[h]:s[h]=null)}}}function s(t,i,n){if(n===e&&1===t.nodeType){var r="data-"+i.replace(Ee,"-$1").toLowerCase();if(n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ce.parseJSON(n):n}catch(a){}ce.data(t,i,n)}else n=e}return n}function o(t){var e;for(e in t)if(("data"!==e||!ce.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function h(){return!0}function l(){return!1}function c(){try{return Z.activeElement}catch(t){}}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,i){if(ce.isFunction(e))return ce.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ce.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(We.test(e))return ce.filter(e,t,i);e=ce.filter(e,t)}return ce.grep(t,function(t){return ce.inArray(t,e)>=0!==i})}function f(t){var e=Xe.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function p(t,e){return ce.nodeName(t,"table")&&ce.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==ce.find.attr(t,"type"))+"/"+t.type,t}function g(t){var e=ri.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var i,n=0;null!=(i=t[n]);n++)ce._data(i,"globalEval",!e||ce._data(e[n],"globalEval"))}function y(t,e){if(1===e.nodeType&&ce.hasData(t)){var i,n,r,a=ce._data(t),s=ce._data(e,a),o=a.events;if(o){delete s.handle,s.events={};for(i in o)for(n=0,r=o[i].length;r>n;n++)ce.event.add(e,i,o[i][n])}s.data&&(s.data=ce.extend({},s.data))}}function b(t,e){var i,n,r;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ce.support.noCloneEvent&&e[ce.expando]){r=ce._data(e);for(n in r.events)ce.removeEvent(e,n,r.handle);e.removeAttribute(ce.expando)}"script"===i&&e.text!==t.text?(m(e).text=t.text,g(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ce.support.html5Clone&&t.innerHTML&&!ce.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&ei.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function C(t,i){var n,r,a=0,s=typeof t.getElementsByTagName!==q?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==q?t.querySelectorAll(i||"*"):e;if(!s)for(s=[],n=t.childNodes||t;null!=(r=n[a]);a++)!i||ce.nodeName(r,i)?s.push(r):ce.merge(s,C(r,i));return i===e||i&&ce.nodeName(t,i)?ce.merge([t],s):s}function x(t){ei.test(t.type)&&(t.defaultChecked=t.checked)}function A(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,r=Si.length;r--;)if(e=Si[r]+i,e in t)return e;return n}function w(t,e){return t=e||t,"none"===ce.css(t,"display")||!ce.contains(t.ownerDocument,t)}function S(t,e){for(var i,n,r,a=[],s=0,o=t.length;o>s;s++)n=t[s],n.style&&(a[s]=ce._data(n,"olddisplay"),i=n.style.display,e?(a[s]||"none"!==i||(n.style.display=""),""===n.style.display&&w(n)&&(a[s]=ce._data(n,"olddisplay",D(n.nodeName)))):a[s]||(r=w(n),(i&&"none"!==i||!r)&&ce._data(n,"olddisplay",r?i:ce.css(n,"display"))));for(s=0;o>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?a[s]||"":"none"));return t}function T(t,e,i){var n=vi.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function N(t,e,i,n,r){for(var a=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>a;a+=2)"margin"===i&&(s+=ce.css(t,i+wi[a],!0,r)),n?("content"===i&&(s-=ce.css(t,"padding"+wi[a],!0,r)),"margin"!==i&&(s-=ce.css(t,"border"+wi[a]+"Width",!0,r))):(s+=ce.css(t,"padding"+wi[a],!0,r),"padding"!==i&&(s+=ce.css(t,"border"+wi[a]+"Width",!0,r)));return s}function E(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,a=ci(t),s=ce.support.boxSizing&&"border-box"===ce.css(t,"boxSizing",!1,a);if(0>=r||null==r){if(r=ui(t,e,a),(0>r||null==r)&&(r=t.style[e]),yi.test(r))return r;n=s&&(ce.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+N(t,e,i||(s?"border":"content"),n,a)+"px"}function D(t){var e=Z,i=Ci[t];return i||(i=k(t,e),"none"!==i&&i||(li=(li||ce("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(li[0].contentWindow||li[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=k(t,e),li.detach()),Ci[t]=i),i}function k(t,e){var i=ce(e.createElement(t)).appendTo(e.body),n=ce.css(i[0],"display");return i.remove(),n}function M(t,e,i,n){var r;if(ce.isArray(e))ce.each(e,function(e,r){i||Ni.test(t)?n(t,r):M(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==ce.type(e))n(t,e);else for(r in e)M(t+"["+r+"]",e[r],i,n)}function R(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,a=e.toLowerCase().match(de)||[];if(ce.isFunction(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function B(t,e,i,n){function r(o){var h;return a[o]=!0,ce.each(t[o]||[],function(t,o){var l=o(e,i,n);return"string"!=typeof l||s||a[l]?s?!(h=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),h}var a={},s=t===ji;return r(e.dataTypes[0])||!a["*"]&&r("*")}function O(t,i){var n,r,a=ce.ajaxSettings.flatOptions||{};for(r in i)i[r]!==e&&((a[r]?t:n||(n={}))[r]=i[r]);return n&&ce.extend(!0,t,n),t}function P(t,i,n){for(var r,a,s,o,h=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),a===e&&(a=t.mimeType||i.getResponseHeader("Content-Type"));if(a)for(o in h)if(h[o]&&h[o].test(a)){l.unshift(o);break}if(l[0]in n)s=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}return s?(s!==l[0]&&l.unshift(s),n[s]):void 0}function L(t,e,i,n){var r,a,s,o,h,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(a=c.shift();a;)if(t.responseFields[a]&&(i[t.responseFields[a]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=a,a=c.shift())if("*"===a)a=h;else if("*"!==h&&h!==a){if(s=l[h+" "+a]||l["* "+a],!s)for(r in l)if(o=r.split(" "),o[1]===a&&(s=l[h+" "+o[0]]||l["* "+o[0]])){s===!0?s=l[r]:l[r]!==!0&&(a=o[0],c.unshift(o[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(u){return{state:"parsererror",error:s?u:"No conversion from "+h+" to "+a}}}return{state:"success",data:e}}function F(){try{return new t.XMLHttpRequest}catch(e){}}function I(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function z(){return setTimeout(function(){Qi=e}),Qi=ce.now()}function _(t,e,i){for(var n,r=(an[e]||[]).concat(an["*"]),a=0,s=r.length;s>a;a++)if(n=r[a].call(i,e,t))return n}function H(t,e,i){var n,r,a=0,s=rn.length,o=ce.Deferred().always(function(){delete h.elem}),h=function(){if(r)return!1;for(var e=Qi||z(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,a=1-n,s=0,h=l.tweens.length;h>s;s++)l.tweens[s].run(a);return o.notifyWith(t,[l,a,i]),1>a&&h?i:(o.resolveWith(t,[l]),!1)},l=o.promise({elem:t,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Qi||z(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ce.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)l.tweens[i].run(1);return e?o.resolveWith(t,[l,e]):o.rejectWith(t,[l,e]),this}}),c=l.props;for(V(c,l.opts.specialEasing);s>a;a++)if(n=rn[a].call(l,t,c,l.opts))return n;return ce.map(c,_,l),ce.isFunction(l.opts.start)&&l.opts.start.call(t,l),ce.fx.timer(ce.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function V(t,e){var i,n,r,a,s;for(i in t)if(n=ce.camelCase(i),r=e[n],a=t[i],ce.isArray(a)&&(r=a[1],a=t[i]=a[0]),i!==n&&(t[n]=a,delete t[i]),s=ce.cssHooks[n],s&&"expand"in s){a=s.expand(a),delete t[n];for(i in a)i in t||(t[i]=a[i],e[i]=r)}else e[n]=r}function W(t,e,i){var n,r,a,s,o,h,l=this,c={},u=t.style,d=t.nodeType&&w(t),f=ce._data(t,"fxshow");i.queue||(o=ce._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,h=o.empty.fire,o.empty.fire=function(){o.unqueued||h()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--,ce.queue(t,"fx").length||o.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===ce.css(t,"display")&&"none"===ce.css(t,"float")&&(ce.support.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",ce.support.shrinkWrapBlocks||l.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],tn.exec(r)){if(delete e[n],a=a||"toggle"===r,r===(d?"hide":"show"))continue;c[n]=f&&f[n]||ce.style(t,n)}if(!ce.isEmptyObject(c)){f?"hidden"in f&&(d=f.hidden):f=ce._data(t,"fxshow",{}),a&&(f.hidden=!d),d?ce(t).show():l.done(function(){ce(t).hide()}),l.done(function(){var e;ce._removeData(t,"fxshow");for(e in c)ce.style(t,e,c[e])});for(n in c)s=_(d?f[n]:0,n,l),n in f||(f[n]=s.start,d&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function j(t,e,i,n,r){return new j.prototype.init(t,e,i,n,r)}function G(t,e){var i,n={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)i=wi[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function Y(t){return ce.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var X,U,q=typeof e,$=t.location,Z=t.document,K=Z.documentElement,Q=t.jQuery,J=t.$,te={},ee=[],ie="1.10.2",ne=ee.concat,re=ee.push,ae=ee.slice,se=ee.indexOf,oe=te.toString,he=te.hasOwnProperty,le=ie.trim,ce=function(t,e){return new ce.fn.init(t,e,U)},ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Ce=/^-ms-/,xe=/-([\da-z])/gi,Ae=function(t,e){return e.toUpperCase()},we=function(t){(Z.addEventListener||"load"===t.type||"complete"===Z.readyState)&&(Se(),ce.ready())},Se=function(){Z.addEventListener?(Z.removeEventListener("DOMContentLoaded",we,!1),t.removeEventListener("load",we,!1)):(Z.detachEvent("onreadystatechange",we),t.detachEvent("onload",we))};ce.fn=ce.prototype={jquery:ie,constructor:ce,init:function(t,i,n){var r,a;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:pe.exec(t),!r||!r[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(r[1]){if(i=i instanceof ce?i[0]:i,ce.merge(this,ce.parseHTML(r[1],i&&i.nodeType?i.ownerDocument||i:Z,!0)),me.test(r[1])&&ce.isPlainObject(i))for(r in i)ce.isFunction(this[r])?this[r](i[r]):this.attr(r,i[r]);return this}if(a=Z.getElementById(r[2]),a&&a.parentNode){if(a.id!==r[2])return n.find(t);this.length=1,this[0]=a}return this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ce.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),ce.makeArray(t,this))},selector:"",length:0,toArray:function(){return ae.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=ce.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ce.each(this,t,e)},ready:function(t){return ce.ready.promise().done(t),this},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(ce.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:re,sort:[].sort,splice:[].splice},ce.fn.init.prototype=ce.fn,ce.extend=ce.fn.extend=function(){var t,i,n,r,a,s,o=arguments[0]||{},h=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[1]||{},h=2),"object"==typeof o||ce.isFunction(o)||(o={}),l===h&&(o=this,--h);l>h;h++)if(null!=(a=arguments[h]))for(r in a)t=o[r],n=a[r],o!==n&&(c&&n&&(ce.isPlainObject(n)||(i=ce.isArray(n)))?(i?(i=!1,s=t&&ce.isArray(t)?t:[]):s=t&&ce.isPlainObject(t)?t:{},o[r]=ce.extend(c,s,n)):n!==e&&(o[r]=n));return o},ce.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===ce&&(t.$=J),e&&t.jQuery===ce&&(t.jQuery=Q),ce},isReady:!1,readyWait:1,holdReady:function(t){t?ce.readyWait++:ce.ready(!0)},ready:function(t){if(t===!0?!--ce.readyWait:!ce.isReady){if(!Z.body)return setTimeout(ce.ready);ce.isReady=!0,t!==!0&&--ce.readyWait>0||(X.resolveWith(Z,[ce]),ce.fn.trigger&&ce(Z).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===ce.type(t)},isArray:Array.isArray||function(t){return"array"===ce.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[oe.call(t)]||"object":typeof t},isPlainObject:function(t){var i;if(!t||"object"!==ce.type(t)||t.nodeType||ce.isWindow(t))return!1;try{if(t.constructor&&!he.call(t,"constructor")&&!he.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ce.support.ownLast)for(i in t)return he.call(t,i);for(i in t);return i===e||he.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Z;var n=me.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=ce.buildFragment([t],e,r),r&&ce(r).remove(),ce.merge([],n.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=ce.trim(e),e&&ge.test(e.replace(ye,"@").replace(be,"]").replace(ve,"")))?new Function("return "+e)():(ce.error("Invalid JSON: "+e),void 0)},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(a){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ce.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&ce.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(Ce,"ms-").replace(xe,Ae)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,a=0,s=t.length,o=i(t);if(n){if(o)for(;s>a&&(r=e.apply(t[a],n),r!==!1);a++);else for(a in t)if(r=e.apply(t[a],n),r===!1)break}else if(o)for(;s>a&&(r=e.call(t[a],a,t[a]),r!==!1);a++);else for(a in t)if(r=e.call(t[a],a,t[a]),r===!1)break;return t},trim:le&&!le.call("﻿ ")?function(t){return null==t?"":le.call(t)}:function(t){return null==t?"":(t+"").replace(fe,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ce.merge(n,"string"==typeof t?[t]:t):re.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(se)return se.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,r=t.length,a=0;if("number"==typeof n)for(;n>a;a++)t[r++]=i[a];else for(;i[a]!==e;)t[r++]=i[a++];return t.length=r,t},grep:function(t,e,i){var n,r=[],a=0,s=t.length;for(i=!!i;s>a;a++)n=!!e(t[a],a),i!==n&&r.push(t[a]);return r},map:function(t,e,n){var r,a=0,s=t.length,o=i(t),h=[];if(o)for(;s>a;a++)r=e(t[a],a,n),null!=r&&(h[h.length]=r);else for(a in t)r=e(t[a],a,n),null!=r&&(h[h.length]=r);return ne.apply([],h)},guid:1,proxy:function(t,i){var n,r,a;return"string"==typeof i&&(a=t[i],i=t,t=a),ce.isFunction(t)?(n=ae.call(arguments,2),r=function(){return t.apply(i||this,n.concat(ae.call(arguments)))},r.guid=t.guid=t.guid||ce.guid++,r):e},access:function(t,i,n,r,a,s,o){var h=0,l=t.length,c=null==n;if("object"===ce.type(n)){a=!0;for(h in n)ce.access(t,i,h,n[h],!0,s,o)}else if(r!==e&&(a=!0,ce.isFunction(r)||(o=!0),c&&(o?(i.call(t,r),i=null):(c=i,i=function(t,e,i){return c.call(ce(t),i)})),i))for(;l>h;h++)i(t[h],n,o?r:r.call(t[h],h,i(t[h],n)));return a?t:c?i.call(t):l?i(t[0],n):s},now:function(){return(new Date).getTime()},swap:function(t,e,i,n){var r,a,s={};for(a in e)s[a]=t.style[a],t.style[a]=e[a];r=i.apply(t,n||[]);for(a in e)t.style[a]=s[a];return r}}),ce.ready.promise=function(e){if(!X)if(X=ce.Deferred(),"complete"===Z.readyState)setTimeout(ce.ready);else if(Z.addEventListener)Z.addEventListener("DOMContentLoaded",we,!1),t.addEventListener("load",we,!1);else{Z.attachEvent("onreadystatechange",we),t.attachEvent("onload",we);var i=!1;try{i=null==t.frameElement&&Z.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!ce.isReady){try{i.doScroll("left")}catch(t){return setTimeout(r,50)}Se(),ce.ready()}}()}return X.promise(e)},ce.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),U=ce(Z),/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
function(t,e){function i(t,e,i,n){var r,a,s,o,h,l,c,u,p,m;if((e?e.ownerDocument||e:H)!==B&&R(e),e=e||B,i=i||[],!t||"string"!=typeof t)return i;if(1!==(o=e.nodeType)&&9!==o)return[];if(P&&!n){if(r=be.exec(t))if(s=r[1]){if(9===o){if(a=e.getElementById(s),!a||!a.parentNode)return i;if(a.id===s)return i.push(a),i}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(s))&&z(e,a)&&a.id===s)return i.push(a),i}else{if(r[2])return te.apply(i,e.getElementsByTagName(t)),i;if((s=r[3])&&w.getElementsByClassName&&e.getElementsByClassName)return te.apply(i,e.getElementsByClassName(s)),i}if(w.qsa&&(!L||!L.test(t))){if(u=c=_,p=e,m=9===o&&t,1===o&&"object"!==e.nodeName.toLowerCase()){for(l=d(t),(c=e.getAttribute("id"))?u=c.replace(Ae,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",h=l.length;h--;)l[h]=u+f(l[h]);p=fe.test(t)&&e.parentNode||e,m=l.join(",")}if(m)try{return te.apply(i,p.querySelectorAll(m)),i}catch(g){}finally{c||e.removeAttribute("id")}}}return x(t.replace(le,"$1"),e,i,n)}function n(){function t(i,n){return e.push(i+=" ")>T.cacheLength&&delete t[e.shift()],t[i]=n}var e=[];return t}function r(t){return t[_]=!0,t}function a(t){var e=B.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=t.length;n--;)T.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||$)-(~t.sourceIndex||$);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function h(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(i,n){for(var r,a=t([],i.length,e),s=a.length;s--;)i[r=a[s]]&&(i[r]=!(n[r]=i[r]))})})}function u(){}function d(t,e){var n,r,a,s,o,h,l,c=G[t+" "];if(c)return e?0:c.slice(0);for(o=t,h=[],l=T.preFilter;o;){(!n||(r=ue.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),h.push(a=[])),n=!1,(r=de.exec(o))&&(n=r.shift(),a.push({value:n,type:r[0].replace(le," ")}),o=o.slice(n.length));for(s in T.filter)!(r=ve[s].exec(o))||l[s]&&!(r=l[s](r))||(n=r.shift(),a.push({value:n,type:s,matches:r}),o=o.slice(n.length));if(!n)break}return e?o.length:o?i.error(t):G(t,h).slice(0)}function f(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,r=i&&"parentNode"===n,a=W++;return e.first?function(e,i,a){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,a)}:function(e,i,s){var o,h,l,c=V+" "+a;if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r)if(l=e[_]||(e[_]={}),(h=l[n])&&h[0]===c){if((o=h[1])===!0||o===S)return o===!0}else if(h=l[n]=[c],h[1]=t(e,i,s)||S,h[1]===!0)return!0}}function m(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function g(t,e,i,n,r){for(var a,s=[],o=0,h=t.length,l=null!=e;h>o;o++)(a=t[o])&&(!i||i(a,n,r))&&(s.push(a),l&&e.push(o));return s}function v(t,e,i,n,a,s){return n&&!n[_]&&(n=v(n)),a&&!a[_]&&(a=v(a,s)),r(function(r,s,o,h){var l,c,u,d=[],f=[],p=s.length,m=r||C(e||"*",o.nodeType?[o]:o,[]),v=!t||!r&&e?m:g(m,d,t,o,h),y=i?a||(r?t:p||n)?[]:s:v;if(i&&i(v,y,o,h),n)for(l=g(y,f),n(l,[],o,h),c=l.length;c--;)(u=l[c])&&(y[f[c]]=!(v[f[c]]=u));if(r){if(a||t){if(a){for(l=[],c=y.length;c--;)(u=y[c])&&l.push(v[c]=u);a(null,y=[],l,h)}for(c=y.length;c--;)(u=y[c])&&(l=a?ie.call(r,u):d[c])>-1&&(r[l]=!(s[l]=u))}}else y=g(y===s?y.splice(p,y.length):y),a?a(null,s,y,h):te.apply(s,y)})}function y(t){for(var e,i,n,r=t.length,a=T.relative[t[0].type],s=a||T.relative[" "],o=a?1:0,h=p(function(t){return t===e},s,!0),l=p(function(t){return ie.call(e,t)>-1},s,!0),c=[function(t,i,n){return!a&&(n||i!==k)||((e=i).nodeType?h(t,i,n):l(t,i,n))}];r>o;o++)if(i=T.relative[t[o].type])c=[p(m(c),i)];else{if(i=T.filter[t[o].type].apply(null,t[o].matches),i[_]){for(n=++o;r>n&&!T.relative[t[n].type];n++);return v(o>1&&m(c),o>1&&f(t.slice(0,o-1).concat({value:" "===t[o-2].type?"*":""})).replace(le,"$1"),i,n>o&&y(t.slice(o,n)),r>n&&y(t=t.slice(n)),r>n&&f(t))}c.push(i)}return m(c)}function b(t,e){var n=0,a=e.length>0,s=t.length>0,o=function(r,o,h,l,c){var u,d,f,p=[],m=0,v="0",y=r&&[],b=null!=c,C=k,x=r||s&&T.find.TAG("*",c&&o.parentNode||o),A=V+=null==C?1:Math.random()||.1;for(b&&(k=o!==B&&o,S=n);null!=(u=x[v]);v++){if(s&&u){for(d=0;f=t[d++];)if(f(u,o,h)){l.push(u);break}b&&(V=A,S=++n)}a&&((u=!f&&u)&&m--,r&&y.push(u))}if(m+=v,a&&v!==m){for(d=0;f=e[d++];)f(y,p,o,h);if(r){if(m>0)for(;v--;)y[v]||p[v]||(p[v]=Q.call(l));p=g(p)}te.apply(l,p),b&&!r&&p.length>0&&m+e.length>1&&i.uniqueSort(l)}return b&&(V=A,k=C),y};return a?r(o):o}function C(t,e,n){for(var r=0,a=e.length;a>r;r++)i(t,e[r],n);return n}function x(t,e,i,n){var r,a,s,o,h,l=d(t);if(!n&&1===l.length){if(a=l[0]=l[0].slice(0),a.length>2&&"ID"===(s=a[0]).type&&w.getById&&9===e.nodeType&&P&&T.relative[a[1].type]){if(e=(T.find.ID(s.matches[0].replace(we,Se),e)||[])[0],!e)return i;t=t.slice(a.shift().value.length)}for(r=ve.needsContext.test(t)?0:a.length;r--&&(s=a[r],!T.relative[o=s.type]);)if((h=T.find[o])&&(n=h(s.matches[0].replace(we,Se),fe.test(a[0].type)&&e.parentNode||e))){if(a.splice(r,1),t=n.length&&f(a),!t)return te.apply(i,n),i;break}}return D(t,l)(n,e,!P,i,fe.test(t)),i}var A,w,S,T,N,E,D,k,M,R,B,O,P,L,F,I,z,_="sizzle"+-new Date,H=t.document,V=0,W=0,j=n(),G=n(),Y=n(),X=!1,U=function(t,e){return t===e?(X=!0,0):0},q=typeof e,$=1<<31,Z={}.hasOwnProperty,K=[],Q=K.pop,J=K.push,te=K.push,ee=K.slice,ie=K.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=ae.replace("w","w#"),oe="\\["+re+"*("+ae+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+se+")|)|)"+re+"*\\]",he=":("+ae+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+oe.replace(3,8)+")*)|.*)\\)|)",le=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ue=new RegExp("^"+re+"*,"+re+"*"),de=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp(re+"*[+~]"),pe=new RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),me=new RegExp(he),ge=new RegExp("^"+se+"$"),ve={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+he),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ce=/^(?:input|select|textarea|button)$/i,xe=/^h\d$/i,Ae=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Se=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{te.apply(K=ee.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(Te){te={apply:K.length?function(t,e){J.apply(t,ee.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}E=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},w=i.support={},R=i.setDocument=function(t){var e=t?t.ownerDocument||t:H,i=e.defaultView;return e!==B&&9===e.nodeType&&e.documentElement?(B=e,O=e.documentElement,P=!E(e),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){R()}),w.attributes=a(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=a(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=a(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),w.getById=a(function(t){return O.appendChild(t).id=_,!e.getElementsByName||!e.getElementsByName(_).length}),w.getById?(T.find.ID=function(t,e){if(typeof e.getElementById!==q&&P){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},T.filter.ID=function(t){var e=t.replace(we,Se);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(we,Se);return function(t){var i=typeof t.getAttributeNode!==q&&t.getAttributeNode("id");return i&&i.value===e}}),T.find.TAG=w.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==q?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},T.find.CLASS=w.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==q&&P?e.getElementsByClassName(t):void 0},F=[],L=[],(w.qsa=ye.test(e.querySelectorAll))&&(a(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||L.push("\\["+re+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||L.push(":checked")}),a(function(t){var i=e.createElement("input");i.setAttribute("type","hidden"),t.appendChild(i).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&L.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=ye.test(I=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&a(function(t){w.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),F.push("!=",he)}),L=L.length&&new RegExp(L.join("|")),F=F.length&&new RegExp(F.join("|")),z=ye.test(O.contains)||O.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=O.compareDocumentPosition?function(t,i){if(t===i)return X=!0,0;var n=i.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(i);return n?1&n||!w.sortDetached&&i.compareDocumentPosition(t)===n?t===e||z(H,t)?-1:i===e||z(H,i)?1:M?ie.call(M,t)-ie.call(M,i):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,i){var n,r=0,a=t.parentNode,s=i.parentNode,h=[t],l=[i];if(t===i)return X=!0,0;if(!a||!s)return t===e?-1:i===e?1:a?-1:s?1:M?ie.call(M,t)-ie.call(M,i):0;if(a===s)return o(t,i);for(n=t;n=n.parentNode;)h.unshift(n);for(n=i;n=n.parentNode;)l.unshift(n);for(;h[r]===l[r];)r++;return r?o(h[r],l[r]):h[r]===H?-1:l[r]===H?1:0},e):B},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==B&&R(t),e=e.replace(pe,"='$1']"),!(!w.matchesSelector||!P||F&&F.test(e)||L&&L.test(e)))try{var n=I.call(t,e);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return i(e,B,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==B&&R(t),z(t,e)},i.attr=function(t,i){(t.ownerDocument||t)!==B&&R(t);var n=T.attrHandle[i.toLowerCase()],r=n&&Z.call(T.attrHandle,i.toLowerCase())?n(t,i,!P):e;return r===e?w.attributes||!P?t.getAttribute(i):(r=t.getAttributeNode(i))&&r.specified?r.value:null:r},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],n=0,r=0;if(X=!w.detectDuplicates,M=!w.sortStable&&t.slice(0),t.sort(U),X){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return t},N=i.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=N(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n];n++)i+=N(e);return i},T=i.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,Se),t[3]=(t[4]||t[5]||"").replace(we,Se),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var i,n=!t[5]&&t[2];return ve.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:n&&me.test(n)&&(i=d(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(t[0]=t[0].slice(0,i),t[2]=n.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,Se).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==q&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var a=i.attr(r,t);return null==a?"!="===e:e?(a+="","="===e?a===n:"!="===e?a!==n:"^="===e?n&&0===a.indexOf(n):"*="===e?n&&a.indexOf(n)>-1:"$="===e?n&&a.slice(-n.length)===n:"~="===e?(" "+a+" ").indexOf(n)>-1:"|="===e?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,r){var a="nth"!==t.slice(0,3),s="last"!==t.slice(-4),o="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,h){var l,c,u,d,f,p,m=a!==s?"nextSibling":"previousSibling",g=e.parentNode,v=o&&e.nodeName.toLowerCase(),y=!h&&!o;if(g){if(a){for(;m;){for(u=e;u=u[m];)if(o?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(c=g[_]||(g[_]={}),l=c[t]||[],f=l[0]===V&&l[1],d=l[0]===V&&l[2],u=f&&g.childNodes[f];u=++f&&u&&u[m]||(d=f=0)||p.pop();)if(1===u.nodeType&&++d&&u===e){c[t]=[V,f,d];break}}else if(y&&(l=(e[_]||(e[_]={}))[t])&&l[0]===V)d=l[1];else for(;(u=++f&&u&&u[m]||(d=f=0)||p.pop())&&((o?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(y&&((u[_]||(u[_]={}))[t]=[V,d]),u!==e)););return d-=r,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(t,e){var n,a=T.pseudos[t]||T.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return a[_]?a(e):a.length>1?(n=[t,t,"",e],T.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,i){for(var n,r=a(t,e),s=r.length;s--;)n=ie.call(t,r[s]),t[n]=!(i[n]=r[s])}):function(t){return a(t,0,n)}):a}},pseudos:{not:r(function(t){var e=[],i=[],n=D(t.replace(le,"$1"));return n[_]?r(function(t,e,i,r){for(var a,s=n(t,null,r,[]),o=t.length;o--;)(a=s[o])&&(t[o]=!(e[o]=a))}):function(t,r,a){return e[0]=t,n(e,null,a,i),!i.pop()}}),has:r(function(t){return function(e){return i(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||N(e)).indexOf(t)>-1}}),lang:r(function(t){return ge.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(we,Se).toLowerCase(),function(e){var i;do if(i=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return xe.test(t.nodeName)},input:function(t){return Ce.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[0>i?i+e:i]}),even:c(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},T.pseudos.nth=T.pseudos.eq;for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[A]=h(A);for(A in{submit:!0,reset:!0})T.pseudos[A]=l(A);u.prototype=T.filters=T.pseudos,T.setFilters=new u,D=i.compile=function(t,e){var i,n=[],r=[],a=Y[t+" "];if(!a){for(e||(e=d(t)),i=e.length;i--;)a=y(e[i]),a[_]?n.push(a):r.push(a);a=Y(t,b(r,n))}return a},w.sortStable=_.split("").sort(U).join("")===_,w.detectDuplicates=X,R(),w.sortDetached=a(function(t){return 1&t.compareDocumentPosition(B.createElement("div"))}),a(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&a(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),a(function(t){return null==t.getAttribute("disabled")})||s(ne,function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&n.specified?n.value:t[e]===!0?e.toLowerCase():null}),ce.find=i,ce.expr=i.selectors,ce.expr[":"]=ce.expr.pseudos,ce.unique=i.uniqueSort,ce.text=i.getText,ce.isXMLDoc=i.isXML,ce.contains=i.contains}(t);var Te={};ce.Callbacks=function(t){t="string"==typeof t?Te[t]||n(t):ce.extend({},t);var i,r,a,s,o,h,l=[],c=!t.once&&[],u=function(e){for(r=t.memory&&e,a=!0,o=h||0,h=0,s=l.length,i=!0;l&&s>o;o++)if(l[o].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):r?l=[]:d.disable())},d={add:function(){if(l){var e=l.length;!function n(e){ce.each(e,function(e,i){var r=ce.type(i);"function"===r?t.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),i?s=l.length:r&&(h=e,u(r))}return this},remove:function(){return l&&ce.each(arguments,function(t,e){for(var n;(n=ce.inArray(e,l,n))>-1;)l.splice(n,1),i&&(s>=n&&s--,o>=n&&o--)}),this},has:function(t){return t?ce.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=c=r=e,this},disabled:function(){return!l},lock:function(){return c=e,r||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||a&&!c||(e=e||[],e=[t,e.slice?e.slice():e],i?c.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},ce.extend({Deferred:function(t){var e=[["resolve","done",ce.Callbacks("once memory"),"resolved"],["reject","fail",ce.Callbacks("once memory"),"rejected"],["notify","progress",ce.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ce.Deferred(function(i){ce.each(e,function(e,a){var s=a[0],o=ce.isFunction(t[e])&&t[e];r[a[1]](function(){var t=o&&o.apply(this,arguments);t&&ce.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s+"With"](this===n?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ce.extend(t,n):n}},r={};return n.pipe=n.then,ce.each(e,function(t,a){var s=a[2],o=a[3];n[a[1]]=s.add,o&&s.add(function(){i=o},e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?n:this,arguments),this},r[a[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,a=ae.call(arguments),s=a.length,o=1!==s||t&&ce.isFunction(t.promise)?s:0,h=1===o?t:ce.Deferred(),l=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?ae.call(arguments):r,n===e?h.notifyWith(i,n):--o||h.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)a[r]&&ce.isFunction(a[r].promise)?a[r].promise().done(l(r,n,a)).fail(h.reject).progress(l(r,i,e)):--o;return o||h.resolveWith(n,a),h.promise()}}),ce.support=function(e){var i,n,r,a,s,o,h,l,c,u=Z.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*")||[],n=u.getElementsByTagName("a")[0],!n||!n.style||!i.length)return e;a=Z.createElement("select"),o=a.appendChild(Z.createElement("option")),r=u.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==u.className,e.leadingWhitespace=3===u.firstChild.nodeType,e.tbody=!u.getElementsByTagName("tbody").length,e.htmlSerialize=!!u.getElementsByTagName("link").length,e.style=/top/.test(n.getAttribute("style")),e.hrefNormalized="/a"===n.getAttribute("href"),e.opacity=/^0.5/.test(n.style.opacity),e.cssFloat=!!n.style.cssFloat,e.checkOn=!!r.value,e.optSelected=o.selected,e.enctype=!!Z.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==Z.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,a.disabled=!0,e.optDisabled=!o.disabled;try{delete u.test}catch(d){e.deleteExpando=!1}r=Z.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),s=Z.createDocumentFragment(),s.appendChild(r),e.appendChecked=r.checked,e.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){e.noCloneEvent=!1}),u.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})u.setAttribute(h="on"+c,"t"),e[c+"Bubbles"]=h in t||u.attributes[h].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===u.style.backgroundClip;for(c in ce(e))break;return e.ownLast="0"!==c,ce(function(){var i,n,r,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=Z.getElementsByTagName("body")[0];s&&(i=Z.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(i).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=u.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=l&&0===r[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ce.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===u.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(u,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(u,null)||{width:"4px"}).width,n=u.appendChild(Z.createElement("div")),n.style.cssText=u.style.cssText=a,n.style.marginRight=n.style.width="0",u.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),typeof u.style.zoom!==q&&(u.innerHTML="",u.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==u.offsetWidth,e.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(i),i=u=r=n=null)}),i=a=s=o=n=r=null,e}({});var Ne=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ee=/([A-Z])/g;ce.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ce.cache[t[ce.expando]]:t[ce.expando],!!t&&!o(t)},data:function(t,e,i){return r(t,e,i)},removeData:function(t,e){return a(t,e)},_data:function(t,e,i){return r(t,e,i,!0)},_removeData:function(t,e){return a(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&ce.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),ce.fn.extend({data:function(t,i){var n,r,a=null,o=0,h=this[0];if(t===e){if(this.length&&(a=ce.data(h),1===h.nodeType&&!ce._data(h,"parsedAttrs"))){for(n=h.attributes;o<n.length;o++)r=n[o].name,0===r.indexOf("data-")&&(r=ce.camelCase(r.slice(5)),s(h,r,a[r]));ce._data(h,"parsedAttrs",!0)}return a}return"object"==typeof t?this.each(function(){ce.data(this,t)}):arguments.length>1?this.each(function(){ce.data(this,t,i)}):h?s(h,t,ce.data(h,t)):null},removeData:function(t){return this.each(function(){ce.removeData(this,t)})}}),ce.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=ce._data(t,e),i&&(!n||ce.isArray(i)?n=ce._data(t,e,ce.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ce.queue(t,e),n=i.length,r=i.shift(),a=ce._queueHooks(t,e),s=function(){ce.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete a.stop,r.call(t,s,a)),!n&&a&&a.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ce._data(t,i)||ce._data(t,i,{empty:ce.Callbacks("once memory").add(function(){ce._removeData(t,e+"queue"),ce._removeData(t,i)})})}}),ce.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?ce.queue(this[0],t):i===e?this:this.each(function(){var e=ce.queue(this,t,i);ce._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ce.dequeue(this,t)})},delay:function(t,e){return t=ce.fx?ce.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,r=1,a=ce.Deferred(),s=this,o=this.length,h=function(){--r||a.resolveWith(s,[s])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";o--;)n=ce._data(s[o],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(h));return h(),a.promise(i)}});var De,ke,Me=/[\t\r\n\f]/g,Re=/\r/g,Be=/^(?:input|select|textarea|button|object)$/i,Oe=/^(?:a|area)$/i,Pe=/^(?:checked|selected)$/i,Le=ce.support.getSetAttribute,Fe=ce.support.input;ce.fn.extend({attr:function(t,e){return ce.access(this,ce.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ce.removeAttr(this,t)})},prop:function(t,e){return ce.access(this,ce.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ce.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,r,a,s=0,o=this.length,h="string"==typeof t&&t;if(ce.isFunction(t))return this.each(function(e){ce(this).addClass(t.call(this,e,this.className))});if(h)for(e=(t||"").match(de)||[];o>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Me," "):" ")){for(a=0;r=e[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");i.className=ce.trim(n)}return this},removeClass:function(t){var e,i,n,r,a,s=0,o=this.length,h=0===arguments.length||"string"==typeof t&&t;if(ce.isFunction(t))return this.each(function(e){ce(this).removeClass(t.call(this,e,this.className))});if(h)for(e=(t||"").match(de)||[];o>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Me," "):"")){for(a=0;r=e[a++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");i.className=t?ce.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ce.isFunction(t)?this.each(function(i){ce(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,r=ce(this),a=t.match(de)||[];e=a[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(i===q||"boolean"===i)&&(this.className&&ce._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ce._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Me," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,r,a=this[0];{if(arguments.length)return r=ce.isFunction(t),this.each(function(i){var a;1===this.nodeType&&(a=r?t.call(this,i,ce(this).val()):t,null==a?a="":"number"==typeof a?a+="":ce.isArray(a)&&(a=ce.map(a,function(t){return null==t?"":t+""})),n=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==e||(this.value=a))});if(a)return n=ce.valHooks[a.type]||ce.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(a,"value"))!==e?i:(i=a.value,"string"==typeof i?i.replace(Re,""):null==i?"":i)}}}),ce.extend({valHooks:{option:{get:function(t){var e=ce.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,a="select-one"===t.type||0>r,s=a?null:[],o=a?r+1:n.length,h=0>r?o:a?r:0;o>h;h++)if(i=n[h],!(!i.selected&&h!==r||(ce.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ce.nodeName(i.parentNode,"optgroup"))){if(e=ce(i).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,a=ce.makeArray(e),s=r.length;s--;)n=r[s],(n.selected=ce.inArray(ce(n).val(),a)>=0)&&(i=!0);return i||(t.selectedIndex=-1),a}}},attr:function(t,i,n){var r,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===q?ce.prop(t,i,n):(1===s&&ce.isXMLDoc(t)||(i=i.toLowerCase(),r=ce.attrHooks[i]||(ce.expr.match.bool.test(i)?ke:De)),n===e?r&&"get"in r&&null!==(a=r.get(t,i))?a:(a=ce.find.attr(t,i),null==a?e:a):null!==n?r&&"set"in r&&(a=r.set(t,n,i))!==e?a:(t.setAttribute(i,n+""),n):(ce.removeAttr(t,i),void 0))},removeAttr:function(t,e){var i,n,r=0,a=e&&e.match(de);if(a&&1===t.nodeType)for(;i=a[r++];)n=ce.propFix[i]||i,ce.expr.match.bool.test(i)?Fe&&Le||!Pe.test(i)?t[n]=!1:t[ce.camelCase("default-"+i)]=t[n]=!1:ce.attr(t,i,""),t.removeAttribute(Le?i:n)},attrHooks:{type:{set:function(t,e){if(!ce.support.radioValue&&"radio"===e&&ce.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,i,n){var r,a,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return s=1!==o||!ce.isXMLDoc(t),s&&(i=ce.propFix[i]||i,a=ce.propHooks[i]),n!==e?a&&"set"in a&&(r=a.set(t,n,i))!==e?r:t[i]=n:a&&"get"in a&&null!==(r=a.get(t,i))?r:t[i]},propHooks:{tabIndex:{get:function(t){var e=ce.find.attr(t,"tabindex");return e?parseInt(e,10):Be.test(t.nodeName)||Oe.test(t.nodeName)&&t.href?0:-1}}}}),ke={set:function(t,e,i){return e===!1?ce.removeAttr(t,i):Fe&&Le||!Pe.test(i)?t.setAttribute(!Le&&ce.propFix[i]||i,i):t[ce.camelCase("default-"+i)]=t[i]=!0,i}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(t,i){var n=ce.expr.attrHandle[i]||ce.find.attr;ce.expr.attrHandle[i]=Fe&&Le||!Pe.test(i)?function(t,i,r){var a=ce.expr.attrHandle[i],s=r?e:(ce.expr.attrHandle[i]=e)!=n(t,i,r)?i.toLowerCase():null;return ce.expr.attrHandle[i]=a,s}:function(t,i,n){return n?e:t[ce.camelCase("default-"+i)]?i.toLowerCase():null}}),Fe&&Le||(ce.attrHooks.value={set:function(t,e,i){return ce.nodeName(t,"input")?(t.defaultValue=e,void 0):De&&De.set(t,e,i)}}),Le||(De={set:function(t,i,n){var r=t.getAttributeNode(n);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(n)),r.value=i+="","value"===n||i===t.getAttribute(n)?i:e}},ce.expr.attrHandle.id=ce.expr.attrHandle.name=ce.expr.attrHandle.coords=function(t,i,n){var r;return n?e:(r=t.getAttributeNode(i))&&""!==r.value?r.value:null},ce.valHooks.button={get:function(t,i){var n=t.getAttributeNode(i);return n&&n.specified?n.value:e},set:De.set},ce.attrHooks.contenteditable={set:function(t,e,i){De.set(t,""===e?!1:e,i)}},ce.each(["width","height"],function(t,e){ce.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ce.support.hrefNormalized||ce.each(["href","src"],function(t,e){ce.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ce.support.style||(ce.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""
}}),ce.support.optSelected||(ce.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.support.enctype||(ce.propFix.enctype="encoding"),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(t,e){return ce.isArray(e)?t.checked=ce.inArray(ce(t).val(),e)>=0:void 0}},ce.support.checkOn||(ce.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ie=/^(?:input|select|textarea)$/i,ze=/^key/,_e=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,Ve=/^([^.]*)(?:\.(.+)|)$/;ce.event={global:{},add:function(t,i,n,r,a){var s,o,h,l,c,u,d,f,p,m,g,v=ce._data(t);if(v){for(n.handler&&(l=n,n=l.handler,a=l.selector),n.guid||(n.guid=ce.guid++),(o=v.events)||(o=v.events={}),(u=v.handle)||(u=v.handle=function(t){return typeof ce===q||t&&ce.event.triggered===t.type?e:ce.event.dispatch.apply(u.elem,arguments)},u.elem=t),i=(i||"").match(de)||[""],h=i.length;h--;)s=Ve.exec(i[h])||[],p=g=s[1],m=(s[2]||"").split(".").sort(),p&&(c=ce.event.special[p]||{},p=(a?c.delegateType:c.bindType)||p,c=ce.event.special[p]||{},d=ce.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&ce.expr.match.needsContext.test(a),namespace:m.join(".")},l),(f=o[p])||(f=o[p]=[],f.delegateCount=0,c.setup&&c.setup.call(t,r,m,u)!==!1||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,d):f.push(d),ce.event.global[p]=!0);t=null}},remove:function(t,e,i,n,r){var a,s,o,h,l,c,u,d,f,p,m,g=ce.hasData(t)&&ce._data(t);if(g&&(c=g.events)){for(e=(e||"").match(de)||[""],l=e.length;l--;)if(o=Ve.exec(e[l])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f){for(u=ce.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,d=c[f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),h=a=d.length;a--;)s=d[a],!r&&m!==s.origType||i&&i.guid!==s.guid||o&&!o.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(d.splice(a,1),s.selector&&d.delegateCount--,u.remove&&u.remove.call(t,s));h&&!d.length&&(u.teardown&&u.teardown.call(t,p,g.handle)!==!1||ce.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)ce.event.remove(t,f+e[l],i,n,!0);ce.isEmptyObject(c)&&(delete g.handle,ce._removeData(t,"events"))}},trigger:function(i,n,r,a){var s,o,h,l,c,u,d,f=[r||Z],p=he.call(i,"type")?i.type:i,m=he.call(i,"namespace")?i.namespace.split("."):[];if(h=u=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!He.test(p+ce.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),o=p.indexOf(":")<0&&"on"+p,i=i[ce.expando]?i:new ce.Event(p,"object"==typeof i&&i),i.isTrigger=a?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=r),n=null==n?[i]:ce.makeArray(n,[i]),c=ce.event.special[p]||{},a||!c.trigger||c.trigger.apply(r,n)!==!1)){if(!a&&!c.noBubble&&!ce.isWindow(r)){for(l=c.delegateType||p,He.test(l+p)||(h=h.parentNode);h;h=h.parentNode)f.push(h),u=h;u===(r.ownerDocument||Z)&&f.push(u.defaultView||u.parentWindow||t)}for(d=0;(h=f[d++])&&!i.isPropagationStopped();)i.type=d>1?l:c.bindType||p,s=(ce._data(h,"events")||{})[i.type]&&ce._data(h,"handle"),s&&s.apply(h,n),s=o&&h[o],s&&ce.acceptData(h)&&s.apply&&s.apply(h,n)===!1&&i.preventDefault();if(i.type=p,!a&&!i.isDefaultPrevented()&&(!c._default||c._default.apply(f.pop(),n)===!1)&&ce.acceptData(r)&&o&&r[p]&&!ce.isWindow(r)){u=r[o],u&&(r[o]=null),ce.event.triggered=p;try{r[p]()}catch(g){}ce.event.triggered=e,u&&(r[o]=u)}return i.result}},dispatch:function(t){t=ce.event.fix(t);var i,n,r,a,s,o=[],h=ae.call(arguments),l=(ce._data(this,"events")||{})[t.type]||[],c=ce.event.special[t.type]||{};if(h[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(o=ce.event.handlers.call(this,t,l),i=0;(a=o[i++])&&!t.isPropagationStopped();)for(t.currentTarget=a.elem,s=0;(r=a.handlers[s++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((ce.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,h),n!==e&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,r,a,s,o=[],h=i.delegateCount,l=t.target;if(h&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(a=[],s=0;h>s;s++)r=i[s],n=r.selector+" ",a[n]===e&&(a[n]=r.needsContext?ce(n,this).index(l)>=0:ce.find(n,this,null,[l]).length),a[n]&&a.push(r);a.length&&o.push({elem:l,handlers:a})}return h<i.length&&o.push({elem:this,handlers:i.slice(h)}),o},fix:function(t){if(t[ce.expando])return t;var e,i,n,r=t.type,a=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=_e.test(r)?this.mouseHooks:ze.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new ce.Event(a),e=n.length;e--;)i=n[e],t[i]=a[i];return t.target||(t.target=a.srcElement||Z),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,a):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,r,a,s=i.button,o=i.fromElement;return null==t.pageX&&null!=i.clientX&&(r=t.target.ownerDocument||Z,a=r.documentElement,n=r.body,t.pageX=i.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),t.pageY=i.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?i.toElement:o),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ce.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ce.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=ce.extend(new ce.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?ce.event.trigger(r,null,e):ce.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},ce.removeEvent=Z.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===q&&(t[n]=null),t.detachEvent(n,i))},ce.Event=function(t,e){return this instanceof ce.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?h:l):this.type=t,e&&ce.extend(this,e),this.timeStamp=t&&t.timeStamp||ce.now(),this[ce.expando]=!0,void 0):new ce.Event(t,e)},ce.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()}},ce.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ce.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,a=t.handleObj;return(!r||r!==n&&!ce.contains(n,r))&&(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),ce.support.submitBubbles||(ce.event.special.submit={setup:function(){return ce.nodeName(this,"form")?!1:(ce.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=ce.nodeName(i,"input")||ce.nodeName(i,"button")?i.form:e;n&&!ce._data(n,"submitBubbles")&&(ce.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ce._data(n,"submitBubbles",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ce.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ce.nodeName(this,"form")?!1:(ce.event.remove(this,"._submit"),void 0)}}),ce.support.changeBubbles||(ce.event.special.change={setup:function(){return Ie.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ce.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ce.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ce.event.simulate("change",this,t,!0)})),!1):(ce.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ie.test(e.nodeName)&&!ce._data(e,"changeBubbles")&&(ce.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ce.event.simulate("change",this.parentNode,t,!0)}),ce._data(e,"changeBubbles",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ce.event.remove(this,"._change"),!Ie.test(this.nodeName)}}),ce.support.focusinBubbles||ce.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){ce.event.simulate(e,t.target,ce.event.fix(t),!0)};ce.event.special[e]={setup:function(){0===i++&&Z.addEventListener(t,n,!0)},teardown:function(){0===--i&&Z.removeEventListener(t,n,!0)}}}),ce.fn.extend({on:function(t,i,n,r,a){var s,o;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(s in t)this.on(s,i,n,t[s],a);return this}if(null==n&&null==r?(r=i,n=i=e):null==r&&("string"==typeof i?(r=n,n=e):(r=n,n=i,i=e)),r===!1)r=l;else if(!r)return this;return 1===a&&(o=r,r=function(t){return ce().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=ce.guid++)),this.each(function(){ce.event.add(this,t,r,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var r,a;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ce(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(a in t)this.off(a,i,t[a]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=l),this.each(function(){ce.event.remove(this,t,n,i)})},trigger:function(t,e){return this.each(function(){ce.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ce.event.trigger(t,e,i,!0):void 0}});var We=/^.[^:#\[\.,]*$/,je=/^(?:parents|prev(?:Until|All))/,Ge=ce.expr.match.needsContext,Ye={children:!0,contents:!0,next:!0,prev:!0};ce.fn.extend({find:function(t){var e,i=[],n=this,r=n.length;if("string"!=typeof t)return this.pushStack(ce(t).filter(function(){for(e=0;r>e;e++)if(ce.contains(n[e],this))return!0}));for(e=0;r>e;e++)ce.find(t,n[e],i);return i=this.pushStack(r>1?ce.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e,i=ce(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(ce.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!d(this,"string"==typeof t&&Ge.test(t)?ce(t):t||[],!1).length},closest:function(t,e){for(var i,n=0,r=this.length,a=[],s=Ge.test(t)||"string"!=typeof t?ce(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ce.find.matchesSelector(i,t))){i=a.push(i);break}return this.pushStack(a.length>1?ce.unique(a):a)},index:function(t){return t?"string"==typeof t?ce.inArray(this[0],ce(t)):ce.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?ce(t,e):ce.makeArray(t&&t.nodeType?[t]:t),n=ce.merge(this.get(),i);return this.pushStack(ce.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ce.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ce.dir(t,"parentNode")},parentsUntil:function(t,e,i){return ce.dir(t,"parentNode",i)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return ce.dir(t,"nextSibling")},prevAll:function(t){return ce.dir(t,"previousSibling")},nextUntil:function(t,e,i){return ce.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return ce.dir(t,"previousSibling",i)},siblings:function(t){return ce.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ce.sibling(t.firstChild)},contents:function(t){return ce.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ce.merge([],t.childNodes)}},function(t,e){ce.fn[t]=function(i,n){var r=ce.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=ce.filter(n,r)),this.length>1&&(Ye[t]||(r=ce.unique(r)),je.test(t)&&(r=r.reverse())),this.pushStack(r)}}),ce.extend({filter:function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ce.find.matchesSelector(n,t)?[n]:[]:ce.find.matches(t,ce.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,n){for(var r=[],a=t[i];a&&9!==a.nodeType&&(n===e||1!==a.nodeType||!ce(a).is(n));)1===a.nodeType&&r.push(a),a=a[i];return r},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var Xe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ue=/ jQuery\d+="(?:null|\d+)"/g,qe=new RegExp("<(?:"+Xe+")[\\s/>]","i"),$e=/^\s+/,Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ke=/<([\w:]+)/,Qe=/<tbody/i,Je=/<|&#?\w+;/,ti=/<(?:script|style|link)/i,ei=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,ri=/^true\/(.*)/,ai=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,si={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},oi=f(Z),hi=oi.appendChild(Z.createElement("div"));si.optgroup=si.option,si.tbody=si.tfoot=si.colgroup=si.caption=si.thead,si.th=si.td,ce.fn.extend({text:function(t){return ce.access(this,function(t){return t===e?ce.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?ce.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||ce.cleanData(C(i)),i.parentNode&&(e&&ce.contains(i.ownerDocument,i)&&v(C(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ce.cleanData(C(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ce.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ce.clone(this,t,e)})},html:function(t){return ce.access(this,function(t){var i=this[0]||{},n=0,r=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Ue,""):e;if(!("string"!=typeof t||ti.test(t)||!ce.support.htmlSerialize&&qe.test(t)||!ce.support.leadingWhitespace&&$e.test(t)||si[(Ke.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ze,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(ce.cleanData(C(i,!1)),i.innerHTML=t);i=0}catch(a){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=ce.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var n=t[e++],r=t[e++];r&&(n&&n.parentNode!==r&&(n=this.nextSibling),ce(this).remove(),r.insertBefore(i,n))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=ne.apply([],t);var n,r,a,s,o,h,l=0,c=this.length,u=this,d=c-1,f=t[0],p=ce.isFunction(f);if(p||!(1>=c||"string"!=typeof f||ce.support.checkClone)&&ii.test(f))return this.each(function(n){var r=u.eq(n);p&&(t[0]=f.call(this,n,r.html())),r.domManip(t,e,i)});if(c&&(h=ce.buildFragment(t,this[0].ownerDocument,!1,!i&&this),n=h.firstChild,1===h.childNodes.length&&(h=n),n)){for(s=ce.map(C(h,"script"),m),a=s.length;c>l;l++)r=h,l!==d&&(r=ce.clone(r,!0,!0),a&&ce.merge(s,C(r,"script"))),e.call(this[l],r,l);if(a)for(o=s[s.length-1].ownerDocument,ce.map(s,g),l=0;a>l;l++)r=s[l],ni.test(r.type||"")&&!ce._data(r,"globalEval")&&ce.contains(o,r)&&(r.src?ce._evalUrl(r.src):ce.globalEval((r.text||r.textContent||r.innerHTML||"").replace(ai,"")));h=n=null}return this}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ce.fn[t]=function(t){for(var i,n=0,r=[],a=ce(t),s=a.length-1;s>=n;n++)i=n===s?this:this.clone(!0),ce(a[n])[e](i),re.apply(r,i.get());return this.pushStack(r)}}),ce.extend({clone:function(t,e,i){var n,r,a,s,o,h=ce.contains(t.ownerDocument,t);if(ce.support.html5Clone||ce.isXMLDoc(t)||!qe.test("<"+t.nodeName+">")?a=t.cloneNode(!0):(hi.innerHTML=t.outerHTML,hi.removeChild(a=hi.firstChild)),!(ce.support.noCloneEvent&&ce.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ce.isXMLDoc(t)))for(n=C(a),o=C(t),s=0;null!=(r=o[s]);++s)n[s]&&b(r,n[s]);if(e)if(i)for(o=o||C(t),n=n||C(a),s=0;null!=(r=o[s]);s++)y(r,n[s]);else y(t,a);return n=C(a,"script"),n.length>0&&v(n,!h&&C(t,"script")),n=o=r=null,a},buildFragment:function(t,e,i,n){for(var r,a,s,o,h,l,c,u=t.length,d=f(e),p=[],m=0;u>m;m++)if(a=t[m],a||0===a)if("object"===ce.type(a))ce.merge(p,a.nodeType?[a]:a);else if(Je.test(a)){for(o=o||d.appendChild(e.createElement("div")),h=(Ke.exec(a)||["",""])[1].toLowerCase(),c=si[h]||si._default,o.innerHTML=c[1]+a.replace(Ze,"<$1></$2>")+c[2],r=c[0];r--;)o=o.lastChild;if(!ce.support.leadingWhitespace&&$e.test(a)&&p.push(e.createTextNode($e.exec(a)[0])),!ce.support.tbody)for(a="table"!==h||Qe.test(a)?"<table>"!==c[1]||Qe.test(a)?0:o:o.firstChild,r=a&&a.childNodes.length;r--;)ce.nodeName(l=a.childNodes[r],"tbody")&&!l.childNodes.length&&a.removeChild(l);for(ce.merge(p,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=d.lastChild}else p.push(e.createTextNode(a));for(o&&d.removeChild(o),ce.support.appendChecked||ce.grep(C(p,"input"),x),m=0;a=p[m++];)if((!n||-1===ce.inArray(a,n))&&(s=ce.contains(a.ownerDocument,a),o=C(d.appendChild(a),"script"),s&&v(o),i))for(r=0;a=o[r++];)ni.test(a.type||"")&&i.push(a);return o=null,d},cleanData:function(t,e){for(var i,n,r,a,s=0,o=ce.expando,h=ce.cache,l=ce.support.deleteExpando,c=ce.event.special;null!=(i=t[s]);s++)if((e||ce.acceptData(i))&&(r=i[o],a=r&&h[r])){if(a.events)for(n in a.events)c[n]?ce.event.remove(i,n):ce.removeEvent(i,n,a.handle);h[r]&&(delete h[r],l?delete i[o]:typeof i.removeAttribute!==q?i.removeAttribute(o):i[o]=null,ee.push(r))}},_evalUrl:function(t){return ce.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ce.fn.extend({wrapAll:function(t){if(ce.isFunction(t))return this.each(function(e){ce(this).wrapAll(t.call(this,e))});if(this[0]){var e=ce(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ce.isFunction(t)?this.each(function(e){ce(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ce(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ce.isFunction(t);return this.each(function(i){ce(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ce.nodeName(this,"body")||ce(this).replaceWith(this.childNodes)}).end()}});var li,ci,ui,di=/alpha\([^)]*\)/i,fi=/opacity\s*=\s*([^)]*)/,pi=/^(top|right|bottom|left)$/,mi=/^(none|table(?!-c[ea]).+)/,gi=/^margin/,vi=new RegExp("^("+ue+")(.*)$","i"),yi=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),bi=new RegExp("^([+-])=("+ue+")","i"),Ci={BODY:"block"},xi={position:"absolute",visibility:"hidden",display:"block"},Ai={letterSpacing:0,fontWeight:400},wi=["Top","Right","Bottom","Left"],Si=["Webkit","O","Moz","ms"];ce.fn.extend({css:function(t,i){return ce.access(this,function(t,i,n){var r,a,s={},o=0;if(ce.isArray(i)){for(a=ci(t),r=i.length;r>o;o++)s[i[o]]=ce.css(t,i[o],!1,a);return s}return n!==e?ce.style(t,i,n):ce.css(t,i)},t,i,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){w(this)?ce(this).show():ce(this).hide()})}}),ce.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ui(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ce.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,s,o,h=ce.camelCase(i),l=t.style;if(i=ce.cssProps[h]||(ce.cssProps[h]=A(l,h)),o=ce.cssHooks[i]||ce.cssHooks[h],n===e)return o&&"get"in o&&(a=o.get(t,!1,r))!==e?a:l[i];if(s=typeof n,"string"===s&&(a=bi.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(ce.css(t,i)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||ce.cssNumber[h]||(n+="px"),ce.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(l[i]="inherit"),o&&"set"in o&&(n=o.set(t,n,r))===e)))try{l[i]=n}catch(c){}}},css:function(t,i,n,r){var a,s,o,h=ce.camelCase(i);return i=ce.cssProps[h]||(ce.cssProps[h]=A(t.style,h)),o=ce.cssHooks[i]||ce.cssHooks[h],o&&"get"in o&&(s=o.get(t,!0,n)),s===e&&(s=ui(t,i,r)),"normal"===s&&i in Ai&&(s=Ai[i]),""===n||n?(a=parseFloat(s),n===!0||ce.isNumeric(a)?a||0:s):s}}),t.getComputedStyle?(ci=function(e){return t.getComputedStyle(e,null)},ui=function(t,i,n){var r,a,s,o=n||ci(t),h=o?o.getPropertyValue(i)||o[i]:e,l=t.style;return o&&(""!==h||ce.contains(t.ownerDocument,t)||(h=ce.style(t,i)),yi.test(h)&&gi.test(i)&&(r=l.width,a=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=h,h=o.width,l.width=r,l.minWidth=a,l.maxWidth=s)),h}):Z.documentElement.currentStyle&&(ci=function(t){return t.currentStyle},ui=function(t,i,n){var r,a,s,o=n||ci(t),h=o?o[i]:e,l=t.style;return null==h&&l&&l[i]&&(h=l[i]),yi.test(h)&&!pi.test(i)&&(r=l.left,a=t.runtimeStyle,s=a&&a.left,s&&(a.left=t.currentStyle.left),l.left="fontSize"===i?"1em":h,h=l.pixelLeft+"px",l.left=r,s&&(a.left=s)),""===h?"auto":h}),ce.each(["height","width"],function(t,e){ce.cssHooks[e]={get:function(t,i,n){return i?0===t.offsetWidth&&mi.test(ce.css(t,"display"))?ce.swap(t,xi,function(){return E(t,e,n)}):E(t,e,n):void 0},set:function(t,i,n){var r=n&&ci(t);return T(t,i,n?N(t,e,n,ce.support.boxSizing&&"border-box"===ce.css(t,"boxSizing",!1,r),r):0)}}}),ce.support.opacity||(ce.cssHooks.opacity={get:function(t,e){return fi.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=ce.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ce.trim(a.replace(di,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=di.test(a)?a.replace(di,r):a+" "+r)}}),ce(function(){ce.support.reliableMarginRight||(ce.cssHooks.marginRight={get:function(t,e){return e?ce.swap(t,{display:"inline-block"},ui,[t,"marginRight"]):void 0}}),!ce.support.pixelPosition&&ce.fn.position&&ce.each(["top","left"],function(t,e){ce.cssHooks[e]={get:function(t,i){return i?(i=ui(t,e),yi.test(i)?ce(t).position()[e]+"px":i):void 0}}})}),ce.expr&&ce.expr.filters&&(ce.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ce.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ce.css(t,"display"))},ce.expr.filters.visible=function(t){return!ce.expr.filters.hidden(t)}),ce.each({margin:"",padding:"",border:"Width"},function(t,e){ce.cssHooks[t+e]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+wi[n]+e]=a[n]||a[n-2]||a[0];return r}},gi.test(t)||(ce.cssHooks[t+e].set=T)});var Ti=/%20/g,Ni=/\[\]$/,Ei=/\r?\n/g,Di=/^(?:submit|button|image|reset|file)$/i,ki=/^(?:input|select|textarea|keygen)/i;ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ce.prop(this,"elements");return t?ce.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ce(this).is(":disabled")&&ki.test(this.nodeName)&&!Di.test(t)&&(this.checked||!ei.test(t))}).map(function(t,e){var i=ce(this).val();return null==i?null:ce.isArray(i)?ce.map(i,function(t){return{name:e.name,value:t.replace(Ei,"\r\n")}}):{name:e.name,value:i.replace(Ei,"\r\n")}}).get()}}),ce.param=function(t,i){var n,r=[],a=function(t,e){e=ce.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=ce.ajaxSettings&&ce.ajaxSettings.traditional),ce.isArray(t)||t.jquery&&!ce.isPlainObject(t))ce.each(t,function(){a(this.name,this.value)});else for(n in t)M(n,t[n],i,a);return r.join("&").replace(Ti,"+")},ce.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ce.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ce.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Mi,Ri,Bi=ce.now(),Oi=/\?/,Pi=/#.*$/,Li=/([?&])_=[^&]*/,Fi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ii=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zi=/^(?:GET|HEAD)$/,_i=/^\/\//,Hi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Vi=ce.fn.load,Wi={},ji={},Gi="*/".concat("*");try{Ri=$.href}catch(Yi){Ri=Z.createElement("a"),Ri.href="",Ri=Ri.href}Mi=Hi.exec(Ri.toLowerCase())||[],ce.fn.load=function(t,i,n){if("string"!=typeof t&&Vi)return Vi.apply(this,arguments);var r,a,s,o=this,h=t.indexOf(" ");return h>=0&&(r=t.slice(h,t.length),t=t.slice(0,h)),ce.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(s="POST"),o.length>0&&ce.ajax({url:t,type:s,dataType:"html",data:i}).done(function(t){a=arguments,o.html(r?ce("<div>").append(ce.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){o.each(n,a||[t.responseText,e,t])}),this},ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ce.fn[e]=function(t){return this.on(e,t)}}),ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ri,type:"GET",isLocal:Ii.test(Mi[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ce.parseJSON,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?O(O(t,ce.ajaxSettings),e):O(ce.ajaxSettings,t)},ajaxPrefilter:R(Wi),ajaxTransport:R(ji),ajax:function(t,i){function n(t,i,n,r){var a,u,y,b,x,w=i;2!==C&&(C=2,h&&clearTimeout(h),c=e,o=r||"",A.readyState=t>0?4:0,a=t>=200&&300>t||304===t,n&&(b=P(d,A,n)),b=L(d,b,A,a),a?(d.ifModified&&(x=A.getResponseHeader("Last-Modified"),x&&(ce.lastModified[s]=x),x=A.getResponseHeader("etag"),x&&(ce.etag[s]=x)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,u=b.data,y=b.error,a=!y)):(y=w,(t||!w)&&(w="error",0>t&&(t=0))),A.status=t,A.statusText=(i||w)+"",a?m.resolveWith(f,[u,w,A]):m.rejectWith(f,[A,w,y]),A.statusCode(v),v=e,l&&p.trigger(a?"ajaxSuccess":"ajaxError",[A,d,a?u:y]),g.fireWith(f,[A,w]),l&&(p.trigger("ajaxComplete",[A,d]),--ce.active||ce.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var r,a,s,o,h,l,c,u,d=ce.ajaxSetup({},i),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ce(f):ce.event,m=ce.Deferred(),g=ce.Callbacks("once memory"),v=d.statusCode||{},y={},b={},C=0,x="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(2===C){if(!u)for(u={};e=Fi.exec(o);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===C?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return C||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return C||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>C)for(e in t)v[e]=[v[e],t[e]];else A.always(t[A.status]);return this},abort:function(t){var e=t||x;return c&&c.abort(e),n(0,e),this}};if(m.promise(A).complete=g.add,A.success=A.done,A.error=A.fail,d.url=((t||d.url||Ri)+"").replace(Pi,"").replace(_i,Mi[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=ce.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(r=Hi.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Mi[1]&&r[2]===Mi[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Mi[3]||("http:"===Mi[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ce.param(d.data,d.traditional)),B(Wi,d,i,A),2===C)return A;l=d.global,l&&0===ce.active++&&ce.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!zi.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(Oi.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Li.test(s)?s.replace(Li,"$1_="+Bi++):s+(Oi.test(s)?"&":"?")+"_="+Bi++)),d.ifModified&&(ce.lastModified[s]&&A.setRequestHeader("If-Modified-Since",ce.lastModified[s]),ce.etag[s]&&A.setRequestHeader("If-None-Match",ce.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&A.setRequestHeader("Content-Type",d.contentType),A.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Gi+"; q=0.01":""):d.accepts["*"]);for(a in d.headers)A.setRequestHeader(a,d.headers[a]);if(d.beforeSend&&(d.beforeSend.call(f,A,d)===!1||2===C))return A.abort();x="abort";for(a in{success:1,error:1,complete:1})A[a](d[a]);if(c=B(ji,d,i,A)){A.readyState=1,l&&p.trigger("ajaxSend",[A,d]),d.async&&d.timeout>0&&(h=setTimeout(function(){A.abort("timeout")},d.timeout));try{C=1,c.send(y,n)}catch(w){if(!(2>C))throw w;n(-1,w)}}else n(-1,"No Transport");return A},getJSON:function(t,e,i){return ce.get(t,e,i,"json")},getScript:function(t,i){return ce.get(t,e,i,"script")}}),ce.each(["get","post"],function(t,i){ce[i]=function(t,n,r,a){return ce.isFunction(n)&&(a=a||r,r=n,n=e),ce.ajax({url:t,type:i,dataType:a,data:n,success:r})}}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ce.globalEval(t),t}}}),ce.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)
}),ce.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=Z.head||ce("head")[0]||Z.documentElement;return{send:function(e,r){i=Z.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||r(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var Xi=[],Ui=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xi.pop()||ce.expando+"_"+Bi++;return this[t]=!0,t}}),ce.ajaxPrefilter("json jsonp",function(i,n,r){var a,s,o,h=i.jsonp!==!1&&(Ui.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ui.test(i.data)&&"data");return h||"jsonp"===i.dataTypes[0]?(a=i.jsonpCallback=ce.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,h?i[h]=i[h].replace(Ui,"$1"+a):i.jsonp!==!1&&(i.url+=(Oi.test(i.url)?"&":"?")+i.jsonp+"="+a),i.converters["script json"]=function(){return o||ce.error(a+" was not called"),o[0]},i.dataTypes[0]="json",s=t[a],t[a]=function(){o=arguments},r.always(function(){t[a]=s,i[a]&&(i.jsonpCallback=n.jsonpCallback,Xi.push(a)),o&&ce.isFunction(s)&&s(o[0]),o=s=e}),"script"):void 0});var qi,$i,Zi=0,Ki=t.ActiveXObject&&function(){var t;for(t in qi)qi[t](e,!0)};ce.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&F()||I()}:F,$i=ce.ajaxSettings.xhr(),ce.support.cors=!!$i&&"withCredentials"in $i,$i=ce.support.ajax=!!$i,$i&&ce.ajaxTransport(function(i){if(!i.crossDomain||ce.support.cors){var n;return{send:function(r,a){var s,o,h=i.xhr();if(i.username?h.open(i.type,i.url,i.async,i.username,i.password):h.open(i.type,i.url,i.async),i.xhrFields)for(o in i.xhrFields)h[o]=i.xhrFields[o];i.mimeType&&h.overrideMimeType&&h.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(o in r)h.setRequestHeader(o,r[o])}catch(l){}h.send(i.hasContent&&i.data||null),n=function(t,r){var o,l,c,u;try{if(n&&(r||4===h.readyState))if(n=e,s&&(h.onreadystatechange=ce.noop,Ki&&delete qi[s]),r)4!==h.readyState&&h.abort();else{u={},o=h.status,l=h.getAllResponseHeaders(),"string"==typeof h.responseText&&(u.text=h.responseText);try{c=h.statusText}catch(d){c=""}o||!i.isLocal||i.crossDomain?1223===o&&(o=204):o=u.text?200:404}}catch(f){r||a(-1,f)}u&&a(o,c,u,l)},i.async?4===h.readyState?setTimeout(n):(s=++Zi,Ki&&(qi||(qi={},ce(t).unload(Ki)),qi[s]=n),h.onreadystatechange=n):n()},abort:function(){n&&n(e,!0)}}}});var Qi,Ji,tn=/^(?:toggle|show|hide)$/,en=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[W],an={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=en.exec(e),a=r&&r[3]||(ce.cssNumber[t]?"":"px"),s=(ce.cssNumber[t]||"px"!==a&&+n)&&en.exec(ce.css(i.elem,t)),o=1,h=20;if(s&&s[3]!==a){a=a||s[3],r=r||[],s=+n||1;do o=o||".5",s/=o,ce.style(i.elem,t,s+a);while(o!==(o=i.cur()/n)&&1!==o&&--h)}return r&&(s=i.start=+s||+n||0,i.unit=a,i.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),i}]};ce.Animation=ce.extend(H,{tweener:function(t,e){ce.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],an[i]=an[i]||[],an[i].unshift(e)},prefilter:function(t,e){e?rn.unshift(t):rn.push(t)}}),ce.Tween=j,j.prototype={constructor:j,init:function(t,e,i,n,r,a){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=a||(ce.cssNumber[i]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,i=j.propHooks[this.prop];return this.pos=e=this.options.duration?ce.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ce.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ce.fx.step[t.prop]?ce.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ce.cssProps[t.prop]]||ce.cssHooks[t.prop])?ce.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ce.each(["toggle","show","hide"],function(t,e){var i=ce.fn[e];ce.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(G(e,!0),t,n,r)}}),ce.fn.extend({fadeTo:function(t,e,i,n){return this.filter(w).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=ce.isEmptyObject(t),a=ce.speed(e,i,n),s=function(){var e=H(this,ce.extend({},t),a);(r||ce._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(t,i,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",a=ce.timers,s=ce._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&nn.test(i)&&r(s[i]);for(i=a.length;i--;)a[i].elem!==this||null!=t&&a[i].queue!==t||(a[i].anim.stop(n),e=!1,a.splice(i,1));(e||!n)&&ce.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=ce._data(this),n=i[t+"queue"],r=i[t+"queueHooks"],a=ce.timers,s=n?n.length:0;for(i.finish=!0,ce.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ce.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ce.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ce.speed=function(t,e,i){var n=t&&"object"==typeof t?ce.extend({},t):{complete:i||!i&&e||ce.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ce.isFunction(e)&&e};return n.duration=ce.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ce.fx.speeds?ce.fx.speeds[n.duration]:ce.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ce.isFunction(n.old)&&n.old.call(this),n.queue&&ce.dequeue(this,n.queue)},n},ce.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ce.timers=[],ce.fx=j.prototype.init,ce.fx.tick=function(){var t,i=ce.timers,n=0;for(Qi=ce.now();n<i.length;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||ce.fx.stop(),Qi=e},ce.fx.timer=function(t){t()&&ce.timers.push(t)&&ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){Ji||(Ji=setInterval(ce.fx.tick,ce.fx.interval))},ce.fx.stop=function(){clearInterval(Ji),Ji=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fx.step={},ce.expr&&ce.expr.filters&&(ce.expr.filters.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length}),ce.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var i,n,r={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return i=s.documentElement,ce.contains(i,a)?(typeof a.getBoundingClientRect!==q&&(r=a.getBoundingClientRect()),n=Y(s),{top:r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):r},ce.offset={setOffset:function(t,e,i){var n=ce.css(t,"position");"static"===n&&(t.style.position="relative");var r,a,s=ce(t),o=s.offset(),h=ce.css(t,"top"),l=ce.css(t,"left"),c=("absolute"===n||"fixed"===n)&&ce.inArray("auto",[h,l])>-1,u={},d={};c?(d=s.position(),r=d.top,a=d.left):(r=parseFloat(h)||0,a=parseFloat(l)||0),ce.isFunction(e)&&(e=e.call(t,i,o)),null!=e.top&&(u.top=e.top-o.top+r),null!=e.left&&(u.left=e.left-o.left+a),"using"in e?e.using.call(t,u):s.css(u)}},ce.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ce.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ce.nodeName(t[0],"html")||(i=t.offset()),i.top+=ce.css(t[0],"borderTopWidth",!0),i.left+=ce.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ce.css(n,"marginTop",!0),left:e.left-i.left-ce.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||K;t&&!ce.nodeName(t,"html")&&"static"===ce.css(t,"position");)t=t.offsetParent;return t||K})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);ce.fn[t]=function(r){return ce.access(this,function(t,r,a){var s=Y(t);return a===e?s?i in s?s[i]:s.document.documentElement[r]:t[r]:(s?s.scrollTo(n?ce(s).scrollLeft():a,n?a:ce(s).scrollTop()):t[r]=a,void 0)},t,r,arguments.length,null)}}),ce.each({Height:"height",Width:"width"},function(t,i){ce.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,r){ce.fn[r]=function(r,a){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||a===!0?"margin":"border");return ce.access(this,function(i,n,r){var a;return ce.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(a=i.documentElement,Math.max(i.body["scroll"+t],a["scroll"+t],i.body["offset"+t],a["offset"+t],a["client"+t])):r===e?ce.css(i,n,o):ce.style(i,n,r,o)},i,s?r:e,s,null)}})}),ce.fn.size=function(){return this.length},ce.fn.andSelf=ce.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ce:(t.jQuery=t.$=ce,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce}))}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var r=t.Event(i);return e.trigger(r,n),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var r,a,s,o,h,l,c,u;if(i.fire(n,"ajax:before")){if(o=n.data("cross-domain"),h=o===e?null:o,l=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),a=n.attr("action"),s=n.serializeArray();var d=n.data("ujs:submit-button");d&&(s.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),a=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(r=n.data("method")||"get",a=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),a=i.href(n),s=n.data("params")||null);u={type:r||"GET",data:s,dataType:c,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[t,r])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:h},l&&(u.xhrFields={withCredentials:l}),a&&(u.url=a);var f=i.ajax(u);return n.trigger("ajax:send",f),f}return!1},handleMethod:function(n){var r=i.href(n),a=n.data("method"),s=n.attr("target"),o=t("meta[name=csrf-token]").attr("content"),h=t("meta[name=csrf-param]").attr("content"),l=t('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';h!==e&&o!==e&&(c+='<input name="'+h+'" value="'+o+'" type="hidden" />'),s&&l.attr("target",s),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),r=!1;return n?(i.fire(t,"confirm")&&(r=i.confirm(n),e=i.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,i,n){var r,a,s=t(),o=i||"input,textarea",h=e.find(o);return h.each(function(){if(r=t(this),a=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!a==!n){if(r.is("input[type=radio]")&&h.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var r=t(this),a=r.data("method"),s=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||a&&"GET"!==a||s))return!0;var o=i.handleRemote(r);return o===!1?i.enableElement(r):o.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var r=t(this),a=r.data("remote")!==e,s=i.blankInputs(r,i.requiredInputSelector),o=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(s&&r.attr("novalidate")==e&&i.fire(r,"ajax:aborted:required",[s]))return i.stopEverything(n);if(a){if(o){setTimeout(function(){i.disableFormElements(r)},13);var h=i.fire(r,"ajax:aborted:file",[o]);return h||setTimeout(function(){i.enableFormElements(r)},13),h}return i.handleRemote(r),!1}setTimeout(function(){i.disableFormElements(r)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),a=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",a)}),n.delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)}))}(jQuery);/**
 * @license wysihtml5 v0.3.0
 * https://github.com/xing/wysihtml5
 *
 * Author: Christopher Blum (https://github.com/tiff)
 *
 * Copyright (C) 2012 XING AG
 * Licensed under the MIT license (MIT)
 *
 */
var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"﻿",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};/**
 * @license Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Copyright 2011, Tim Down
 * Licensed under the MIT license.
 * Version: 1.2.2
 * Build date: 13 November 2011
 */
window.rangy=function(){function t(t,e){var i=typeof t[e];return i==u||!(i!=c||!t[e])||"unknown"==i}function e(t,e){return!(typeof t[e]!=c||!t[e])}function i(t,e){return typeof t[e]!=d}function n(t){return function(e,i){for(var n=i.length;n--;)if(!t(e,i[n]))return!1;return!0}}function r(t){return t&&v(t,g)&&b(t,m)}function a(t){window.alert("Rangy not supported in your browser. Reason: "+t),C.initialized=!0,C.supported=!1}function s(t){var e="Rangy warning: "+t;C.config.alertOnWarn?window.alert(e):typeof window.console!=d&&typeof window.console.log!=d&&window.console.log(e)}function o(){if(!C.initialized){var i,n=!1,s=!1;t(document,"createRange")&&(i=document.createRange(),v(i,p)&&b(i,f)&&(n=!0),i.detach());var o=e(document,"body")?document.body:document.getElementsByTagName("body")[0];o&&t(o,"createTextRange")&&(i=o.createTextRange(),r(i)&&(s=!0)),n||s||a("Neither Range nor TextRange are implemented"),C.initialized=!0,C.features={implementsDomRange:n,implementsTextRange:s};for(var h=A.concat(x),l=0,c=h.length;c>l;++l)try{h[l](C)}catch(u){e(window,"console")&&t(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",u)}}}function h(t){t=t||window,o();for(var e=0,i=w.length;i>e;++e)w[e](t)}function l(t){this.name=t,this.initialized=!1,this.supported=!1}var c="object",u="function",d="undefined",f=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],p=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],v=n(t),y=n(e),b=n(i),C={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:e,isHostProperty:i,areHostMethods:v,areHostObjects:y,areHostProperties:b,isTextRange:r},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};C.fail=a,C.warn=s,{}.hasOwnProperty?C.util.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}:a("hasOwnProperty not supported");var x=[],A=[];C.init=o,C.addInitListener=function(t){C.initialized?t(C):x.push(t)};var w=[];C.addCreateMissingNativeApiListener=function(t){w.push(t)},C.createMissingNativeApi=h,l.prototype.fail=function(t){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+t)},l.prototype.warn=function(t){C.warn("Module "+this.name+": "+t)},l.prototype.createError=function(t){return new Error("Error in Rangy "+this.name+" module: "+t)},C.createModule=function(t,e){var i=new l(t);C.modules[t]=i,A.push(function(t){e(t,i),i.initialized=!0,i.supported=!0})},C.requireModules=function(t){for(var e,i,n=0,r=t.length;r>n;++n){if(i=t[n],e=C.modules[i],!(e&&e instanceof l))throw new Error("Module '"+i+"' not found");if(!e.supported)throw new Error("Module '"+i+"' not supported")}};var S=!1,T=function(){S||(S=!0,C.initialized||o())};return typeof window==d?(a("No window found"),void 0):typeof document==d?(a("No document found"),void 0):(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",T,!1),t(window,"addEventListener")?window.addEventListener("load",T,!1):t(window,"attachEvent")?window.attachEvent("onload",T):a("Window does not have required addEventListener or attachEvent method"),C)}(),rangy.createModule("DomUtil",function(t,e){function i(t){var e;return typeof t.namespaceURI==T||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function n(t){var e=t.parentNode;return 1==e.nodeType?e:null}function r(t){for(var e=0;t=t.previousSibling;)e++;return e}function a(t){var e;return l(t)?t.length:(e=t.childNodes)?e.length:0}function s(t,e){var i,n=[];for(i=t;i;i=i.parentNode)n.push(i);for(i=e;i;i=i.parentNode)if(k(n,i))return i;return null}function o(t,e,i){for(var n=i?e:e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}function h(t,e,i){for(var n,r=i?t:t.parentNode;r;){if(n=r.parentNode,n===e)return r;r=n}return null}function l(t){var e=t.nodeType;return 3==e||4==e||8==e}function c(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t}function u(t,e){var i=t.cloneNode(!1);return i.deleteData(0,e),t.deleteData(e,t.length-e),c(i,t),i}function d(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=T)return t.ownerDocument;if(typeof t.document!=T)return t.document;if(t.parentNode)return d(t.parentNode);throw new Error("getDocument: no document found for node")}function f(t){var e=d(t);if(typeof e.defaultView!=T)return e.defaultView;if(typeof e.parentWindow!=T)return e.parentWindow;throw new Error("Cannot get a window object for node")}function p(t){if(typeof t.contentDocument!=T)return t.contentDocument;if(typeof t.contentWindow!=T)return t.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function m(t){if(typeof t.contentWindow!=T)return t.contentWindow;if(typeof t.contentDocument!=T)return t.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function g(t){return N.isHostObject(t,"body")?t.body:t.getElementsByTagName("body")[0]}function v(t){for(var e;e=t.parentNode;)t=e;return t}function y(t,e,i,n){var a,o,l,c,u;if(t==i)return e===n?0:n>e?-1:1;if(a=h(i,t,!0))return e<=r(a)?-1:1;if(a=h(t,i,!0))return r(a)<n?-1:1;if(o=s(t,i),l=t===o?o:h(t,o,!0),c=i===o?o:h(i,o,!0),l===c)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(u=o.firstChild;u;){if(u===l)return-1;if(u===c)return 1;u=u.nextSibling}throw new Error("Should not be here!")}function b(t){for(var e,i=d(t).createDocumentFragment();e=t.firstChild;)i.appendChild(e);return i}function C(t){if(!t)return"[No node]";if(l(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">["+t.childNodes.length+"]"}return t.nodeName}function x(t){this.root=t,this._next=t}function A(t){return new x(t)}function w(t,e){this.node=t,this.offset=e}function S(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var T="undefined",N=t.util;N.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),N.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var E=document.createElement("div");N.areHostMethods(E,["insertBefore","appendChild","cloneNode"]||!N.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),N.isHostProperty(E,"innerHTML")||e.fail("Element is missing innerHTML property");var D=document.createTextNode("test");N.areHostMethods(D,["splitText","deleteData","insertData","appendData","cloneNode"]||!N.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"])||!N.areHostProperties(D,["data"]))||e.fail("Incomplete Text Node implementation");var k=function(t,e){for(var i=t.length;i--;)if(t[i]===e)return!0;return!1};x.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,i=this._current=this._next;if(this._current)if(t=i.firstChild)this._next=t;else{for(e=null;i!==this.root&&!(e=i.nextSibling);)i=i.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},w.prototype={equals:function(t){return this.node===t.node&this.offset==t.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"}},S.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},S.prototype.toString=function(){return this.message},t.dom={arrayContains:k,isHtmlNamespace:i,parentElement:n,getNodeIndex:r,getNodeLength:a,getCommonAncestor:s,isAncestorOf:o,getClosestAncestorIn:h,isCharacterDataNode:l,insertAfter:c,splitDataNode:u,getDocument:d,getWindow:f,getIframeWindow:m,getIframeDocument:p,getBody:g,getRootContainer:v,comparePoints:y,inspectNode:C,fragmentFromNodeChildren:b,createIterator:A,DomPosition:w},t.DOMException=S}),rangy.createModule("DomRange",function(t){function e(t,e){return 3!=t.nodeType&&(F.isAncestorOf(t,e.startContainer,!0)||F.isAncestorOf(t,e.endContainer,!0))}function i(t){return F.getDocument(t.startContainer)}function n(t,e,i){var n=t._listeners[e];if(n)for(var r=0,a=n.length;a>r;++r)n[r].call(t,{target:t,args:i})}function r(t){return new I(t.parentNode,F.getNodeIndex(t))}function a(t){return new I(t.parentNode,F.getNodeIndex(t)+1)}function s(t,e,i){var n=11==t.nodeType?t.firstChild:t;return F.isCharacterDataNode(e)?i==e.length?F.insertAfter(t,e):e.parentNode.insertBefore(t,0==i?e:F.splitDataNode(e,i)):i>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[i]),n}function o(t){for(var e,n,r,a=i(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(r=t.getSubtreeIterator(),n.appendChild(o(r)),r.detach(!0)),10==n.nodeType)throw new z("HIERARCHY_REQUEST_ERR");a.appendChild(n)}return a}function h(t,e,i){var n,r;i=i||{stop:!1};for(var a,s;a=t.next();)if(t.isPartiallySelectedSubtree()){if(e(a)===!1)return i.stop=!0,void 0;if(s=t.getSubtreeIterator(),h(s,e,i),s.detach(!0),i.stop)return}else for(n=F.createIterator(a);r=n.next();)if(e(r)===!1)return i.stop=!0,void 0}function l(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),l(e),e.detach(!0)):t.remove()}function c(t){for(var e,n,r=i(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(c(n)),n.detach(!0)):t.remove(),10==e.nodeType)throw new z("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function u(t,e,i){var n,r=!(!e||!e.length),a=!!i;r&&(n=new RegExp("^("+e.join("|")+")$"));var s=[];return h(new f(t,!1),function(t){r&&!n.test(t.nodeType)||a&&!i(t)||s.push(t)}),s}function d(t){var e="undefined"==typeof t.getName?"Range":t.getName();return"["+e+"("+F.inspectNode(t.startContainer)+":"+t.startOffset+", "+F.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function f(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var i=t.commonAncestorContainer;this.sc===this.ec&&F.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||F.isCharacterDataNode(this.sc)?F.getClosestAncestorIn(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||F.isCharacterDataNode(this.ec)?F.getClosestAncestorIn(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function p(t){this.code=this[t],this.codeName=t,this.message="RangeException: "+this.codeName}function m(t,e,i){this.nodes=u(t,e,i),this._next=this.nodes[0],this._position=0}function g(t){return function(e,i){for(var n,r=i?e:e.parentNode;r;){if(n=r.nodeType,F.arrayContains(t,n))return r;r=r.parentNode}return null}}function v(t,e){if(U(t,e))throw new p("INVALID_NODE_TYPE_ERR")}function y(t){if(!t.startContainer)throw new z("INVALID_STATE_ERR")}function b(t,e){if(!F.arrayContains(e,t.nodeType))throw new p("INVALID_NODE_TYPE_ERR")}function C(t,e){if(0>e||e>(F.isCharacterDataNode(t)?t.length:t.childNodes.length))throw new z("INDEX_SIZE_ERR")}function x(t,e){if(Y(t,!0)!==Y(e,!0))throw new z("WRONG_DOCUMENT_ERR")}function A(t){if(X(t,!0))throw new z("NO_MODIFICATION_ALLOWED_ERR")}function w(t,e){if(!t)throw new z(e)}function S(t){return!F.arrayContains(H,t.nodeType)&&!Y(t,!0)}function T(t,e){return e<=(F.isCharacterDataNode(t)?t.length:t.childNodes.length)}function N(t){if(y(t),S(t.startContainer)||S(t.endContainer)||!T(t.startContainer,t.startOffset)||!T(t.endContainer,t.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function E(){}function D(t){t.START_TO_START=J,t.START_TO_END=te,t.END_TO_END=ee,t.END_TO_START=ie,t.NODE_BEFORE=ne,t.NODE_AFTER=re,t.NODE_BEFORE_AND_AFTER=ae,t.NODE_INSIDE=se}function k(t){D(t),D(t.prototype)}function M(t,e){return function(){N(this);var i,n,r=this.startContainer,s=this.startOffset,o=this.commonAncestorContainer,l=new f(this,!0);r!==o&&(i=F.getClosestAncestorIn(r,o,!0),n=a(i),r=n.node,s=n.offset),h(l,A),l.reset();var c=t(l);return l.detach(),e(this,r,s,r,s),c}}function R(i,n,s){function o(t,e){return function(i){y(this),b(i,_),b(G(i),H);var n=(t?r:a)(i);(e?h:u)(this,n.node,n.offset)}}function h(t,e,i){var r=t.endContainer,a=t.endOffset;(e!==t.startContainer||i!==t.startOffset)&&((G(e)!=G(r)||1==F.comparePoints(e,i,r,a))&&(r=e,a=i),n(t,e,i,r,a))}function u(t,e,i){var r=t.startContainer,a=t.startOffset;(e!==t.endContainer||i!==t.endOffset)&&((G(e)!=G(r)||-1==F.comparePoints(e,i,r,a))&&(r=e,a=i),n(t,r,a,e,i))}function d(t,e,i){(e!==t.startContainer||i!==t.startOffset||e!==t.endContainer||i!==t.endOffset)&&n(t,e,i,e,i)}i.prototype=new E,t.util.extend(i.prototype,{setStart:function(t,e){y(this),v(t,!0),C(t,e),h(this,t,e)},setEnd:function(t,e){y(this),v(t,!0),C(t,e),u(this,t,e)},setStartBefore:o(!0,!0),setStartAfter:o(!1,!0),setEndBefore:o(!0,!1),setEndAfter:o(!1,!1),collapse:function(t){N(this),t?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){y(this),v(t,!0),n(this,t,0,t,F.getNodeLength(t))},selectNode:function(t){y(this),v(t,!1),b(t,_);var e=r(t),i=a(t);n(this,e.node,e.offset,i.node,i.offset)},extractContents:M(c,n),deleteContents:M(l,n),canSurroundContents:function(){N(this),A(this.startContainer),A(this.endContainer);var t=new f(this,!0),i=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!i},detach:function(){s(this)},splitBoundaries:function(){N(this);var t=this.startContainer,e=this.startOffset,i=this.endContainer,r=this.endOffset,a=t===i;F.isCharacterDataNode(i)&&r>0&&r<i.length&&F.splitDataNode(i,r),F.isCharacterDataNode(t)&&e>0&&e<t.length&&(t=F.splitDataNode(t,e),a?(r-=e,i=t):i==t.parentNode&&r>=F.getNodeIndex(t)&&r++,e=0),n(this,t,e,i,r)},normalizeBoundaries:function(){N(this);var t=this.startContainer,e=this.startOffset,i=this.endContainer,r=this.endOffset,a=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(i=t,r=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},s=function(n){var a=n.previousSibling;if(a&&a.nodeType==n.nodeType){t=n;var s=n.length;if(e=a.length,n.insertData(0,a.data),a.parentNode.removeChild(a),t==i)r+=e,i=t;else if(i==n.parentNode){var o=F.getNodeIndex(n);r==o?(i=n,r=s):r>o&&r--}}},o=!0;if(F.isCharacterDataNode(i))i.length==r&&a(i);else{if(r>0){var h=i.childNodes[r-1];h&&F.isCharacterDataNode(h)&&a(h)}o=!this.collapsed}if(o){if(F.isCharacterDataNode(t))0==e&&s(t);else if(e<t.childNodes.length){var l=t.childNodes[e];l&&F.isCharacterDataNode(l)&&s(l)}}else t=i,e=r;n(this,t,e,i,r)},collapseToPoint:function(t,e){y(this),v(t,!0),C(t,e),d(this,t,e)}}),k(i)}function B(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:F.getCommonAncestor(t.startContainer,t.endContainer)}function O(t,e,i,r,a){var s=t.startContainer!==e||t.startOffset!==i,o=t.endContainer!==r||t.endOffset!==a;t.startContainer=e,t.startOffset=i,t.endContainer=r,t.endOffset=a,B(t),n(t,"boundarychange",{startMoved:s,endMoved:o})}function P(t){y(t),t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.collapsed=t.commonAncestorContainer=null,n(t,"detach",null),t._listeners=null}function L(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},B(this)}t.requireModules(["DomUtil"]);var F=t.dom,I=F.DomPosition,z=t.DOMException;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,F.isCharacterDataNode(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,i=this._current;!F.isCharacterDataNode(i)||i!==this.sc&&i!==this.ec?i.parentNode&&i.parentNode.removeChild(i):(t=i===this.sc?this.so:0,e=i===this.ec?this.eo:i.length,t!=e&&i.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){var t=this._current;return e(t,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse();else{t=new L(i(this.range));var e=this._current,n=e,r=0,a=e,s=F.getNodeLength(e);F.isAncestorOf(e,this.sc,!0)&&(n=this.sc,r=this.so),F.isAncestorOf(e,this.ec,!0)&&(a=this.ec,s=this.eo),O(t,n,r,a,s)}return new f(t,this.clonePartiallySelectedTextNodes)},detach:function(t){t&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},p.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},p.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var _=[1,3,4,5,7,8,10],H=[2,9,11],V=[5,6,10,12],W=[1,3,4,5,7,8,10,11],j=[1,3,4,5,7,8],G=F.getRootContainer,Y=g([9,11]),X=g(V),U=g([6,10,12]),q=document.createElement("style"),$=!1;try{q.innerHTML="<b>x</b>",$=3==q.firstChild.nodeType}catch(Z){}t.features.htmlParsingConforms=$;var K=$?function(t){var e=this.startContainer,i=F.getDocument(e);if(!e)throw new z("INVALID_STATE_ERR");var n=null;return 1==e.nodeType?n=e:F.isCharacterDataNode(e)&&(n=F.parentElement(e)),n=null===n||"HTML"==n.nodeName&&F.isHtmlNamespace(F.getDocument(n).documentElement)&&F.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1),n.innerHTML=t,F.fragmentFromNodeChildren(n)}:function(t){y(this);var e=i(this),n=e.createElement("body");return n.innerHTML=t,F.fragmentFromNodeChildren(n)},Q=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],J=0,te=1,ee=2,ie=3,ne=0,re=1,ae=2,se=3;E.prototype={attachListener:function(t,e){this._listeners[t].push(e)},compareBoundaryPoints:function(t,e){N(this),x(this.startContainer,e.startContainer);var i,n,r,a,s=t==ie||t==J?"start":"end",o=t==te||t==J?"start":"end";return i=this[s+"Container"],n=this[s+"Offset"],r=e[o+"Container"],a=e[o+"Offset"],F.comparePoints(i,n,r,a)},insertNode:function(t){if(N(this),b(t,W),A(this.startContainer),F.isAncestorOf(t,this.startContainer,!0))throw new z("HIERARCHY_REQUEST_ERR");var e=s(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){N(this);var t,e;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&F.isCharacterDataNode(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=i(this).createDocumentFragment(),e.appendChild(t),e;var n=new f(this,!0);return t=o(n),n.detach(),t},canSurroundContents:function(){N(this),A(this.startContainer),A(this.endContainer);var t=new f(this,!0),i=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!i},surroundContents:function(t){if(b(t,j),!this.canSurroundContents())throw new p("BAD_BOUNDARYPOINTS_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);s(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){N(this);for(var t,e=new L(i(this)),n=Q.length;n--;)t=Q[n],e[t]=this[t];return e},toString:function(){N(this);var t=this.startContainer;if(t===this.endContainer&&F.isCharacterDataNode(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],i=new f(this,!0);return h(i,function(t){(3==t.nodeType||4==t.nodeType)&&e.push(t.data)}),i.detach(),e.join("")},compareNode:function(t){N(this);var e=t.parentNode,i=F.getNodeIndex(t);if(!e)throw new z("NOT_FOUND_ERR");var n=this.comparePoint(e,i),r=this.comparePoint(e,i+1);return 0>n?r>0?ae:ne:r>0?re:se},comparePoint:function(t,e){return N(this),w(t,"HIERARCHY_REQUEST_ERR"),x(t,this.startContainer),F.comparePoints(t,e,this.startContainer,this.startOffset)<0?-1:F.comparePoints(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:K,toHtml:function(){N(this);var t=i(this).createElement("div");return t.appendChild(this.cloneContents()),t.innerHTML},intersectsNode:function(t,e){if(N(this),w(t,"NOT_FOUND_ERR"),F.getDocument(t)!==i(this))return!1;var n=t.parentNode,r=F.getNodeIndex(t);w(n,"NOT_FOUND_ERR");var a=F.comparePoints(n,r,this.endContainer,this.endOffset),s=F.comparePoints(n,r+1,this.startContainer,this.startOffset);return e?0>=a&&s>=0:0>a&&s>0},isPointInRange:function(t,e){return N(this),w(t,"HIERARCHY_REQUEST_ERR"),x(t,this.startContainer),F.comparePoints(t,e,this.startContainer,this.startOffset)>=0&&F.comparePoints(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t,e){if(N(this),i(t)!=i(this))throw new z("WRONG_DOCUMENT_ERR");var n=F.comparePoints(this.startContainer,this.startOffset,t.endContainer,t.endOffset),r=F.comparePoints(this.endContainer,this.endOffset,t.startContainer,t.startOffset);return e?0>=n&&r>=0:0>n&&r>0},intersection:function(t){if(this.intersectsRange(t)){var e=F.comparePoints(this.startContainer,this.startOffset,t.startContainer,t.startOffset),i=F.comparePoints(this.endContainer,this.endOffset,t.endContainer,t.endOffset),n=this.cloneRange();return-1==e&&n.setStart(t.startContainer,t.startOffset),1==i&&n.setEnd(t.endContainer,t.endOffset),n}return null},union:function(t){if(this.intersectsRange(t,!0)){var e=this.cloneRange();return-1==F.comparePoints(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==F.comparePoints(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new p("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==se},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,F.getNodeLength(t))<=0},containsRange:function(t){return this.intersection(t).equals(t)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var i=e.getNodes([3]);if(i.length>0){e.setStart(i[0],0);var n=i.pop();e.setEnd(n,n.length);var r=this.containsRange(e);return e.detach(),r}return this.containsNodeContents(t)},createNodeIterator:function(t,e){return N(this),new m(this,t,e)},getNodes:function(t,e){return N(this),u(this,t,e)},getDocument:function(){return i(this)},collapseBefore:function(t){y(this),this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){y(this),this.setStartAfter(t),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(t){return L.rangesEqual(this,t)},inspect:function(){return d(this)}},R(L,O,P),t.rangePrototype=E.prototype,L.rangeProperties=Q,L.RangeIterator=f,L.copyComparisonConstants=k,L.createPrototypeRange=R,L.inspect=d,L.getRangeDocument=i,L.rangesEqual=function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},t.DomRange=L,t.RangeException=p}),rangy.createModule("WrappedRange",function(t){function e(t){var e=t.parentElement(),i=t.duplicate();i.collapse(!0);var n=i.parentElement();i=t.duplicate(),i.collapse(!1);var r=i.parentElement(),a=n==r?n:s.getCommonAncestor(n,r);return a==e?a:s.getCommonAncestor(e,a)}function i(t){return 0==t.compareEndPoints("StartToEnd",t)}function n(t,e,i,n){var r=t.duplicate();r.collapse(i);var a=r.parentElement();if(s.isAncestorOf(e,a,!0)||(a=e),!a.canHaveHTML)return new o(a.parentNode,s.getNodeIndex(a));var h,l,c,u,d,f=s.getDocument(a).createElement("span"),p=i?"StartToStart":"StartToEnd";do a.insertBefore(f,f.previousSibling),r.moveToElementText(f);while((h=r.compareEndPoints(p,t))>0&&f.previousSibling);if(d=f.nextSibling,-1==h&&d&&s.isCharacterDataNode(d)){r.setEndPoint(i?"EndToStart":"EndToEnd",t);var m;if(/[\r\n]/.test(d.data)){var g=r.duplicate(),v=g.text.replace(/\r\n/g,"\r").length;for(m=g.moveStart("character",v);-1==(h=g.compareEndPoints("StartToEnd",g));)m++,g.moveStart("character",1)}else m=r.text.length;u=new o(d,m)}else l=(n||!i)&&f.previousSibling,c=(n||i)&&f.nextSibling,u=c&&s.isCharacterDataNode(c)?new o(c,0):l&&s.isCharacterDataNode(l)?new o(l,l.length):new o(a,s.getNodeIndex(f));return f.parentNode.removeChild(f),u}function r(t,e){var i,n,r,a,o=t.offset,h=s.getDocument(t.node),l=h.body.createTextRange(),c=s.isCharacterDataNode(t.node);return c?(i=t.node,n=i.parentNode):(a=t.node.childNodes,i=o<a.length?a[o]:null,n=t.node),r=h.createElement("span"),r.innerHTML="&#feff;",i?n.insertBefore(r,i):n.appendChild(r),l.moveToElementText(r),l.collapse(!e),n.removeChild(r),c&&l[e?"moveStart":"moveEnd"]("character",o),l}t.requireModules(["DomUtil","DomRange"]);var a,s=t.dom,o=s.DomPosition,h=t.DomRange;if(!t.features.implementsDomRange||t.features.implementsTextRange&&t.config.preferTextRange){if(t.features.implementsTextRange){a=function(t){this.textRange=t,this.refresh()},a.prototype=new h(document),a.prototype.refresh=function(){var t,r,a=e(this.textRange);i(this.textRange)?r=t=n(this.textRange,a,!0,!0):(t=n(this.textRange,a,!0,!1),r=n(this.textRange,a,!1,!1)),this.setStart(t.node,t.offset),this.setEnd(r.node,r.offset)},h.copyComparisonConstants(a);var l=function(){return this}();"undefined"==typeof l.Range&&(l.Range=a),t.createNativeRange=function(t){return t=t||document,t.body.createTextRange()}}}else!function(){function e(t){for(var e,i=c.length;i--;)e=c[i],t[e]=t.nativeRange[e]}function i(t,e,i,n,r){var a=t.startContainer!==e||t.startOffset!=i,s=t.endContainer!==n||t.endOffset!=r;(a||s)&&(t.setEnd(n,r),t.setStart(e,i))}function n(t){t.nativeRange.detach(),t.detached=!0;for(var e,i=c.length;i--;)e=c[i],t[e]=null}var r,o,l,c=h.rangeProperties;a=function(t){if(!t)throw new Error("Range must be specified");this.nativeRange=t,e(this)},h.createPrototypeRange(a,i,n),r=a.prototype,r.selectNode=function(t){this.nativeRange.selectNode(t),e(this)},r.deleteContents=function(){this.nativeRange.deleteContents(),e(this)},r.extractContents=function(){var t=this.nativeRange.extractContents();return e(this),t},r.cloneContents=function(){return this.nativeRange.cloneContents()},r.surroundContents=function(t){this.nativeRange.surroundContents(t),e(this)},r.collapse=function(t){this.nativeRange.collapse(t),e(this)},r.cloneRange=function(){return new a(this.nativeRange.cloneRange())},r.refresh=function(){e(this)},r.toString=function(){return this.nativeRange.toString()};var u=document.createTextNode("test");s.getBody(document).appendChild(u);var d=document.createRange();d.setStart(u,0),d.setEnd(u,0);try{d.setStart(u,1),o=!0,r.setStart=function(t,i){this.nativeRange.setStart(t,i),e(this)},r.setEnd=function(t,i){this.nativeRange.setEnd(t,i),e(this)},l=function(t){return function(i){this.nativeRange[t](i),e(this)}}}catch(f){o=!1,r.setStart=function(t,i){try{this.nativeRange.setStart(t,i)}catch(n){this.nativeRange.setEnd(t,i),this.nativeRange.setStart(t,i)}e(this)},r.setEnd=function(t,i){try{this.nativeRange.setEnd(t,i)}catch(n){this.nativeRange.setStart(t,i),this.nativeRange.setEnd(t,i)}e(this)},l=function(t,i){return function(n){try{this.nativeRange[t](n)}catch(r){this.nativeRange[i](n),this.nativeRange[t](n)}e(this)}}}r.setStartBefore=l("setStartBefore","setEndBefore"),r.setStartAfter=l("setStartAfter","setEndAfter"),r.setEndBefore=l("setEndBefore","setStartBefore"),r.setEndAfter=l("setEndAfter","setStartAfter"),d.selectNodeContents(u),r.selectNodeContents=d.startContainer==u&&d.endContainer==u&&0==d.startOffset&&d.endOffset==u.length?function(t){this.nativeRange.selectNodeContents(t),e(this)}:function(t){this.setStart(t,0),this.setEnd(t,h.getEndOffset(t))},d.selectNodeContents(u),d.setEnd(u,3);var p=document.createRange();p.selectNodeContents(u),p.setEnd(u,4),p.setStart(u,2),r.compareBoundaryPoints=-1==d.compareBoundaryPoints(d.START_TO_END,p)&1==d.compareBoundaryPoints(d.END_TO_START,p)?function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},t.util.isHostMethod(d,"createContextualFragment")&&(r.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),s.getBody(document).removeChild(u),d.detach(),p.detach()}(),t.createNativeRange=function(t){return t=t||document,t.createRange()};t.features.implementsTextRange&&(a.rangeToTextRange=function(t){if(t.collapsed){var e=r(new o(t.startContainer,t.startOffset),!0);return e}var i=r(new o(t.startContainer,t.startOffset),!0),n=r(new o(t.endContainer,t.endOffset),!1),a=s.getDocument(t.startContainer).body.createTextRange();return a.setEndPoint("StartToStart",i),a.setEndPoint("EndToEnd",n),a}),a.prototype.getName=function(){return"WrappedRange"},t.WrappedRange=a,t.createRange=function(e){return e=e||document,new a(t.createNativeRange(e))},t.createRangyRange=function(t){return t=t||document,new h(t)},t.createIframeRange=function(e){return t.createRange(s.getIframeDocument(e))},t.createIframeRangyRange=function(e){return t.createRangyRange(s.getIframeDocument(e))},t.addCreateMissingNativeApiListener(function(e){var i=e.document;"undefined"==typeof i.createRange&&(i.createRange=function(){return t.createRange(this)}),i=e=null})}),rangy.createModule("WrappedSelection",function(t,e){function i(t){return(t||window).getSelection()}function n(t){return(t||window).document.selection}function r(t,e,i){var n=i?"end":"start",r=i?"start":"end";t.anchorNode=e[n+"Container"],t.anchorOffset=e[n+"Offset"],t.focusNode=e[r+"Container"],t.focusOffset=e[r+"Offset"]}function a(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function s(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function o(e){var i;return e instanceof S?(i=e._selectionNativeRange,i||(i=t.createNativeRange(A.getDocument(e.startContainer)),i.setEnd(e.endContainer,e.endOffset),i.setStart(e.startContainer,e.startOffset),e._selectionNativeRange=i,e.attachListener("detach",function(){this._selectionNativeRange=null}))):e instanceof T?i=e.nativeRange:t.features.implementsDomRange&&e instanceof A.getWindow(e.startContainer).Range&&(i=e),i}function h(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,i=t.length;i>e;++e)if(!A.isAncestorOf(t[0],t[e]))return!1;return!0}function l(t){var e=t.getNodes();if(!h(e))throw new Error("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return e[0]}function c(t){return!!t&&"undefined"!=typeof t.text}function u(t,e){var i=new T(e);t._ranges=[i],r(t,i,!1),t.rangeCount=1,t.isCollapsed=i.collapsed}function d(e){if(e._ranges.length=0,"None"==e.docSelection.type)s(e);else{var i=e.docSelection.createRange();if(c(i))u(e,i);else{e.rangeCount=i.length;for(var n,a=A.getDocument(i.item(0)),o=0;o<e.rangeCount;++o)n=t.createRange(a),n.selectNode(i.item(o)),e._ranges.push(n);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,r(e,e._ranges[e.rangeCount-1],!1)}}}function f(t,e){for(var i=t.docSelection.createRange(),n=l(e),r=A.getDocument(i.item(0)),a=A.getBody(r).createControlRange(),s=0,o=i.length;o>s;++s)a.add(i.item(s));try{a.add(n)}catch(h){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),d(t)}function p(t,e,i){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=i,this.refresh()}function m(t,e){for(var i,n=A.getDocument(e[0].startContainer),r=A.getBody(n).createControlRange(),a=0;rangeCount>a;++a){i=l(e[a]);try{r.add(i)}catch(s){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")
}}r.select(),d(t)}function g(t,e){if(t.anchorNode&&A.getDocument(t.anchorNode)!==A.getDocument(e))throw new N("WRONG_DOCUMENT_ERR")}function v(t){var e=[],i=new E(t.anchorNode,t.anchorOffset),n=new E(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var a=0,s=t.rangeCount;s>a;++a)e[a]=S.inspect(t.getRangeAt(a));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}t.requireModules(["DomUtil","DomRange","WrappedRange"]),t.config.checkSelectionRanges=!0;var y,b,C="boolean",x="_rangySelection",A=t.dom,w=t.util,S=t.DomRange,T=t.WrappedRange,N=t.DOMException,E=A.DomPosition,D="Control",k=t.util.isHostMethod(window,"getSelection"),M=t.util.isHostObject(document,"selection"),R=M&&(!k||t.config.preferTextRange);R?(y=n,t.isSelectionValid=function(t){var e=(t||window).document,i=e.selection;return"None"!=i.type||A.getDocument(i.createRange().parentElement())==e}):k?(y=i,t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=y;var B=y(),O=t.createNativeRange(document),P=A.getBody(document),L=w.areHostObjects(B,["anchorNode","focusNode"]&&w.areHostProperties(B,["anchorOffset","focusOffset"]));t.features.selectionHasAnchorAndFocus=L;var F=w.isHostMethod(B,"extend");t.features.selectionHasExtend=F;var I="number"==typeof B.rangeCount;t.features.selectionHasRangeCount=I;var z=!1,_=!0;w.areHostMethods(B,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof B.rangeCount&&t.features.implementsDomRange&&!function(){var t=document.createElement("iframe");P.appendChild(t);var e=A.getIframeDocument(t);e.open(),e.write("<html><head></head><body>12</body></html>"),e.close();var i=A.getIframeWindow(t).getSelection(),n=e.documentElement,r=n.lastChild,a=r.firstChild,s=e.createRange();s.setStart(a,1),s.collapse(!0),i.addRange(s),_=1==i.rangeCount,i.removeAllRanges();var o=s.cloneRange();s.setStart(a,0),o.setEnd(a,2),i.addRange(s),i.addRange(o),z=2==i.rangeCount,s.detach(),o.detach(),P.removeChild(t)}(),t.features.selectionSupportsMultipleRanges=z,t.features.collapsedNonEditableSelectionsSupported=_;var H,V=!1;P&&w.isHostMethod(P,"createControlRange")&&(H=P.createControlRange(),w.areHostProperties(H,["item","add"])&&(V=!0)),t.features.implementsControlRange=V,b=L?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return t.rangeCount?t.getRangeAt(t.rangeCount-1).collapsed:!1};var W;w.isHostMethod(B,"getRangeAt")?W=function(t,e){try{return t.getRangeAt(e)}catch(i){return null}}:L&&(W=function(e){var i=A.getDocument(e.anchorNode),n=t.createRange(i);return n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(e.focusNode,e.focusOffset),n.setEnd(e.anchorNode,e.anchorOffset)),n}),t.getSelection=function(t){t=t||window;var e=t[x],i=y(t),r=M?n(t):null;return e?(e.nativeSelection=i,e.docSelection=r,e.refresh(t)):(e=new p(i,r,t),t[x]=e),e},t.getIframeSelection=function(e){return t.getSelection(A.getIframeWindow(e))};var j=p.prototype;if(!R&&L&&w.areHostMethods(B,["removeAllRanges","addRange"])){j.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),s(this)};var G=function(e,i){var n=S.getRangeDocument(i),r=t.createRange(n);r.collapseToPoint(i.endContainer,i.endOffset),e.nativeSelection.addRange(o(r)),e.nativeSelection.extend(i.startContainer,i.startOffset),e.refresh()};j.addRange=I?function(e,i){if(V&&M&&this.docSelection.type==D)f(this,e);else if(i&&F)G(this,e);else{var n;if(z?n=this.rangeCount:(this.removeAllRanges(),n=0),this.nativeSelection.addRange(o(e)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(t.config.checkSelectionRanges){var a=W(this.nativeSelection,this.rangeCount-1);a&&!S.rangesEqual(a,e)&&(e=new T(a))}this._ranges[this.rangeCount-1]=e,r(this,e,U(this.nativeSelection)),this.isCollapsed=b(this)}else this.refresh()}}:function(t,e){e&&F?G(this,t):(this.nativeSelection.addRange(o(t)),this.refresh())},j.setRanges=function(t){if(V&&t.length>1)m(this,t);else{this.removeAllRanges();for(var e=0,i=t.length;i>e;++e)this.addRange(t[e])}}}else{if(!(w.isHostMethod(B,"empty")&&w.isHostMethod(O,"select")&&V&&R))return e.fail("No means of selecting a Range or TextRange was found"),!1;j.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=A.getDocument(this.anchorNode);else if(this.docSelection.type==D){var e=this.docSelection.createRange();e.length&&(t=A.getDocument(e.item(0)).body.createTextRange())}if(t){var i=t.body.createTextRange();i.select(),this.docSelection.empty()}}}catch(n){}s(this)},j.addRange=function(t){this.docSelection.type==D?f(this,t):(T.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,r(this,t,!1))},j.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?m(this,t):e&&this.addRange(t[0])}}j.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new N("INDEX_SIZE_ERR");return this._ranges[t]};var Y;if(R)Y=function(e){var i;t.isSelectionValid(e.win)?i=e.docSelection.createRange():(i=A.getBody(e.win.document).createTextRange(),i.collapse(!0)),e.docSelection.type==D?d(e):c(i)?u(e,i):s(e)};else if(w.isHostMethod(B,"getRangeAt")&&"number"==typeof B.rangeCount)Y=function(e){if(V&&M&&e.docSelection.type==D)d(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var i=0,n=e.rangeCount;n>i;++i)e._ranges[i]=new t.WrappedRange(e.nativeSelection.getRangeAt(i));r(e,e._ranges[e.rangeCount-1],U(e.nativeSelection)),e.isCollapsed=b(e)}else s(e)};else{if(!L||typeof B.isCollapsed!=C||typeof O.collapsed!=C||!t.features.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;Y=function(t){var e,i=t.nativeSelection;i.anchorNode?(e=W(i,0),t._ranges=[e],t.rangeCount=1,a(t),t.isCollapsed=b(t)):s(t)}}j.refresh=function(t){var e=t?this._ranges.slice(0):null;if(Y(this),t){var i=e.length;if(i!=this._ranges.length)return!1;for(;i--;)if(!S.rangesEqual(e[i],this._ranges[i]))return!1;return!0}};var X=function(t,e){var i=t.getAllRanges(),n=!1;t.removeAllRanges();for(var r=0,a=i.length;a>r;++r)n||e!==i[r]?t.addRange(i[r]):n=!0;t.rangeCount||s(t)};j.removeRange=V?function(t){if(this.docSelection.type==D){for(var e,i=this.docSelection.createRange(),n=l(t),r=A.getDocument(i.item(0)),a=A.getBody(r).createControlRange(),s=!1,o=0,h=i.length;h>o;++o)e=i.item(o),e!==n||s?a.add(i.item(o)):s=!0;a.select(),d(this)}else X(this,t)}:function(t){X(this,t)};var U;!R&&L&&t.features.implementsDomRange?(U=function(t){var e=!1;return t.anchorNode&&(e=1==A.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e},j.isBackwards=function(){return U(this)}):U=j.isBackwards=function(){return!1},j.toString=function(){for(var t=[],e=0,i=this.rangeCount;i>e;++e)t[e]=""+this._ranges[e];return t.join("")},j.collapse=function(e,i){g(this,e);var n=t.createRange(A.getDocument(e));n.collapseToPoint(e,i),this.removeAllRanges(),this.addRange(n),this.isCollapsed=!0},j.collapseToStart=function(){if(!this.rangeCount)throw new N("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},j.collapseToEnd=function(){if(!this.rangeCount)throw new N("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},j.selectAllChildren=function(e){g(this,e);var i=t.createRange(A.getDocument(e));i.selectNodeContents(e),this.removeAllRanges(),this.addRange(i)},j.deleteFromDocument=function(){if(V&&M&&this.docSelection.type==D){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();this.removeAllRanges();for(var n=0,r=i.length;r>n;++n)i[n].deleteContents();this.addRange(i[r-1])}},j.getAllRanges=function(){return this._ranges.slice(0)},j.setSingleRange=function(t){this.setRanges([t])},j.containsNode=function(t,e){for(var i=0,n=this._ranges.length;n>i;++i)if(this._ranges[i].containsNode(t,e))return!0;return!1},j.toHtml=function(){var t="";if(this.rangeCount){for(var e=S.getRangeDocument(this._ranges[0]).createElement("div"),i=0,n=this._ranges.length;n>i;++i)e.appendChild(this._ranges[i].cloneContents());t=e.innerHTML}return t},j.getName=function(){return"WrappedSelection"},j.inspect=function(){return v(this)},j.detach=function(){this.win[x]=null,this.win=this.anchorNode=this.focusNode=null},p.inspect=v,t.Selection=p,t.selectionPrototype=j,t.addCreateMissingNativeApiListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return t.getSelection(this)}),e=null})});/*
	Base.js, version 1.1a
	Copyright 2006-2010, Dean Edwards
	License: http://www.opensource.org/licenses/mit-license.php
*/
var Base=function(){};if(Base.extend=function(t,e){var i=Base.prototype.extend;Base._prototyping=!0;var n=new this;i.call(n,t),n.base=function(){},delete Base._prototyping;var r=n.constructor,a=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==a)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return a.ancestor=this,a.extend=this.extend,a.forEach=this.forEach,a.implement=this.implement,a.prototype=n,a.toString=this.toString,a.valueOf=function(t){return"object"==t?a:r.valueOf()},i.call(a,e),"function"==typeof a.init&&a.init(),a},Base.prototype={extend:function(t,e){if(arguments.length>1){var i=this[t];if(i&&"function"==typeof e&&(!i.valueOf||i.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var n=e.valueOf();e=function(){var t=this.base||Base.prototype.base;this.base=i;var e=n.apply(this,arguments);return this.base=t,e},e.valueOf=function(t){return"object"==t?e:n},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var a={toSource:null},s=["constructor","toString","valueOf"],o=Base._prototyping?0:1;h=s[o++];)t[h]!=a[h]&&r.call(this,h,t[h]);for(var h in t)a[h]||r.call(this,h,t[h])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,i){for(var n in t)void 0===this.prototype[n]&&e.call(i,t[n],n,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function t(t){return(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var e=navigator.userAgent,i=document.createElement("div"),n=-1!==e.indexOf("MSIE")&&-1===e.indexOf("Opera"),r=-1!==e.indexOf("Gecko")&&-1===e.indexOf("KHTML"),a=-1!==e.indexOf("AppleWebKit/"),s=-1!==e.indexOf("Chrome/"),o=-1!==e.indexOf("Opera/");return{USER_AGENT:e,supported:function(){var e=this.USER_AGENT.toLowerCase(),n="contentEditable"in i,r=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,a=document.querySelector&&document.querySelectorAll,s=this.isIos()&&t(e)<5||-1!==e.indexOf("opera mobi")||-1!==e.indexOf("hpwos/");return n&&r&&a&&!s},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var t=this.USER_AGENT.toLowerCase();return-1!==t.indexOf("webkit")&&-1!==t.indexOf("mobile")},supportsSandboxedIframes:function(){return n},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!r},hasCurrentStyleProperty:function(){return"currentStyle"in i},insertsLineBreaksOnReturn:function(){return r},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){return"on"+t in i||function(){return i.setAttribute("on"+t,"return;"),"function"==typeof i["on"+t]}()},supportsEventsInIframeCorrectly:function(){return!o},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return a||r},supportsDataTransfer:function(){try{return a&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(t){return!1}},supportsHTML5Tags:function(t){var e=t.createElement("div"),i="<article>foo</article>";return e.innerHTML=i,e.innerHTML.toLowerCase()===i},supportsCommand:function(){var t={formatBlock:n,insertUnorderedList:n||o||a,insertOrderedList:n||o||a},e={insertHTML:r};return function(i,n){var r=t[n];if(!r){try{return i.queryCommandSupported(n)}catch(a){}try{return i.queryCommandEnabled(n)}catch(s){return!!e[n]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return r||o||a},supportsGetAttributeCorrectly:function(){var t=document.createElement("td");return"1"!=t.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return r||n||o},clearsListsInContentEditableCorrectly:function(){return r||n||a},autoScrollsToCaret:function(){return!a},autoClosesUnclosedTags:function(){var t,e,n=i.cloneNode(!1);return n.innerHTML="<p><div></div>",e=n.innerHTML.toLowerCase(),t="<p></p><div></div>"===e||"<p><div></div></p>"===e,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in i},needsSpaceAfterLineBreak:function(){return o},supportsSpeechApiOn:function(t){var i=e.match(/Chrome\/(\d+)/)||[,0];return i[1]>=11&&("onwebkitspeechchange"in t||"speech"in t)},crashesWhenDefineProperty:function(t){return n&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return n},hasProblemsSettingCaretAfterImg:function(){return n},hasUndoInContextMenu:function(){return r||s||o}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(t.indexOf)return-1!==t.indexOf(e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return!0;return!1},without:function(e){e=wysihtml5.lang.array(e);for(var i=[],n=0,r=t.length;r>n;n++)e.contains(t[n])||i.push(t[n]);return i},get:function(){for(var e=0,i=t.length,n=[];i>e;e++)n.push(t[e]);return n}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(t,e){this.events=this.events||{};for(var i=this.events[t]||[],n=0;n<i.length;n++)i[n].call(this,e);return this},stopObserving:function(t,e){this.events=this.events||{};var i,n,r=0;if(t){for(i=this.events[t]||[],n=[];r<i.length;r++)i[r]!==e&&e&&n.push(i[r]);this.events[t]=n}else this.events={};return this}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var i in e)t[i]=e[i];return this},get:function(){return t},clone:function(){var e,i={};for(e in t)i[e]=t[e];return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/;wysihtml5.lang.string=function(i){return i=String(i),{trim:function(){return i.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)i=this.replace("#{"+e+"}").by(t[e]);return i},replace:function(t){return{by:function(e){return i.split(t).join(e)}}}}}}(),function(t){function e(t){return a(t)?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),s(t))}function i(t){return t.replace(h,function(t,e){var i=(e.match(l)||[])[1]||"",n=u[i];e=e.replace(l,""),e.split(n).length>e.split(i).length&&(e+=i,i="");var r=e,a=e;return e.length>c&&(a=a.substr(0,c)+"..."),"www."===r.substr(0,4)&&(r="http://"+r),'<a href="'+r+'">'+a+"</a>"+i})}function n(t){var e=t._wysihtml5_tempElement;return e||(e=t._wysihtml5_tempElement=t.createElement("div")),e}function r(t){var e=t.parentNode,r=n(e.ownerDocument);for(r.innerHTML="<span></span>"+i(t.data),r.removeChild(r.firstChild);r.firstChild;)e.insertBefore(r.firstChild,t);e.removeChild(t)}function a(t){for(var e;t.parentNode;){if(t=t.parentNode,e=t.nodeName,o.contains(e))return!0;if("body"===e)return!1}return!1}function s(e){if(!o.contains(e.nodeName)){if(e.nodeType===t.TEXT_NODE&&e.data.match(h))return r(e),void 0;for(var i=t.lang.array(e.childNodes).get(),n=i.length,a=0;n>a;a++)s(i[a]);return e}}var o=t.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),h=/((https?:\/\/|www\.)[^\s<]{3,})/gi,l=/([^\w\/\-](,?))$/i,c=100,u={")":"(","]":"[","}":"{"};t.dom.autoLink=e,t.dom.autoLink.URL_REG_EXP=h}(wysihtml5),function(t){var e=t.browser.supportsClassList(),i=t.dom;i.addClass=function(t,n){return e?t.classList.add(n):(i.hasClass(t,n)||(t.className+=" "+n),void 0)},i.removeClass=function(t,i){return e?t.classList.remove(i):(t.className=t.className.replace(new RegExp("(^|\\s+)"+i+"(\\s+|$)")," "),void 0)},i.hasClass=function(t,i){if(e)return t.classList.contains(i);var n=t.className;return n.length>0&&(n==i||new RegExp("(^|\\s)"+i+"(\\s|$)").test(n))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var i=t.createElement("li");return e.appendChild(i),i}function e(t,e){return t.createElement(e)}function i(i,n){if("UL"===i.nodeName||"OL"===i.nodeName||"MENU"===i.nodeName)return i;var r,a,s,o,h,l,c,u,d,f=i.ownerDocument,p=e(f,n),m=i.querySelectorAll("br"),g=m.length;for(d=0;g>d;d++)for(o=m[d];(h=o.parentNode)&&h!==i&&h.lastChild===o;){if("block"===wysihtml5.dom.getStyle("display").from(h)){h.removeChild(o);break}wysihtml5.dom.insert(o).after(o.parentNode)}for(r=wysihtml5.lang.array(i.childNodes).get(),a=r.length,d=0;a>d;d++)u=u||t(f,p),s=r[d],l="block"===wysihtml5.dom.getStyle("display").from(s),c="BR"===s.nodeName,l?(u=u.firstChild?t(f,p):u,u.appendChild(s),u=null):c?u=u.firstChild?null:u:u.appendChild(s);return i.parentNode.replaceChild(p,i),p}return i}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(i){for(var n,r=0,a=t.length;a>r;r++)n=t[r],"undefined"!=typeof e[n]&&""!==e[n]&&(i[n]=e[n]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],i=function(e){return n(e)?parseInt(t.getStyle("width").from(e),10)<e.offsetWidth:!1},n=function(i){for(var n=0,r=e.length;r>n;n++)if("border-box"===t.getStyle(e[n]).from(i))return e[n]};t.copyStyles=function(n){return{from:function(r){i(r)&&(n=wysihtml5.lang.array(n).without(e));for(var a,s="",o=n.length,h=0;o>h;h++)a=n[h],s+=a+":"+t.getStyle(a).from(r)+";";return{to:function(e){return t.setStyles(s).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,i,n,r){return t.dom.observe(e,n,function(n){for(var a=n.target,s=t.lang.array(e.querySelectorAll(i));a&&a!==e;){if(s.contains(a)){r.call(a,n);break}a=a.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t=function(t,e){var i=e.createElement("div");i.style.display="none",e.body.appendChild(i);try{i.innerHTML=t}catch(n){}return e.body.removeChild(i),i},e=function(t){if(!t._wysihtml5_supportsHTML5Tags){for(var e=0,n=i.length;n>e;e++)t.createElement(i[e]);t._wysihtml5_supportsHTML5Tags=!0}},i=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(i,n){n=n||document;var r;return"object"==typeof i&&i.nodeType?(r=n.createElement("div"),r.appendChild(i)):wysihtml5.browser.supportsHTML5Tags(n)?(r=n.createElement("div"),r.innerHTML=i):(e(n),r=t(i,n)),r}}(),wysihtml5.dom.getParentElement=function(){function t(t,e){return e&&e.length?"string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t):!0}function e(t){return t.nodeType===wysihtml5.ELEMENT_NODE}function i(t,e,i){var n=(t.className||"").match(i)||[];return e?n[n.length-1]===e:!!n.length}function n(e,i,n){for(;n--&&e&&"BODY"!==e.nodeName;){if(t(e.nodeName,i))return e;e=e.parentNode}return null}function r(n,r,a,s,o){for(;o--&&n&&"BODY"!==n.nodeName;){if(e(n)&&t(n.nodeName,r)&&i(n,a,s))return n;n=n.parentNode}return null}return function(t,e,i){return i=i||50,e.className||e.classRegExp?r(t,e.nodeName,e.className,e.classRegExp,i):n(t,e.nodeName,i)}}(),wysihtml5.dom.getStyle=function(){function t(t){return t.replace(i,function(t){return t.charAt(1).toUpperCase()})}var e={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},i=/\-[a-z]/g;return function(i){return{from:function(n){if(n.nodeType===wysihtml5.ELEMENT_NODE){var r=n.ownerDocument,a=e[i]||t(i),s=n.style,o=n.currentStyle,h=s[a];if(h)return h;if(o)try{return o[a]}catch(l){}var c,u,d=r.defaultView||r.parentWindow,f=("height"===i||"width"===i)&&"TEXTAREA"===n.nodeName;return d.getComputedStyle?(f&&(c=s.overflow,s.overflow="hidden"),u=d.getComputedStyle(n,null).getPropertyValue(i),f&&(s.overflow=c||""),u):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function t(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=i++)}var e={},i=1;return function(i,n){var r=t(i)+":"+n,a=e[r];return a||(a=e[r]=i.getElementsByTagName(n)),a.length>0}}(),function(t){function e(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=n++)}var i={},n=1;t.dom.hasElementWithClassName=function(n,r){if(!t.browser.supportsNativeGetElementsByClassName())return!!n.querySelector("."+r);var a=e(n)+":"+r,s=i[a];return s||(s=i[a]=n.getElementsByClassName(r)),s.length>0}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var i=e.head||e.getElementsByTagName("head")[0],n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),i&&i.appendChild(n)}}},wysihtml5.dom.observe=function(t,e,i){e="string"==typeof e?[e]:e;for(var n,r,a=0,s=e.length;s>a;a++)r=e[a],t.addEventListener?t.addEventListener(r,i,!1):(n=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},i.call(t,e)},t.attachEvent("on"+r,n));return{stop:function(){for(var r,a=0,s=e.length;s>a;a++)r=e[a],t.removeEventListener?t.removeEventListener(r,i,!1):t.detachEvent("on"+r,n)}}},wysihtml5.dom.parse=function(){function t(t,i,n,r){wysihtml5.lang.object(u).merge(c).merge(i).get(),n=n||t.ownerDocument||document;var a,s,o,h=n.createDocumentFragment(),l="string"==typeof t;for(a=l?wysihtml5.dom.getAsDom(t,n):t;a.firstChild;)o=a.firstChild,a.removeChild(o),s=e(o,r),s&&h.appendChild(s);return a.innerHTML="",a.appendChild(h),l?wysihtml5.quirks.getCorrectInnerHTML(a):a}function e(t,i){var n,r=t.nodeType,a=t.childNodes,s=a.length,l=o[r],c=0;if(n=l&&l(t),!n)return null;for(c=0;s>c;c++)newChild=e(a[c],i),newChild&&n.appendChild(newChild);return i&&n.childNodes.length<=1&&n.nodeName.toLowerCase()===h&&!n.attributes.length?n.firstChild:n}function i(t){var e,i,r=u.tags,a=t.nodeName.toLowerCase(),s=t.scopeName;if(t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(s&&"HTML"!=s&&(a=s+":"+a),"outerHTML"in t&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==t.nodeName||"</p>"===t.outerHTML.slice(-4).toLowerCase()||(a="div")),a in r){if(e=r[a],!e||e.remove)return null;e="string"==typeof e?{rename_tag:e}:e}else{if(!t.firstChild)return null;e={rename_tag:h}}return i=t.ownerDocument.createElement(e.rename_tag||a),n(t,i,e),t=null,i}function n(t,e,i){var n,a,s,o,h,c,d,m={},g=i.set_class,v=i.add_class,y=i.set_attributes,b=i.check_attributes,C=u.classes,x=0,A=[],w=[],S=[],T=[];if(y&&(m=wysihtml5.lang.object(y).clone()),b)for(h in b)d=f[b[h]],d&&(c=d(r(t,h)),"string"==typeof c&&(m[h]=c));if(g&&A.push(g),v)for(h in v)d=p[v[h]],d&&(o=d(r(t,h)),"string"==typeof o&&A.push(o));for(C["_wysihtml5-temp-placeholder"]=1,T=t.getAttribute("class"),T&&(A=A.concat(T.split(l))),n=A.length;n>x;x++)s=A[x],C[s]&&w.push(s);for(a=w.length;a--;)s=w[a],wysihtml5.lang.array(S).contains(s)||S.unshift(s);S.length&&(m["class"]=S.join(" "));for(h in m)try{e.setAttribute(h,m[h])}catch(N){}m.src&&("undefined"!=typeof m.width&&e.setAttribute("width",m.width),"undefined"!=typeof m.height&&e.setAttribute("height",m.height))}function r(t,e){e=e.toLowerCase();var i=t.nodeName;if("IMG"==i&&"src"==e&&a(t)===!0)return t.src;if(d&&"outerHTML"in t){var n=t.outerHTML.toLowerCase(),r=-1!=n.indexOf(" "+e+"=");return r?t.getAttribute(e):null}return t.getAttribute(e)}function a(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}}function s(t){return t.ownerDocument.createTextNode(t.data)}var o={1:i,3:s},h="span",l=/\s+/,c={tags:{},classes:{}},u={},d=!wysihtml5.browser.supportsGetAttributeCorrectly(),f={url:function(){var t=/^https?:\/\//i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return e=(e||"").replace(t,""),e||null}}()},p={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[String(e).toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[String(e).toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[String(e).toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[String(e).charAt(0)]}}()};return t}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e,i=wysihtml5.lang.array(t.childNodes).get(),n=i.length,r=0;n>r;r++)e=i[r],e.nodeType===wysihtml5.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},wysihtml5.dom.renameElement=function(t,e){for(var i,n=t.ownerDocument.createElement(e);i=t.firstChild;)n.appendChild(i);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(n),t.parentNode.replaceChild(n,t),n},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode){if(!t.firstChild)return t.parentNode.removeChild(t),void 0;for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t),t=e=null}},function(t){function e(e){return"block"===t.getStyle("display").from(e)}function i(t){return"BR"===t.nodeName}function n(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}function r(t){if("MENU"===t.nodeName||"UL"===t.nodeName||"OL"===t.nodeName){var r,a,s,o,h,l=t.ownerDocument,c=l.createDocumentFragment(),u=t.previousElementSibling||t.previousSibling;for(u&&!e(u)&&n(c);h=t.firstChild;){for(a=h.lastChild;r=h.firstChild;)s=r===a,o=s&&!e(r)&&!i(r),c.appendChild(r),o&&n(c);h.parentNode.removeChild(h)}t.parentNode.replaceChild(c,t)}}t.resolveList=r}(wysihtml5.dom),function(t){var e=document,i=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],n=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],r=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,i){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(i).get(),this.iframe=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var i=this,n=e.createElement("iframe");return n.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(n),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(n.src="javascript:'<html></html>'"),n.onload=function(){n.onreadystatechange=n.onload=null,i._onLoadIframe(n)},n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&(n.onreadystatechange=n.onload=null,i._onLoadIframe(n))},n},_onLoadIframe:function(a){if(t.dom.contains(e.documentElement,a)){var s=this,o=a.contentWindow,h=a.contentWindow.document,l=e.characterSet||e.charset||"utf-8",c=this._getHtml({charset:l,stylesheets:this.config.stylesheets});if(h.open("text/html","replace"),h.write(c),h.close(),this.getWindow=function(){return a.contentWindow},this.getDocument=function(){return a.contentWindow.document},o.onerror=function(t,e,i){throw new Error("wysihtml5.Sandbox: "+t,e,i)},!t.browser.supportsSandboxedIframes()){var u,d;for(u=0,d=i.length;d>u;u++)this._unset(o,i[u]);for(u=0,d=n.length;d>u;u++)this._unset(o,n[u],t.EMPTY_FUNCTION);for(u=0,d=r.length;d>u;u++)this._unset(h,r[u]);this._unset(h,"cookie","",!0)}this.loaded=!0,setTimeout(function(){s.callback(s)},0)}},_getHtml:function(e){var i,n=e.stylesheets,r="",a=0;if(n="string"==typeof n?[n]:n)for(i=n.length;i>a;a++)r+='<link rel="stylesheet" href="'+n[a]+'">';return e.stylesheets=r,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,i,n,r){try{e[i]=n}catch(a){}try{e.__defineGetter__(i,function(){return n})}catch(a){}if(r)try{e.__defineSetter__(i,function(){})}catch(a){}if(!t.browser.crashesWhenDefineProperty(i))try{var s={get:function(){return n}};r&&(s.set=function(){}),Object.defineProperty(e,i,s)}catch(a){}}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(i){for(var n in e)i.setAttribute(t[n]||n,e[n])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){var i=e.style;if("string"==typeof t)return i.cssText+=";"+t,void 0;for(var n in t)"float"===n?(i.cssFloat=t[n],i.styleFloat=t[n]):i[n]=t[n]}}},function(t){t.simulatePlaceholder=function(e,i,n){var r="placeholder",a=function(){i.hasPlaceholderSet()&&i.clear(),t.removeClass(i.element,r)},s=function(){i.isEmpty()&&(i.setValue(n),t.addClass(i.element,r))};e.observe("set_placeholder",s).observe("unset_placeholder",a).observe("focus:composer",a).observe("paste:composer",a).observe("blur:composer",s),s()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function t(t,i,n){i=i||e,n=n||t.ownerDocument||document;var r,a,s,o,h,l="string"==typeof t,c=0;r=l?wysihtml5.dom.getAsDom(t,n):t;for(h in i)for(s=r.querySelectorAll(h),a=i[h],o=s.length;o>c;c++)a(s[c]);return s=t=i=null,l?r.innerHTML:r}var e={"a u":wysihtml5.dom.replaceWithChildNodes};return t}(),function(t){var e=t.dom;t.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();("<p>&nbsp;</p>"==e||"<p>&nbsp;</p><p>&nbsp;</p>"==e)&&(t.innerHTML="")},0)};return function(i){e.observe(i.element,["cut","keydown"],t)}}(),t.quirks.ensureProperClearingOfLists=function(){var i=["OL","UL","MENU"],n=function(n,r){if(r.firstChild&&t.lang.array(i).contains(r.firstChild.nodeName)){var a=e.getParentElement(n,{nodeName:i});if(a){var s=a==r.firstChild;if(s){var o=a.childNodes.length<=1;if(o){var h=a.firstChild?""===a.firstChild.innerHTML:!0;h&&a.parentNode.removeChild(a)}}}}};return function(i){e.observe(i.element,"keydown",function(e){if(e.keyCode===t.BACKSPACE_KEY){var r=i.selection.getSelectedNode();n(r,i.element)}})}}()}(wysihtml5),function(t){var e="%7E";t.quirks.getCorrectInnerHTML=function(i){var n=i.innerHTML;if(-1===n.indexOf(e))return n;var r,a,s,o,h=i.querySelectorAll("[href*='~'], [src*='~']");for(o=0,s=h.length;s>o;o++)r=h[o].href||h[o].src,a=t.lang.string(r).replace("~").by(e),n=t.lang.string(n).replace(a).by(r);return n}}(wysihtml5),function(t){var e=t.dom,i=["LI","P","H1","H2","H3","H4","H5","H6"],n=["UL","OL","MENU"];t.quirks.insertLineBreakOnReturn=function(r){function a(i){var n=e.getParentElement(i,{nodeName:["P","DIV"]},2);if(n){var a=document.createTextNode(t.INVISIBLE_SPACE);e.insert(a).before(n),e.replaceWithChildNodes(n),r.selection.selectNode(a)}}function s(s){var o=s.keyCode;if(!(s.shiftKey||o!==t.ENTER_KEY&&o!==t.BACKSPACE_KEY)){var h=(s.target,r.selection.getSelectedNode()),l=e.getParentElement(h,{nodeName:i},4);return l?("LI"!==l.nodeName||o!==t.ENTER_KEY&&o!==t.BACKSPACE_KEY?l.nodeName.match(/H[1-6]/)&&o===t.ENTER_KEY&&setTimeout(function(){a(r.selection.getSelectedNode())},0):setTimeout(function(){var t,i=r.selection.getSelectedNode();i&&(t=e.getParentElement(i,{nodeName:n},2),t||a(i))},0),void 0):(o!==t.ENTER_KEY||t.browser.insertsLineBreaksOnReturn()||(r.commands.exec("insertLineBreak"),s.preventDefault()),void 0)}}e.observe(r.element.ownerDocument,"keydown",s)}}(wysihtml5),function(t){var e="wysihtml5-quirks-redraw";t.quirks.redraw=function(i){t.dom.addClass(i,e),t.dom.removeClass(i,e);try{var n=i.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(r){}}}(wysihtml5),function(t){function e(t){var e=0;if(t.parentNode)do e+=t.offsetTop||0,t=t.offsetParent;while(t);return e}var i=t.dom;t.Selection=Base.extend({constructor:function(t){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},getBookmark:function(){var t=this.getRange();return t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(e){var n=rangy.createRange(this.doc),r=e.nodeType===t.ELEMENT_NODE,a="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,s=r?e.innerHTML:e.data,o=""===s||s===t.INVISIBLE_SPACE,h=i.getStyle("display").from(e),l="block"===h||"list-item"===h;if(o&&r&&a)try{e.innerHTML=t.INVISIBLE_SPACE}catch(c){}a?n.selectNodeContents(e):n.selectNode(e),a&&o&&r?n.collapse(l):a&&o&&(n.setStartAfter(e),n.setEndAfter(e)),this.setSelection(n)},getSelectedNode:function(t){var e,i;return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(i=this.doc.selection.createRange(),i&&i.length)?i.item(0):(e=this.getSelection(this.doc),e.focusNode===e.anchorNode?e.focusNode:(i=this.getRange(this.doc),i?i.commonAncestorContainer:this.doc.body))},executeAndRestore:function(e,i){var n,r=this.doc.body,a=i&&r.scrollTop,s=i&&r.scrollLeft,o="_wysihtml5-temp-placeholder",h='<span class="'+o+'">'+t.INVISIBLE_SPACE+"</span>",l=this.getRange(this.doc);if(!l)return e(r,r),void 0;var c=l.createContextualFragment(h);l.insertNode(c);try{e(l.startContainer,l.endContainer)}catch(u){setTimeout(function(){throw u},0)}caretPlaceholder=this.doc.querySelector("."+o),caretPlaceholder?(n=rangy.createRange(this.doc),n.selectNode(caretPlaceholder),n.deleteContents(),this.setSelection(n)):r.focus(),i&&(r.scrollTop=a,r.scrollLeft=s);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(d){}},executeAndRestoreSimple:function(t){var e,i,n,r,a,s=this.getRange(),o=this.doc.body;if(!s)return t(o,o),void 0;r=s.getNodes([3]),i=r[0]||s.startContainer,n=r[r.length-1]||s.endContainer,a={collapsed:s.collapsed,startContainer:i,startOffset:i===s.startContainer?s.startOffset:0,endContainer:n,endOffset:n===s.endContainer?s.endOffset:n.length};try{t(s.startContainer,s.endContainer)}catch(h){setTimeout(function(){throw h},0)}e=rangy.createRange(this.doc);try{e.setStart(a.startContainer,a.startOffset)}catch(l){}try{e.setEnd(a.endContainer,a.endOffset)}catch(c){}try{this.setSelection(e)}catch(u){}},insertHTML:function(t){var e=rangy.createRange(this.doc),i=e.createContextualFragment(t),n=i.lastChild;this.insertNode(i),n&&this.setAfter(n)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e=this.getRange();if(e)try{e.surroundContents(t),this.selectNode(t)}catch(i){t.appendChild(e.extractContents()),e.insertNode(t)}},scrollIntoView:function(){var i,n=this.doc,r=n.documentElement.scrollHeight>n.documentElement.offsetHeight,a=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||function(){var e=n.createElement("span");return e.innerHTML=t.INVISIBLE_SPACE,e}();r&&(this.insertNode(a),i=e(a),a.parentNode.removeChild(a),i>n.body.scrollTop&&(n.body.scrollTop=i))},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView,e=t.getSelection();e.modify("extend","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e,i,n,r,a=this.doc.selection.createRange(),s=a.boundingTop,o=(a.boundingHeight,this.doc.body.scrollWidth);if(a.moveToPoint){for(0===s&&(i=this.doc.createElement("span"),this.insertNode(i),s=i.offsetTop,i.parentNode.removeChild(i)),s+=1,n=-10;o>n;n+=2)try{a.moveToPoint(n,s);break}catch(h){}for(t=s,e=this.doc.selection.createRange(),r=o;r>=0;r--)try{e.moveToPoint(r,t);break}catch(l){}a.setEndPoint("EndToEnd",e),a.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var i=this.getRange();return i?i.getNodes([t],e):[]},getRange:function(){var t=this.getSelection();return t&&t.rangeCount&&t.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){var e=this.doc.defaultView||this.doc.parentWindow,i=rangy.getSelection(e);return i.setSingleRange(t)}})}(wysihtml5),function(t,e){function i(t,e,i){if(!t.className)return!1;var n=t.className.match(i)||[];return n[n.length-1]===e}function n(t,e,i){t.className?(r(t,i),t.className+=" "+e):t.className=e}function r(t,e){t.className&&(t.className=t.className.replace(e,""))}function a(t,e){return t.className.replace(f," ")==e.className.replace(f," ")}function s(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}function o(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var i,n,r,a=0,s=t.attributes.length;s>a;++a)if(i=t.attributes[a],r=i.name,"class"!=r){if(n=e.attributes.getNamedItem(r),i.specified!=n.specified)return!1;if(i.specified&&i.nodeValue!==n.nodeValue)return!1}return!0}function h(t,i){return e.dom.isCharacterDataNode(t)?0==i?!!t.previousSibling:i==t.length?!!t.nextSibling:!0:i>0&&i<t.childNodes.length}function l(t,i,n){var r;if(e.dom.isCharacterDataNode(i)&&(0==n?(n=e.dom.getNodeIndex(i),i=i.parentNode):n==i.length?(n=e.dom.getNodeIndex(i)+1,i=i.parentNode):r=e.dom.splitDataNode(i,n)),!r){r=i.cloneNode(!1),r.id&&r.removeAttribute("id");for(var a;a=i.childNodes[n];)r.appendChild(a);e.dom.insertAfter(r,i)}return i==t?r:l(t,r.parentNode,e.dom.getNodeIndex(r))}function c(e){this.isElementMerge=e.nodeType==t.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function u(t,e,i,n){this.tagNames=t||[d],this.cssClass=e||"",this.similarClassRegExp=i,this.normalize=n,this.applyToAnyTagName=!1}var d="span",f=/\s+/g;c.prototype={doMerge:function(){for(var t,e,i,n=[],r=0,a=this.textNodes.length;a>r;++r)t=this.textNodes[r],e=t.parentNode,n[r]=t.data,r&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=i=n.join(""),i},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,i=this.textNodes.length;i>e;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},u.prototype={getAncestorWithClass:function(n){for(var r;n;){if(r=this.cssClass?i(n,this.cssClass,this.similarClassRegExp):!0,n.nodeType==t.ELEMENT_NODE&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&r)return n;n=n.parentNode}return!1},postApply:function(t,e){for(var i,n,r,a=t[0],s=t[t.length-1],o=[],h=a,l=s,u=0,d=s.length,f=0,p=t.length;p>f;++f)n=t[f],r=this.getAdjacentMergeableTextNode(n.parentNode,!1),r?(i||(i=new c(r),o.push(i)),i.textNodes.push(n),n===a&&(h=i.firstTextNode,u=h.length),n===s&&(l=i.firstTextNode,d=i.getLength())):i=null;
var m=this.getAdjacentMergeableTextNode(s.parentNode,!0);if(m&&(i||(i=new c(s),o.push(i)),i.textNodes.push(m)),o.length){for(f=0,p=o.length;p>f;++f)o[f].doMerge();e.setStart(h,u),e.setEnd(l,d)}},getAdjacentMergeableTextNode:function(e,i){var n,r=e.nodeType==t.TEXT_NODE,a=r?e.parentNode:e,s=i?"nextSibling":"previousSibling";if(r){if(n=e[s],n&&n.nodeType==t.TEXT_NODE)return n}else if(n=a[s],n&&this.areElementsMergeable(e,n))return n[i?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,i){return e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&e.dom.arrayContains(this.tagNames,(i.tagName||"").toLowerCase())&&a(t,i)&&o(t,i)},createContainer:function(t){var e=t.createElement(this.tagNames[0]);return this.cssClass&&(e.className=this.cssClass),e},applyToTextNode:function(t){var i=t.parentNode;if(1==i.childNodes.length&&e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase()))this.cssClass&&n(i,this.cssClass,this.similarClassRegExp);else{var r=this.createContainer(e.dom.getDocument(t));t.parentNode.insertBefore(r,t),r.appendChild(t)}},isRemovable:function(i){return e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&t.lang.string(i.className).trim()==this.cssClass},undoToTextNode:function(t,e,i){if(!e.containsNode(i)){var n=e.cloneRange();n.selectNode(i),n.isPointInRange(e.endContainer,e.endOffset)&&h(e.endContainer,e.endOffset)&&(l(i,e.endContainer,e.endOffset),e.setEndAfter(i)),n.isPointInRange(e.startContainer,e.startOffset)&&h(e.startContainer,e.startOffset)&&(i=l(i,e.startContainer,e.startOffset))}this.similarClassRegExp&&r(i,this.similarClassRegExp),this.isRemovable(i)&&s(i)},applyToRange:function(e){var i=e.getNodes([t.TEXT_NODE]);if(!i.length)try{var n=this.createContainer(e.endContainer.ownerDocument);return e.surroundContents(n),this.selectNode(e,n),void 0}catch(r){}if(e.splitBoundaries(),i=e.getNodes([t.TEXT_NODE]),i.length){for(var a,s=0,o=i.length;o>s;++s)a=i[s],this.getAncestorWithClass(a)||this.applyToTextNode(a);e.setStart(i[0],0),a=i[i.length-1],e.setEnd(a,a.length),this.normalize&&this.postApply(i,e)}},undoToRange:function(e){var i,n,r=e.getNodes([t.TEXT_NODE]);if(r.length)e.splitBoundaries(),r=e.getNodes([t.TEXT_NODE]);else{var a=e.endContainer.ownerDocument,s=a.createTextNode(t.INVISIBLE_SPACE);e.insertNode(s),e.selectNode(s),r=[s]}for(var o=0,h=r.length;h>o;++o)i=r[o],n=this.getAncestorWithClass(i),n&&this.undoToTextNode(i,e,n);1==h?this.selectNode(e,r[0]):(e.setStart(r[0],0),i=r[r.length-1],e.setEnd(i,i.length),this.normalize&&this.postApply(r,e))},selectNode:function(e,i){var n=i.nodeType===t.ELEMENT_NODE,r="canHaveHTML"in i?i.canHaveHTML:!0,a=n?i.innerHTML:i.data,s=""===a||a===t.INVISIBLE_SPACE;if(s&&n&&r)try{i.innerHTML=t.INVISIBLE_SPACE}catch(o){}e.selectNodeContents(i),s&&n?e.collapse(!1):s&&(e.setStartAfter(i),e.setEndAfter(i))},getTextSelectedByRange:function(t,e){var i=e.cloneRange();i.selectNodeContents(t);var n=i.intersection(e),r=n?n.toString():"";return i.detach(),r},isAppliedToRange:function(e){var i,n=[],r=e.getNodes([t.TEXT_NODE]);if(!r.length)return i=this.getAncestorWithClass(e.startContainer),i?[i]:!1;for(var a,s=0,o=r.length;o>s;++s){if(a=this.getTextSelectedByRange(r[s],e),i=this.getAncestorWithClass(r[s]),""!=a&&!i)return!1;n.push(i)}return n},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)}},t.selection.HTMLApplier=u}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var i=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),r=i&&i.exec,a=null;if(this.editor.fire("beforecommand:composer"),r)n.unshift(this.composer),a=r.apply(i,n);else try{a=this.doc.execCommand(t,!1,e)}catch(s){}return this.editor.fire("aftercommand:composer"),a},state:function(t){var e=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),n=e&&e.state;if(n)return i.unshift(this.composer),n.apply(e,i);try{return this.doc.queryCommandState(t)}catch(r){return!1}},value:function(t){var e=wysihtml5.commands[t],i=e&&e.value;if(i)return i.call(e,this.composer,t);try{return this.doc.queryCommandValue(t)}catch(n){return null}}}),function(t){var e;t.commands.bold={exec:function(e,i){return t.commands.formatInline.exec(e,i,"b")},state:function(e,i){return t.commands.formatInline.state(e,i,"b")},value:function(){return e}}}(wysihtml5),function(t){function e(t,e){for(var i,n,r,s=e.length,o=0;s>o;o++)i=e[o],n=a.getParentElement(i,{nodeName:"code"}),r=a.getTextContent(i),r.match(a.autoLink.URL_REG_EXP)&&!n?n=a.renameElement(i,"code"):a.replaceWithChildNodes(i)}function i(e,i){var s,o,h,l,c,u,d,f,p,m=e.doc,g="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,y=0;for(t.commands.formatInline.exec(e,n,r,g,v),o=m.querySelectorAll(r+"."+g),s=o.length;s>y;y++){h=o[y],h.removeAttribute("class");for(p in i)h.setAttribute(p,i[p])}u=h,1===s&&(d=a.getTextContent(h),l=!!h.querySelector("*"),c=""===d||d===t.INVISIBLE_SPACE,!l&&c&&(a.setTextContent(h,i.text||h.href),f=m.createTextNode(" "),e.selection.setAfter(h),e.selection.insertNode(f),u=f)),e.selection.setAfter(u)}var n,r="A",a=t.dom;t.commands.createLink={exec:function(t,n,r){var a=this.state(t,n);a?t.selection.executeAndRestore(function(){e(t,a)}):(r="object"==typeof r?r:{href:r},i(t,r))},state:function(e,i){return t.commands.formatInline.state(e,i,"A")},value:function(){return n}}}(wysihtml5),function(t){var e,i=/wysiwyg-font-size-[a-z\-]+/g;t.commands.fontSize={exec:function(e,n,r){return t.commands.formatInline.exec(e,n,"span","wysiwyg-font-size-"+r,i)},state:function(e,n,r){return t.commands.formatInline.state(e,n,"span","wysiwyg-font-size-"+r,i)},value:function(){return e}}}(wysihtml5),function(t){var e,i=/wysiwyg-color-[a-z]+/g;t.commands.foreColor={exec:function(e,n,r){return t.commands.formatInline.exec(e,n,"span","wysiwyg-color-"+r,i)},state:function(e,n,r){return t.commands.formatInline.state(e,n,"span","wysiwyg-color-"+r,i)},value:function(){return e}}}(wysihtml5),function(t){function e(t,e,n){t.className?(i(t,n),t.className+=" "+e):t.className=e}function i(t,e){t.className=t.className.replace(e,"")}function n(e){return e.nodeType===t.TEXT_NODE&&!t.lang.string(e.data).trim()}function r(t){for(var e=t.previousSibling;e&&n(e);)e=e.previousSibling;return e}function a(t){for(var e=t.nextSibling;e&&n(e);)e=e.nextSibling;return e}function s(t){var e=t.ownerDocument,i=a(t),n=r(t);i&&!c(i)&&t.parentNode.insertBefore(e.createElement("br"),i),n&&!c(n)&&t.parentNode.insertBefore(e.createElement("br"),t)}function o(t){var e=a(t),i=r(t);e&&l(e)&&e.parentNode.removeChild(e),i&&l(i)&&i.parentNode.removeChild(i)}function h(t){var e=t.lastChild;e&&l(e)&&e.parentNode.removeChild(e)}function l(t){return"BR"===t.nodeName}function c(t){return l(t)?!0:"block"===m.getStyle("display").from(t)?!0:!1}function u(e,i,n,r){if(r)var a=m.observe(e,"DOMNodeInserted",function(e){var i,n=e.target;n.nodeType===t.ELEMENT_NODE&&(i=m.getStyle("display").from(n),"inline"!==i.substr(0,6)&&(n.className+=" "+r))});e.execCommand(i,!1,n),a&&a.stop()}function d(t,e){t.selection.selectLine(),t.selection.surround(e),o(e),h(e),t.selection.selectNode(e)}function f(e){return!!t.lang.string(e.className).trim()}var p,m=t.dom,g="DIV",v=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",g];t.commands.formatBlock={exec:function(n,r,a,o,h){var l,c=n.doc,p=this.state(n,r,a,o,h);return a="string"==typeof a?a.toUpperCase():a,p?(n.selection.executeAndRestoreSimple(function(){h&&i(p,h);var t=f(p);t||p.nodeName!==(a||g)?t&&m.renameElement(p,g):(s(p),m.replaceWithChildNodes(p))}),void 0):(null===a||t.lang.array(v).contains(a))&&(l=n.selection.getSelectedNode(),p=m.getParentElement(l,{nodeName:v}))?(n.selection.executeAndRestoreSimple(function(){a&&(p=m.renameElement(p,a)),o&&e(p,o,h)}),void 0):n.commands.support(r)?(u(c,r,a||g,o),void 0):(p=c.createElement(a||g),o&&(p.className=o),d(n,p),void 0)},state:function(t,e,i,n,r){i="string"==typeof i?i.toUpperCase():i;var a=t.selection.getSelectedNode();return m.getParentElement(a,{nodeName:i,className:n,classRegExp:r})},value:function(){return p}}}(wysihtml5),function(t){function e(t){var e=r[t];return e?[t.toLowerCase(),e.toLowerCase()]:[t.toLowerCase()]}function i(i,n,r){var s=i+":"+n;return a[s]||(a[s]=new t.selection.HTMLApplier(e(i),n,r,!0)),a[s]}var n,r={strong:"b",em:"i",b:"strong",i:"em"},a={};t.commands.formatInline={exec:function(t,e,n,r,a){var s=t.selection.getRange();return s?(i(n,r,a).toggleRange(s),t.selection.setSelection(s),void 0):!1},state:function(e,n,a,s,o){var h,l=e.doc,c=r[a]||a;return t.dom.hasElementWithTagName(l,a)||t.dom.hasElementWithTagName(l,c)?s&&!t.dom.hasElementWithClassName(l,s)?!1:(h=e.selection.getRange(),h?i(a,s,o).isAppliedToRange(h):!1):!1},value:function(){return n}}}(wysihtml5),function(t){var e;t.commands.insertHTML={exec:function(t,e,i){t.commands.support(e)?t.doc.execCommand(e,!1,i):t.selection.insertHTML(i)},state:function(){return!1},value:function(){return e}}}(wysihtml5),function(t){var e="IMG";t.commands.insertImage={exec:function(i,n,r){r="object"==typeof r?r:{src:r};var a,s,o,h=i.doc,l=this.state(i);if(l)return i.selection.setBefore(l),o=l.parentNode,o.removeChild(l),t.dom.removeEmptyTextNodes(o),"A"!==o.nodeName||o.firstChild||(i.selection.setAfter(o),o.parentNode.removeChild(o)),t.quirks.redraw(i.element),void 0;l=h.createElement(e);for(s in r)l[s]=r[s];i.selection.insertNode(l),t.browser.hasProblemsSettingCaretAfterImg()?(a=h.createTextNode(t.INVISIBLE_SPACE),i.selection.insertNode(a),i.selection.setAfter(a)):i.selection.setAfter(l)},state:function(i){var n,r,a,s=i.doc;return t.dom.hasElementWithTagName(s,e)?(n=i.selection.getSelectedNode())?n.nodeName===e?n:n.nodeType!==t.ELEMENT_NODE?!1:(r=i.selection.getText(),(r=t.lang.string(r).trim())?!1:(a=i.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName}),1!==a.length?!1:a[0])):!1:!1},value:function(t){var e=this.state(t);return e&&e.src}}}(wysihtml5),function(t){var e,i="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(e,n){e.commands.support(n)?(e.doc.execCommand(n,!1,null),t.browser.autoScrollsToCaret()||e.selection.scrollIntoView()):e.commands.exec("insertHTML",i)},state:function(){return!1},value:function(){return e}}}(wysihtml5),function(t){var e;t.commands.insertOrderedList={exec:function(e,i){var n,r,a=e.doc,s=e.selection.getSelectedNode(),o=t.dom.getParentElement(s,{nodeName:"OL"}),h=t.dom.getParentElement(s,{nodeName:"UL"}),l="_wysihtml5-temp-"+(new Date).getTime();return e.commands.support(i)?(a.execCommand(i,!1,null),void 0):(o?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(o)}):h?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(h,"ol")}):(e.commands.exec("formatBlock","div",l),r=a.querySelector("."+l),n=""===r.innerHTML||r.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){o=t.dom.convertToList(r,"ol")}),n&&e.selection.selectNode(o.querySelector("li"))),void 0)},state:function(e){var i=e.selection.getSelectedNode();return t.dom.getParentElement(i,{nodeName:"OL"})},value:function(){return e}}}(wysihtml5),function(t){var e;t.commands.insertUnorderedList={exec:function(e,i){var n,r,a=e.doc,s=e.selection.getSelectedNode(),o=t.dom.getParentElement(s,{nodeName:"UL"}),h=t.dom.getParentElement(s,{nodeName:"OL"}),l="_wysihtml5-temp-"+(new Date).getTime();return e.commands.support(i)?(a.execCommand(i,!1,null),void 0):(o?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(o)}):h?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(h,"ul")}):(e.commands.exec("formatBlock","div",l),r=a.querySelector("."+l),n=""===r.innerHTML||r.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){o=t.dom.convertToList(r,"ul")}),n&&e.selection.selectNode(o.querySelector("li"))),void 0)},state:function(e){var i=e.selection.getSelectedNode();return t.dom.getParentElement(i,{nodeName:"UL"})},value:function(){return e}}}(wysihtml5),function(t){var e;t.commands.italic={exec:function(e,i){return t.commands.formatInline.exec(e,i,"i")},state:function(e,i){return t.commands.formatInline.state(e,i,"i")},value:function(){return e}}}(wysihtml5),function(t){var e,i="wysiwyg-text-align-center",n=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyCenter={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,i,n)},value:function(){return e}}}(wysihtml5),function(t){var e,i="wysiwyg-text-align-left",n=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyLeft={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,i,n)},value:function(){return e}}}(wysihtml5),function(t){var e,i="wysiwyg-text-align-right",n=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyRight={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,i,n)},value:function(){return e}}}(wysihtml5),function(t){var e;t.commands.underline={exec:function(e,i){return t.commands.formatInline.exec(e,i,"u")},state:function(e,i){return t.commands.formatInline.state(e,i,"u")},value:function(){return e}}}(wysihtml5),function(t){function e(t){for(var e;e=t.querySelector("._wysihtml5-temp");)e.parentNode.removeChild(e)}var i=90,n=89,r=8,a=46,s=40,o='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",h='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",l=t.dom;t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var s,c=this,u=this.composer.sandbox.getDocument();if(l.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var e=t.keyCode,r=e===i&&!t.shiftKey,a=e===i&&t.shiftKey||e===n;r?(c.undo(),t.preventDefault()):a&&(c.redo(),t.preventDefault())}}),l.observe(this.element,"keydown",function(t){var e=t.keyCode;e!==s&&(s=e,(e===r||e===a)&&c.transact())}),t.browser.hasUndoInContextMenu()){var d,f,p=function(){e(u),clearInterval(d)};l.observe(this.element,"contextmenu",function(){p(),c.composer.selection.executeAndRestoreSimple(function(){c.element.lastChild&&c.composer.selection.setAfter(c.element.lastChild),u.execCommand("insertHTML",!1,o),u.execCommand("insertHTML",!1,h),u.execCommand("undo",!1,null)}),d=setInterval(function(){u.getElementById("_wysihtml5-redo")?(p(),c.redo()):u.getElementById("_wysihtml5-undo")||(p(),c.undo())},400),f||(f=!0,l.observe(document,"mousedown",p),l.observe(u,["mousedown","paste","cut","copy"],p))})}this.editor.observe("newword:composer",function(){c.transact()}).observe("beforecommand:composer",function(){c.transact()})},transact:function(){var t=this.history[this.position-1],e=this.composer.getValue();if(e!=t){var i=this.history.length=this.position;i>s&&(this.history.shift(),this.position--),this.position++,this.history.push(e)}},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(t){this.composer.setValue(t),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,i){this.parent=t,this.element=e,this.config=i,this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.observe("beforeload",function(){t.parent.observe("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,i=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,i){this.base(t,e,i),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=i.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e){var i=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return e&&(i=this.parent.parse(i)),i=t.lang.string(i).replace(t.INVISIBLE_SPACE).by("")},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.innerHTML=t},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=e.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var i=this.element.lastChild;e&&i&&("BR"===i.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var t=this.element.innerHTML,e="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===t||t===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(e)},_initSandbox:function(){var t=this;this.sandbox=new e.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var i=document.createElement("input");i.type="hidden",i.name="_wysihtml5_mode",i.value=1;var n=this.textarea.element;e.insert(this.iframe).after(n),e.insert(i).after(n)},_create:function(){var n=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new t.Selection(this.parent),this.commands=new t.Commands(this.parent),e.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var r=this.config.name;r&&(e.addClass(this.element,r),e.addClass(this.iframe,r));var a="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");a&&e.simulatePlaceholder(this.parent,this,a),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){n.focus()},100),t.quirks.insertLineBreakOnReturn(this),i.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),i.clearsListsInContentEditableCorrectly()||t.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var n=this,r=i.canDisableAutoLinking(),a=i.doesAutoLinkingInContentEditable();if(r&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!a||a&&r)&&this.parent.observe("newword:composer",function(){n.selection.executeAndRestore(function(t,i){e.autoLink(i.parentNode)})});var s=this.sandbox.getDocument().getElementsByTagName("a"),o=e.autoLink.URL_REG_EXP,h=function(i){var n=t.lang.string(e.getTextContent(i)).trim();return"www."===n.substr(0,4)&&(n="http://"+n),n};e.observe(this.element,"keydown",function(t){if(s.length){var i,r=n.selection.getSelectedNode(t.target.ownerDocument),a=e.getParentElement(r,{nodeName:"A"},4);a&&(i=h(a),setTimeout(function(){var t=h(a);t!==i&&t.match(o)&&a.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){var n=["width","height"],r=n.length,a=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?i.supportsEvent("resizeend")&&e.observe(a,"resizeend",function(e){for(var i,s=e.target||e.srcElement,o=s.style,h=0;r>h;h++)i=n[h],o[i]&&(s.setAttribute(i,parseInt(o[i],10)),o[i]="");t.quirks.redraw(a)}):i.supportsEvent("resizestart")&&e.observe(a,"resizestart",function(t){t.preventDefault()})},_initUndoManager:function(){new t.UndoManager(this.parent)}})}(wysihtml5),function(t){var e=t.dom,i=document,n=window,r=i.createElement("div"),a=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],s=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],o=["width","height","top","left","right","bottom"],h=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],l=function(t){if(t.setActive)try{t.setActive()}catch(r){}else{var a=t.style,s=i.documentElement.scrollTop||i.body.scrollTop,o=i.documentElement.scrollLeft||i.body.scrollLeft,h={position:a.position,top:a.top,left:a.left,WebkitUserSelect:a.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(h).on(t),n.scrollTo&&n.scrollTo(o,s)}};t.views.Composer.prototype.style=function(){var c=this,u=i.querySelector(":focus"),d=this.textarea.element,f=d.hasAttribute("placeholder"),p=f&&d.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||r.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||r.cloneNode(!1),f&&d.removeAttribute("placeholder"),d===u&&d.blur(),e.copyStyles(s).from(d).to(this.iframe).andTo(this.blurStylesHost),e.copyStyles(a).from(d).to(this.element).andTo(this.blurStylesHost),e.insertCSS(h).into(this.element.ownerDocument),l(d),e.copyStyles(s).from(d).to(this.focusStylesHost),e.copyStyles(a).from(d).to(this.focusStylesHost);var m=t.lang.array(s).without(["display"]);if(u?u.focus():d.blur(),f&&d.setAttribute("placeholder",p),!t.browser.hasCurrentStyleProperty())var g=e.observe(n,"resize",function(){if(!e.contains(document.documentElement,c.iframe))return g.stop(),void 0;var t=e.getStyle("display").from(d),i=e.getStyle("display").from(c.iframe);d.style.display="",c.iframe.style.display="none",e.copyStyles(o).from(d).to(c.iframe).andTo(c.focusStylesHost).andTo(c.blurStylesHost),c.iframe.style.display=i,d.style.display=t});return this.parent.observe("focus:composer",function(){e.copyStyles(m).from(c.focusStylesHost).to(c.iframe),e.copyStyles(a).from(c.focusStylesHost).to(c.element)}),this.parent.observe("blur:composer",function(){e.copyStyles(m).from(c.blurStylesHost).to(c.iframe),e.copyStyles(a).from(c.blurStylesHost).to(c.element)}),this}}(wysihtml5),function(t){var e=t.dom,i=t.browser,n={66:"bold",73:"italic",85:"underline"};t.views.Composer.prototype.observe=function(){var r=this,a=this.getValue(),s=this.sandbox.getIframe(),o=this.element,h=i.supportsEventsInIframeCorrectly()?o:this.sandbox.getWindow(),l=i.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];e.observe(s,"DOMNodeRemoved",function(){clearInterval(c),r.parent.fire("destroy:composer")});var c=setInterval(function(){e.contains(document.documentElement,s)||(clearInterval(c),r.parent.fire("destroy:composer"))},250);e.observe(h,"focus",function(){r.parent.fire("focus").fire("focus:composer"),setTimeout(function(){a=r.getValue()},0)}),e.observe(h,"blur",function(){a!==r.getValue()&&r.parent.fire("change").fire("change:composer"),r.parent.fire("blur").fire("blur:composer")}),t.browser.isIos()&&e.observe(o,"blur",function(){var t=o.ownerDocument.createElement("input"),e=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.scrollLeft||document.body.scrollLeft;try{r.selection.insertNode(t)}catch(n){o.appendChild(t)}t.focus(),t.parentNode.removeChild(t),window.scrollTo(i,e)}),e.observe(o,"dragenter",function(){r.parent.fire("unset_placeholder")}),i.firesOnDropOnlyWhenOnDragOverIsCancelled()&&e.observe(o,["dragover","dragenter"],function(t){t.preventDefault()}),e.observe(o,l,function(t){var e,n=t.dataTransfer;console.log("PASTED",t),n&&i.supportsDataTransfer()&&(e=n.getData("text/html")||n.getData("text/plain")),e?(o.focus(),r.commands.exec("insertHTML",e),r.parent.fire("paste").fire("paste:composer"),t.stopPropagation(),t.preventDefault()):setTimeout(function(){r.parent.fire("paste").fire("paste:composer")},0)}),e.observe(o,"keyup",function(e){var i=e.keyCode;(i===t.SPACE_KEY||i===t.ENTER_KEY)&&r.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){r.parent.fire("newword:composer")},0)}),i.canSelectImagesInContentEditable()||e.observe(o,"mousedown",function(t){var e=t.target;"IMG"===e.nodeName&&(r.selection.selectNode(e),t.preventDefault())}),e.observe(o,"keydown",function(t){var e=t.keyCode,i=n[e];(t.ctrlKey||t.metaKey)&&!t.altKey&&i&&(r.commands.exec(i),t.preventDefault())}),e.observe(o,"keydown",function(e){var i,n=r.selection.getSelectedNode(!0),a=e.keyCode;!n||"IMG"!==n.nodeName||a!==t.BACKSPACE_KEY&&a!==t.DELETE_KEY||(i=n.parentNode,i.removeChild(n),"A"!==i.nodeName||i.firstChild||i.parentNode.removeChild(i),setTimeout(function(){t.quirks.redraw(o)},0),e.preventDefault())});var u={IMG:"Image: ",A:"Link: "};e.observe(o,"mouseover",function(t){var e,i=t.target,n=i.nodeName;if("A"===n||"IMG"===n){var r=i.hasAttribute("title");r||(e=u[n]+(i.getAttribute("href")||i.getAttribute("src")),i.setAttribute("title",e))}})}}(wysihtml5),function(t){var e=400;t.views.Synchronizer=Base.extend({constructor:function(t,e,i){this.editor=t,this.textarea=e,this.composer=i,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue()).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue();e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var i,n=this,r=this.textarea.element.form,a=function(){i=setInterval(function(){n.fromComposerToTextarea()},e)},s=function(){clearInterval(i),i=null};a(),r&&(t.dom.observe(r,"submit",function(){n.sync(!0)}),t.dom.observe(r,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(t){"composer"!==t||i?"textarea"===t&&(n.fromComposerToTextarea(!0),s()):(n.fromTextareaToComposer(!0),a())}),this.editor.observe("destroy:composer",s)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,i){this.base(t,e,i),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,i=this.element.value,n=!i;return t&&n||i===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,i={focusin:"focus",focusout:"blur"},n=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.observe("beforeload",function(){wysihtml5.dom.observe(t,n,function(t){var n=i[t.type]||t.type;e.fire(n).fire(n+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e=t.dom,i="wysihtml5-command-dialog-opened",n="input, select, textarea",r="[data-wysihtml5-dialog-field]",a="data-wysihtml5-dialog-field";t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var r=this,a=function(t){var e=r._serialize();e==r.elementToChange?r.fire("edit",e):r.fire("save",e),r.hide(),t.preventDefault(),t.stopPropagation()};e.observe(r.link,"click",function(){e.hasClass(r.link,i)&&setTimeout(function(){r.hide()},0)}),e.observe(this.container,"keydown",function(e){var i=e.keyCode;i===t.ENTER_KEY&&a(e),i===t.ESCAPE_KEY&&r.hide()}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",a),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){r.fire("cancel"),r.hide(),t.preventDefault(),t.stopPropagation()});for(var s=this.container.querySelectorAll(n),o=0,h=s.length,l=function(){clearInterval(r.interval)};h>o;o++)e.observe(s[o],"change",l);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll(r),i=e.length,n=0;i>n;n++)t[e[n].getAttribute(a)]=e[n].value;return t},_interpolate:function(t){for(var e,i,n,s=document.querySelector(":focus"),o=this.container.querySelectorAll(r),h=o.length,l=0;h>l;l++)e=o[l],e!==s&&(t&&"hidden"===e.type||(i=e.getAttribute(a),n=this.elementToChange?this.elementToChange[i]||"":e.defaultValue,e.value=n))},show:function(t){var r=this,a=this.container.querySelector(n);if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){r._interpolate(!0)},500)),e.addClass(this.link,i),this.container.style.display="",this.fire("show"),a&&!t)try{a.focus()}catch(s){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,i),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,i={position:"relative"},n={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},r={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},a={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(s,o){var h=document.createElement("input");if(!t.browser.supportsSpeechApiOn(h))return o.style.display="none",void 0;var l=document.createElement("div");t.lang.object(n).merge({width:o.offsetWidth+"px",height:o.offsetHeight+"px"}),e.insert(h).into(l),e.insert(l).into(o),e.setStyles(r).on(h),e.setAttributes(a).on(h),e.setStyles(n).on(l),e.setStyles(i).on(o);var c="onwebkitspeechchange"in h?"webkitspeechchange":"speechchange";e.observe(h,c,function(){s.execCommand("insertText",h.value),h.value=""}),e.observe(h,"click",function(t){e.hasClass(o,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}}(wysihtml5),function(t){var e="wysihtml5-command-disabled",i="wysihtml5-commands-disabled",n="wysihtml5-command-active",r="wysihtml5-action-active",a=t.dom;
t.toolbar.Toolbar=Base.extend({constructor:function(e,i){this.editor=e,this.container="string"==typeof i?document.getElementById(i):i,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var n=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),r=n.length,a=0;r>a;a++)new t.toolbar.Speech(this,n[a])},_getLinks:function(e){for(var i,n,r,a,s,o=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),h=o.length,l=0,c=this[e+"Mapping"]={};h>l;l++)i=o[l],r=i.getAttribute("data-wysihtml5-"+e),a=i.getAttribute("data-wysihtml5-"+e+"-value"),n=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+r+"']"),s=this._getDialog(i,r),c[r+":"+a]={link:i,group:n,name:r,value:a,dialog:s,state:!1}},_getDialog:function(e,i){var n,r,a=this,s=this.container.querySelector("[data-wysihtml5-dialog='"+i+"']");return s&&(n=new t.toolbar.Dialog(e,s),n.observe("show",function(){r=a.composer.selection.getBookmark(),a.editor.fire("show:dialog",{command:i,dialogContainer:s,commandLink:e})}),n.observe("save",function(t){r&&a.composer.selection.setBookmark(r),a._execCommand(i,t),a.editor.fire("save:dialog",{command:i,dialogContainer:s,commandLink:e})}),n.observe("cancel",function(){a.editor.focus(!1),a.editor.fire("cancel:dialog",{command:i,dialogContainer:s,commandLink:e})})),n},execCommand:function(t,e){if(!this.commandsDisabled){var i=this.commandMapping[t+":"+e];i&&i.dialog&&!i.state?i.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;switch(t){case"change_view":e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")}},_observe:function(){for(var t=this,e=this.editor,n=this.container,r=this.commandLinks.concat(this.actionLinks),s=r.length,o=0;s>o;o++)a.setAttributes({href:"javascript:;",unselectable:"on"}).on(r[o]);a.delegate(n,"[data-wysihtml5-command]","mousedown",function(t){t.preventDefault()}),a.delegate(n,"[data-wysihtml5-command]","click",function(e){var i=this,n=i.getAttribute("data-wysihtml5-command"),r=i.getAttribute("data-wysihtml5-command-value");t.execCommand(n,r),e.preventDefault()}),a.delegate(n,"[data-wysihtml5-action]","click",function(e){var i=this.getAttribute("data-wysihtml5-action");t.execAction(i),e.preventDefault()}),e.observe("focus:composer",function(){t.bookmark=null,clearInterval(t.interval),t.interval=setInterval(function(){t._updateLinkStates()},500)}),e.observe("blur:composer",function(){clearInterval(t.interval)}),e.observe("destroy:composer",function(){clearInterval(t.interval)}),e.observe("change_view",function(e){setTimeout(function(){t.commandsDisabled="composer"!==e,t._updateLinkStates(),t.commandsDisabled?a.addClass(n,i):a.removeClass(n,i)},0)})},_updateLinkStates:function(){var i,s,o,h,l=(this.composer.element,this.commandMapping),c=this.actionMapping;for(i in l)h=l[i],this.commandsDisabled?(s=!1,a.removeClass(h.link,n),h.group&&a.removeClass(h.group,n),h.dialog&&h.dialog.hide()):(s=this.composer.commands.state(h.name,h.value),t.lang.object(s).isArray()&&(s=1===s.length?s[0]:!0),a.removeClass(h.link,e),h.group&&a.removeClass(h.group,e)),h.state!==s&&(h.state=s,s?(a.addClass(h.link,n),h.group&&a.addClass(h.group,n),h.dialog&&("object"==typeof s?h.dialog.show(s):h.dialog.hide())):(a.removeClass(h.link,n),h.group&&a.removeClass(h.group,n),h.dialog&&h.dialog.hide()));for(i in c)o=c[i],"change_view"===o.name&&(o.state=this.editor.currentView===this.editor.textarea,o.state?a.addClass(o.link,r):a.removeClass(o.link,r))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){var e,i={name:e,style:!0,toolbar:e,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:e,allowObjectResizing:!0,supportTouchDevices:!0};t.Editor=t.lang.Dispatcher.extend({constructor:function(e,n){if(this.textareaElement="string"==typeof e?document.getElementById(e):e,this.config=t.lang.object({}).merge(i).merge(n).get(),this.textarea=new t.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=t.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var r=this;return setTimeout(function(){r.fire("beforeload").fire("load")},0),void 0}t.dom.addClass(document.body,this.config.bodyClassName),this.composer=new t.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(a){}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t){return this.currentView.getValue(t)},setValue:function(t,e){return t?(this.currentView.setValue(t,e),this):this.clear()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e){var i=this.config.parser(e,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof e&&t.quirks.redraw(e),i},_initParser:function(){this.observe("paste:composer",function(){var e=!0,i=this;i.composer.selection.executeAndRestore(function(){t.quirks.cleanPastedHTML(i.composer.element),i.parse(i.composer.element)},e)}),this.observe("paste:textarea",function(){var t,e=this.textarea.getValue();t=this.parse(e),this.textarea.setValue(t)})}})}(wysihtml5),!function(t,e){"use strict";var i={"font-styles":function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li class='dropdown'><a class='btn btn-default btn"+i+" dropdown-toggle' data-toggle='dropdown' href='#'><i class='fa fa-font'></i>&nbsp;<span class='current-font'>"+t.font_styles.normal+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'>"+t.font_styles.normal+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'>"+t.font_styles.h1+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'>"+t.font_styles.h2+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'>"+t.font_styles.h3+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h4'>"+t.font_styles.h4+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h5'>"+t.font_styles.h5+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h6'>"+t.font_styles.h6+"</a></li></ul></li>"},emphasis:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='btn-group'><a class='btn btn-default btn"+i+"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>"+t.emphasis.bold+"</a><a class='btn btn-default btn"+i+"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>"+t.emphasis.italic+"</a><a class='btn btn-default btn"+i+"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>"+t.emphasis.underline+"</a></div></li>"},lists:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='btn-group'><a class='btn btn-default btn"+i+"' data-wysihtml5-command='insertUnorderedList' title='"+t.lists.unordered+"' tabindex='-1'><i class='fa fa-list'></i></a><a class='btn btn-default btn"+i+"' data-wysihtml5-command='insertOrderedList' title='"+t.lists.ordered+"' tabindex='-1'><i class='fa fa-th-list'></i></a><a class='btn btn-default btn"+i+"' data-wysihtml5-command='Outdent' title='"+t.lists.outdent+"' tabindex='-1'><i class='fa fa-outdent'></i></a><a class='btn btn-default btn"+i+"' data-wysihtml5-command='Indent' title='"+t.lists.indent+"' tabindex='-1'><i class='fa fa-indent'></i></a></div></li>"},link:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3 class='modal-title'>"+t.link.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-link-url form-control'><label class='checkbox'> <input type='checkbox' class='bootstrap-wysihtml5-insert-link-target' checked>"+t.link.target+"</label></div><div class='modal-footer'><a href='#' class='btn btn-default' data-dismiss='modal'>"+t.link.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+t.link.insert+"</a></div></div></div></div><a class='btn btn-default"+i+"' data-wysihtml5-command='createLink' title='"+t.link.insert+"' tabindex='-1'><i class='fa fa-link'></i></a></li>"},image:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3 class='modal-title'>"+t.image.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-image-url form-control'></div><div class='modal-footer'><a href='#' class='btn btn-default' data-dismiss='modal'>"+t.image.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+t.image.insert+"</a></div></div></div></div><a class='btn btn-default btn"+i+"' data-wysihtml5-command='insertImage' title='"+t.image.insert+"' tabindex='-1'><i class='fa fa-picture-o'></i></a></li>"},html:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='btn-group'><a class='btn btn-default btn"+i+"' data-wysihtml5-action='change_view' title='"+t.html.edit+"' tabindex='-1'><i class='fa fa-pencil'></i></a></div></li>"},color:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+i+"' data-toggle='dropdown' href='#' tabindex='-1'><span class='current-color'>"+t.colours.black+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>"+t.colours.black+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>"+t.colours.silver+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>"+t.colours.gray+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>"+t.colours.maroon+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>"+t.colours.red+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>"+t.colours.purple+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>"+t.colours.green+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>"+t.colours.olive+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>"+t.colours.navy+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>"+t.colours.blue+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>"+t.colours.orange+"</a></li></ul></li>"}},n=function(t,e,n){return i[t](e,n)},r=function(e,n){this.el=e;var r=n||s;for(var a in r.customTemplates)i[a]=r.customTemplates[a];this.toolbar=this.createToolbar(e,r),this.editor=this.createEditor(n),window.editor=this.editor,t("iframe.wysihtml5-sandbox").each(function(e,i){t(i.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){t("li.dropdown").removeClass("open")}})})};r.prototype={constructor:r,createEditor:function(i){i=i||{},i=t.extend(!0,{},i),i.toolbar=this.toolbar[0];var n=new e.Editor(this.el[0],i);if(i&&i.events)for(var r in i.events)n.on(r,i.events[r]);return n},createToolbar:function(e,i){var r=this,a=t("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),h=i.locale||s.locale||"en";for(var l in s){var c=!1;void 0!==i[l]?i[l]===!0&&(c=!0):c=s[l],c===!0&&(a.append(n(l,o[h],i)),"html"===l&&this.initHtml(a),"link"===l&&this.initInsertLink(a),"image"===l&&this.initInsertImage(a))}if(i.toolbar)for(l in i.toolbar)a.append(i.toolbar[l]);return a.find("a[data-wysihtml5-command='formatBlock']").click(function(e){var i=e.target||e.srcElement,n=t(i);r.toolbar.find(".current-font").text(n.html())}),a.find("a[data-wysihtml5-command='foreColor']").click(function(e){var i=e.target||e.srcElement,n=t(i);r.toolbar.find(".current-color").text(n.html())}),this.el.before(a),a},initHtml:function(t){var e="a[data-wysihtml5-action='change_view']";t.find(e).click(function(){t.find("a.btn").not(e).toggleClass("disabled")})},initInsertImage:function(e){var i,n=this,r=e.find(".bootstrap-wysihtml5-insert-image-modal"),a=r.find(".bootstrap-wysihtml5-insert-image-url"),s=r.find("a.btn-primary"),o=a.val(),h=function(){var t=a.val();a.val(o),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null),n.editor.composer.commands.exec("insertImage",t)};a.keypress(function(t){13==t.which&&(h(),r.modal("hide"))}),s.click(h),r.on("shown",function(){a.focus()}),r.on("hide",function(){n.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=insertImage]").click(function(){var e=t(this).hasClass("wysihtml5-command-active");return e?!0:(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},initInsertLink:function(e){var i,n=this,r=e.find(".bootstrap-wysihtml5-insert-link-modal"),a=r.find(".bootstrap-wysihtml5-insert-link-url"),s=r.find(".bootstrap-wysihtml5-insert-link-target"),o=r.find("a.btn-primary"),h=a.val(),l=function(){var t=a.val();a.val(h),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null);var e=s.prop("checked");n.editor.composer.commands.exec("createLink",{href:t,target:e?"_blank":"_self",rel:e?"nofollow":""})};a.keypress(function(t){13==t.which&&(l(),r.modal("hide"))}),o.click(l),r.on("shown",function(){a.focus()}),r.on("hide",function(){n.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=createLink]").click(function(){var e=t(this).hasClass("wysihtml5-command-active");return e?!0:(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})}};var a={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var i=t(this);i.data("wysihtml5",new r(i,e))})},shallowExtend:function(e){var i=t.extend({},t.fn.wysihtml5.defaultOptions,e||{},t(this).data()),n=this;return a.bypassDefaults.apply(n,[i])},deepExtend:function(e){var i=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{}),n=this;return a.bypassDefaults.apply(n,[i])},init:function(t){var e=this;return a.shallowExtend.apply(e,[t])}};t.fn.wysihtml5=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.wysihtml5"),void 0):a.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=r;var s=t.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url",target:"alt",rel:"alt"}},span:1,div:1,code:1,pre:1}},stylesheets:["/assets/bootstrap-wysihtml5/wysiwyg-color-302f69eedfbd67c993f8ce2bc64c971c.css"],locale:"en"};"undefined"==typeof t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions));var o=t.fn.wysihtml5.locale={en:{font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5),/* ========================================================================
 * Bootstrap: affix.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#affix
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";var e=function(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),a=this.options.offset,s=a.top,o=a.bottom;"object"!=typeof a&&(o=s=a),"function"==typeof s&&(s=a.top()),"function"==typeof o&&(o=a.bottom());var h=null!=this.unpin&&n+this.unpin<=r.top?!1:null!=o&&r.top+this.$element.height()>=i-o?"bottom":null!=s&&s>=n?"top":!1;this.affixed!==h&&(this.unpin&&this.$element.css("top",""),this.affixed=h,this.unpin="bottom"==h?r.top-n:null,this.$element.removeClass(e.RESET).addClass("affix"+(h?"-"+h:"")),"bottom"==h&&this.$element.offset({top:document.body.offsetHeight-o-this.$element.height()}))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),r=n.data("bs.affix"),a="object"==typeof i&&i;r||n.data("bs.affix",r=new e(this,a)),"string"==typeof i&&r[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(window.jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#alerts
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){a.trigger("closed.bs.alert").remove()}var n=t(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t(r);e&&e.preventDefault(),a.length||(a=n.hasClass("alert")?n:n.parent()),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(window.jQuery),/* ========================================================================
 * Bootstrap: button.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#buttons
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",r=i.data();t+="Text",r.resetText||i.data("resetText",i[n]()),i[n](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),r=n.data("bs.button"),a="object"==typeof i&&i;r||n.data("bs.button",r=new e(this,a)),"toggle"==i?r.toggle():i&&r.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(window.jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#carousel
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),r=i||n[e](),a=this.interval,s="next"==e?"left":"right",o="next"==e?"first":"last",h=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[o]()}this.sliding=!0,a&&this.pause();var l=t.Event("slide.bs.carousel",{relatedTarget:r[0],direction:s});if(!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,n.addClass(s),r.addClass(s),n.one(t.support.transition.end,function(){r.removeClass([e,s].join(" ")).addClass("active"),n.removeClass(["active",s].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;n.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),r=n.data("bs.carousel"),a=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i),s="string"==typeof i?i:a.slide;r||n.data("bs.carousel",r=new e(this,a)),"number"==typeof i?r.to(i):s?r[s]():a.interval&&r.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n=t(this),r=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},r.data(),n.data()),s=n.attr("data-slide-to");s&&(a.interval=!1),r.carousel(a),(s=n.attr("data-slide-to"))&&r.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(window.jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#collapse
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var s=t.camelCase(["scroll",r].join("-"));this.$element.one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350)[r](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350),void 0):n.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),a=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);r||n.data("bs.collapse",r=new e(this,a)),"string"==typeof i&&r[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),a=t(r),s=a.data("bs.collapse"),o=s?"toggle":n.data(),h=n.attr("data-parent"),l=h&&t(h);s&&s.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+h+'"]').not(n).addClass("collapsed"),n[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),a.collapse(o)})}(window.jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#dropdowns
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";function e(){t(n).remove(),t(r).each(function(e){var n=i(t(this));n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",r="[data-toggle=dropdown]",a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var a=i(r),s=a.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),a.trigger(n=t.Event("show.bs.dropdown")),n.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown"),r.focus()}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var a=i(n),s=a.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&a.find(r).focus(),n.click();var o=t("[role=menu] li:not(.divider):visible a",a);if(o.length){var h=o.index(o.filter(":focus"));38==e.keyCode&&h>0&&h--,40==e.keyCode&&h<o.length-1&&h++,~h||(h=0),o.eq(h).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new a(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",a.prototype.keydown)}(window.jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#modals
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var r=t(this),a=r.data("bs.modal"),s=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);a||r.data("bs.modal",a=new e(this,s)),"string"==typeof i?a[i](n):s.show&&a.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),r=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},r.data(),i.data());e.preventDefault(),r.modal(a,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(window.jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),a=r.length;a--;){var s=r[a];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var o="hover"==s?"mouseenter":"focus",h="hover"==s?"mouseleave":"blur";this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(h+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,a=r.test(n);a&&(n=n.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var s=this.getPosition(),o=i[0].offsetWidth,h=i[0].offsetHeight;if(a){var l=this.$element.parent(),c=n,u=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:l.outerWidth(),f="body"==this.options.container?window.innerHeight:l.outerHeight(),p="body"==this.options.container?0:l.offset().left;n="bottom"==n&&s.top+s.height+h-u>f?"top":"top"==n&&s.top-u-h<0?"bottom":"right"==n&&s.right+o>d?"left":"left"==n&&s.left-o<p?"right":n,i.removeClass(c).addClass(n)}var m=this.getCalculatedOffset(n,s,o,h);this.applyPlacement(m,n),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,n=this.tip(),r=n[0].offsetWidth,a=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),o=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(o)&&(o=0),t.top=t.top+s,t.left=t.left+o,n.offset(t).addClass("in");var h=n[0].offsetWidth,l=n[0].offsetHeight;if("top"==e&&l!=a&&(i=!0,t.top=t.top+a-l),/bottom|top/.test(e)){var c=0;t.left<0&&(c=-2*t.left,t.left=0,n.offset(t),h=n[0].offsetWidth,l=n[0].offsetHeight),this.replaceArrow(c-r+h,h,"left")}else this.replaceArrow(l-a,l,"top");i&&n.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach()}var i=this,n=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),a="object"==typeof i&&i;r||n.data("bs.tooltip",r=new e(this,a)),"string"==typeof i&&r[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#popovers
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),r=n.data("bs.popover"),a="object"==typeof i&&i;r||n.data("bs.popover",r=new e(this,a)),"string"==typeof i&&r[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#scrollspy
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";function e(i,n){var r,a=t.proxy(this.process,this);this.$element=t(i).is("body")?t(window):t(i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||(r=t(i).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);{var i=this;this.$body.find(this.selector).map(function(){var n=t(this),r=n.data("target")||n.attr("href"),a=/^#\w/.test(r)&&t(r);return a&&a.length&&[[a[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})}},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),r=this.offsets,a=this.targets,s=this.activeTarget;if(e>=n)return s!=(t=a.last()[0])&&this.activate(t);for(t=r.length;t--;)s!=a[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),r=n.data("bs.scrollspy"),a="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new e(this,a)),"string"==typeof i&&r[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#tabs
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.attr("data-target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a")[0],a=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(a),!a.isDefaultPrevented()){var s=t(n);this.activate(e.parent("li"),i),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,i,n){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var a=i.find("> .active"),s=n&&t.support.transition&&a.hasClass("fade");s?a.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new e(this)),"string"==typeof i&&r[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#transitions
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()})}(window.jQuery),function(t){var e=0,i=function(){return(new Date).getTime()+e++},n=function(t){return"["+t+"]$1"},r=function(t){return"_"+t+"_$1"};t(document).on("click",".add_fields",function(e){e.preventDefault();var a=t(this),s=a.data("association"),o=a.data("associations"),h=a.data("association-insertion-template"),l=a.data("association-insertion-method")||a.data("association-insertion-position")||"before",c=a.data("association-insertion-node"),u=a.data("association-insertion-traversal"),d=parseInt(a.data("count"),10),f=new RegExp("\\[new_"+s+"\\](.*?\\s)","g"),p=new RegExp("_new_"+s+"_(\\w*)","g"),m=i(),g=h.replace(f,n(m)),v=[];for(g==h&&(f=new RegExp("\\[new_"+o+"\\](.*?\\s)","g"),p=new RegExp("_new_"+o+"_(\\w*)","g"),g=h.replace(f,n(m))),g=g.replace(p,r(m)),v=[g],d=isNaN(d)?1:Math.max(d,1),d-=1;d;)m=i(),g=h.replace(f,n(m)),g=g.replace(p,r(m)),v.push(g),d-=1;c=c?u?a[u](c):"this"==c?a:t(c):a.parent();for(var y in v){var b=t(v[y]);c.trigger("cocoon:before-insert",[b]);{c[l](b)}c.trigger("cocoon:after-insert",[b])}}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var i=t(this),n=i.data("wrapper-class")||"nested-fields",r=i.closest("."+n),a=r.parent();e.preventDefault(),a.trigger("cocoon:before-remove",[r]);var s=a.data("remove-timeout")||0;setTimeout(function(){i.hasClass("dynamic")?r.remove():(i.prev("input[type=hidden]").val("1"),r.hide()),a.trigger("cocoon:after-remove",[r])},s)}),t(".remove_fields.existing.destroyed").each(function(){var e=t(this),i=e.data("wrapper-class")||"nested-fields";e.closest("."+i).hide()})}(jQuery),!AmCharts)var AmCharts={};AmCharts.themes={},AmCharts.inheriting={},AmCharts.Class=function(t){var e=function(){arguments[0]!==AmCharts.inheriting&&(this.events={},this.construct.apply(this,arguments))};t.inherits?(e.prototype=new t.inherits(AmCharts.inheriting),e.base=t.inherits.prototype,delete t.inherits):(e.prototype.createEvents=function(){for(var t=0,e=arguments.length;e>t;t++)this.events[arguments[t]]=[]},e.prototype.listenTo=function(t,e,i){this.removeListener(t,e,i),t.events[e].push({handler:i,scope:this})},e.prototype.addListener=function(t,e,i){this.removeListener(this,t,e),this.events[t].push({handler:e,scope:i})},e.prototype.removeListener=function(t,e,i){if(t&&t.events)for(t=t.events[e],e=t.length-1;e>=0;e--)t[e].handler===i&&t.splice(e,1)},e.prototype.fire=function(t,e){for(var i=this.events[t],n=0,r=i.length;r>n;n++){var a=i[n];a.handler.call(a.scope,e)}});for(var i in t)e.prototype[i]=t[i];return e},AmCharts.charts=[],AmCharts.addChart=function(t){AmCharts.charts.push(t)},AmCharts.removeChart=function(t){for(var e=AmCharts.charts,i=e.length-1;i>=0;i--)e[i]==t&&e.splice(i,1)},AmCharts.IEversion=0,AmCharts.isModern=!0,AmCharts.navigator=navigator.userAgent.toLowerCase(),-1!=AmCharts.navigator.indexOf("msie")&&(AmCharts.IEversion=parseInt(AmCharts.navigator.split("msie")[1]),document.documentMode&&(AmCharts.IEversion=Number(document.documentMode)),9>AmCharts.IEversion&&(AmCharts.isModern=!1)),AmCharts.dx=0,AmCharts.dy=0,(document.addEventListener||window.opera)&&(AmCharts.isNN=!0,AmCharts.isIE=!1,AmCharts.dx=.5,AmCharts.dy=.5),document.attachEvent&&(AmCharts.isNN=!1,AmCharts.isIE=!0,AmCharts.isModern||(AmCharts.dx=0,AmCharts.dy=0)),window.chrome&&(AmCharts.chrome=!0),AmCharts.handleResize=function(){for(var t=AmCharts.charts,e=0;e<t.length;e++){var i=t[e];i&&i.div&&i.handleResize()}},AmCharts.handleMouseUp=function(t){for(var e=AmCharts.charts,i=0;i<e.length;i++){var n=e[i];n&&n.handleReleaseOutside(t)}},AmCharts.handleMouseMove=function(t){for(var e=AmCharts.charts,i=0;i<e.length;i++){var n=e[i];n&&n.handleMouseMove(t)}},AmCharts.resetMouseOver=function(){for(var t=AmCharts.charts,e=0;e<t.length;e++){var i=t[e];i&&(i.mouseIsOver=!1)}},AmCharts.onReadyArray=[],AmCharts.ready=function(t){AmCharts.onReadyArray.push(t)},AmCharts.handleLoad=function(){AmCharts.isReady=!0;for(var t=AmCharts.onReadyArray,e=0;e<t.length;e++)t[e]()},AmCharts.useUTC=!1,AmCharts.updateRate=40,AmCharts.uid=0,AmCharts.getUniqueId=function(){return AmCharts.uid++,"AmChartsEl-"+AmCharts.uid},AmCharts.isNN&&(document.addEventListener("mousemove",AmCharts.handleMouseMove,!0),window.addEventListener("resize",AmCharts.handleResize,!0),document.addEventListener("mouseup",AmCharts.handleMouseUp,!0),window.addEventListener("load",AmCharts.handleLoad,!0)),AmCharts.isIE&&(document.attachEvent("onmousemove",AmCharts.handleMouseMove),window.attachEvent("onresize",AmCharts.handleResize),document.attachEvent("onmouseup",AmCharts.handleMouseUp),window.attachEvent("onload",AmCharts.handleLoad)),AmCharts.clear=function(){var t=AmCharts.charts;if(t)for(var e=0;e<t.length;e++)t[e].clear();AmCharts.charts=null,AmCharts.isNN&&(document.removeEventListener("mousemove",AmCharts.handleMouseMove,!0),window.removeEventListener("resize",AmCharts.handleResize,!0),document.removeEventListener("mouseup",AmCharts.handleMouseUp,!0),window.removeEventListener("load",AmCharts.handleLoad,!0)),AmCharts.isIE&&(document.detachEvent("onmousemove",AmCharts.handleMouseMove),window.detachEvent("onresize",AmCharts.handleResize),document.detachEvent("onmouseup",AmCharts.handleMouseUp),window.detachEvent("onload",AmCharts.handleLoad))},AmCharts.makeChart=function(t,e){var i=e.type,n=e.theme;AmCharts.isString(n)&&(n=AmCharts.themes[n],e.theme=n);var r;switch(i){case"serial":r=new AmCharts.AmSerialChart(n);break;case"xy":r=new AmCharts.AmXYChart(n);break;case"pie":r=new AmCharts.AmPieChart(n);break;case"radar":r=new AmCharts.AmRadarChart(n);break;case"gauge":r=new AmCharts.AmAngularGauge(n);break;case"funnel":r=new AmCharts.AmFunnelChart(n);break;case"map":r=new AmCharts.AmMap(n);break;case"stock":r=new AmCharts.AmStockChart(n)}return AmCharts.extend(r,e),AmCharts.isReady?r.write(t):AmCharts.ready(function(){r.write(t)}),r},AmCharts.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(t)}},AmCharts.removeFromArray=function(t,e){var i;for(i=t.length-1;i>=0;i--)t[i]==e&&t.splice(i,1)},AmCharts.getDecimals=function(t){var e=0;return isNaN(t)||(t=String(t),-1!=t.indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},AmCharts.wrappedText=function(t,e,i,n,r,a,s,o,h){var l=AmCharts.text(t,e,i,n,r,a,s),c="\n";if(AmCharts.isModern||(c="<br>"),h>10)return l;if(l){var u=l.getBBox();if(u.width>o){l.remove();for(var l=[],d=0;-1<(index=e.indexOf(" ",d));)l.push(index),d=index+1;for(var f,p=Math.round(e.length/2),m=1e3,d=0;d<l.length;d++){var g=Math.abs(l[d]-p);m>g&&(f=l[d],m=g)}if(isNaN(f)){for(o=Math.ceil(u.width/o),d=1;o>d;d++)f=Math.round(e.length/o*d),e=e.substr(0,f)+c+e.substr(f);return AmCharts.text(t,e,i,n,r,a,s)}return e=e.substr(0,f)+c+e.substr(f+1),AmCharts.wrappedText(t,e,i,n,r,a,s,o,h+1)}return l}},AmCharts.getStyle=function(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]),i},AmCharts.removePx=function(t){return Number(t.substring(0,t.length-2))},AmCharts.getURL=function(t,e){if(t)if("_self"!=e&&e)if("_top"==e&&window.top)window.top.location.href=t;else if("_parent"==e&&window.parent)window.parent.location.href=t;else{var i=document.getElementsByName(e)[0];i?i.src=t:window.open(t)}else window.location.href=t},AmCharts.ifArray=function(t){return t&&0<t.length?!0:!1},AmCharts.callMethod=function(t,e){var i;for(i=0;i<e.length;i++){var n=e[i];if(n){n[t]&&n[t]();var r=n.length;if(r>0){var a;for(a=0;r>a;a++){var s=n[a];s&&s[t]&&s[t]()}}}}},AmCharts.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},AmCharts.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){t=t.split(",");var e;for(e=0;e<t.length;e++){var i=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+i}}else t=t.substring(t.length-6,t.length),t="#"+t;return t},AmCharts.toCoordinate=function(t,e,i){var n;return void 0!==t&&(t=String(t),i&&e>i&&(e=i),n=Number(t),-1!=t.indexOf("!")&&(n=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(n=e*Number(t.substr(0,t.length-1))/100)),n},AmCharts.fitToBounds=function(t,e,i){return e>t&&(t=e),t>i&&(t=i),t},AmCharts.isDefined=function(t){return void 0===t?!1:!0},AmCharts.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},AmCharts.roundTo=function(t,e){if(0>e)return t;var i=Math.pow(10,e);return Math.round(t*i)/i},AmCharts.toFixed=function(t,e){var i=String(Math.round(t*Math.pow(10,e)));if(e>0){var n=i.length;if(e>n){var r;for(r=0;e-n>r;r++)i="0"+i}return n=i.substring(0,i.length-e),""===n&&(n=0),n+"."+i.substring(i.length-e,i.length)}return String(i)},AmCharts.formatDuration=function(t,e,i,n,r,a){var s=AmCharts.intervals,o=a.decimalSeparator;if(t>=s[e].contains){var h=t-Math.floor(t/s[e].contains)*s[e].contains;return"ss"==e&&(h=AmCharts.formatNumber(h,a),1==h.split(o)[0].length&&(h="0"+h)),("mm"==e||"hh"==e)&&10>h&&(h="0"+h),i=h+""+n[e]+i,t=Math.floor(t/s[e].contains),e=s[e].nextInterval,AmCharts.formatDuration(t,e,i,n,r,a)}if("ss"==e&&(t=AmCharts.formatNumber(t,a),1==t.split(o)[0].length&&(t="0"+t)),("mm"==e||"hh"==e)&&10>t&&(t="0"+t),i=t+""+n[e]+i,s[r].count>s[e].count)for(t=s[e].count;t<s[r].count;t++)e=s[e].nextInterval,"ss"==e||"mm"==e||"hh"==e?i="00"+n[e]+i:"DD"==e&&(i="0"+n[e]+i);return":"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i},AmCharts.formatNumber=function(t,e,i,n,r){t=AmCharts.roundTo(t,e.precision),isNaN(i)&&(i=e.precision);var a=e.decimalSeparator;e=e.thousandsSeparator;var s;s=0>t?"-":"",t=Math.abs(t);var o=String(t),h=!1;-1!=o.indexOf("e")&&(h=!0),i>=0&&!h&&(o=AmCharts.toFixed(t,i));var l="";if(h)l=o;else{var c,o=o.split("."),h=String(o[0]);for(c=h.length;c>=0;c-=3)l=c!=h.length?0!==c?h.substring(c-3,c)+e+l:h.substring(c-3,c)+l:h.substring(c-3,c);void 0!==o[1]&&(l=l+a+o[1]),void 0!==i&&i>0&&"0"!=l&&(l=AmCharts.addZeroes(l,a,i))}return l=s+l,""===s&&!0===n&&0!==t&&(l="+"+l),!0===r&&(l+="%"),l},AmCharts.addZeroes=function(t,e,i){return t=t.split(e),void 0===t[1]&&i>0&&(t[1]="0"),t[1].length<i?(t[1]+="0",AmCharts.addZeroes(t[0]+e+t[1],e,i)):void 0!==t[1]?t[0]+e+t[1]:t[0]},AmCharts.scientificToNormal=function(t){var e;t=String(t).split("e");var i;if("-"==t[1].substr(0,1)){for(e="0.",i=0;i<Math.abs(Number(t[1]))-1;i++)e+="0";e+=t[0].split(".").join("")}else{var n=0;for(e=t[0].split("."),e[1]&&(n=e[1].length),e=t[0].split(".").join(""),i=0;i<Math.abs(Number(t[1]))-n;i++)e+="0"}return e},AmCharts.toScientific=function(t,e){if(0===t)return"0";var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return Math.pow(10,i),mantissa=String(mantissa).split(".").join(e),String(mantissa)+"e"+i},AmCharts.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},AmCharts.hitTest=function(t,e,i){var n=!1,r=t.x,a=t.x+t.width,s=t.y,o=t.y+t.height,h=AmCharts.isInRectangle;return n||(n=h(r,s,e)),n||(n=h(r,o,e)),n||(n=h(a,s,e)),n||(n=h(a,o,e)),n||!0===i||(n=AmCharts.hitTest(e,t,!0)),n},AmCharts.isInRectangle=function(t,e,i){return t>=i.x-5&&t<=i.x+i.width+5&&e>=i.y-5&&e<=i.y+i.height+5?!0:!1},AmCharts.isPercents=function(t){return-1!=String(t).indexOf("%")?!0:void 0},AmCharts.findPosX=function(t){var e=t,i=t.offsetLeft;if(t.offsetParent){for(;t=t.offsetParent;)i+=t.offsetLeft;for(;(e=e.parentNode)&&e!=document.body;)i-=e.scrollLeft||0}return i},AmCharts.findPosY=function(t){var e=t,i=t.offsetTop;if(t.offsetParent){for(;t=t.offsetParent;)i+=t.offsetTop;for(;(e=e.parentNode)&&e!=document.body;)i-=e.scrollTop||0}return i},AmCharts.findIfFixed=function(t){if(t.offsetParent)for(;t=t.offsetParent;)if("fixed"==AmCharts.getStyle(t,"position"))return!0;return!1},AmCharts.findIfAuto=function(t){return t.style&&"auto"==AmCharts.getStyle(t,"overflow")?!0:t.parentNode?AmCharts.findIfAuto(t.parentNode):!1},AmCharts.findScrollLeft=function(t,e){return t.scrollLeft&&(e+=t.scrollLeft),t.parentNode?AmCharts.findScrollLeft(t.parentNode,e):e},AmCharts.findScrollTop=function(t,e){return t.scrollTop&&(e+=t.scrollTop),t.parentNode?AmCharts.findScrollTop(t.parentNode,e):e},AmCharts.formatValue=function(t,e,i,n,r,a,s,o){if(e){void 0===r&&(r="");var h;for(h=0;h<i.length;h++){var l=i[h],c=e[l];void 0!==c&&(c=a?AmCharts.addPrefix(c,o,s,n):AmCharts.formatNumber(c,n),t=t.replace(RegExp("\\[\\["+r+l+"\\]\\]","g"),c))}}return t},AmCharts.formatDataContextValue=function(t,e){if(t){var i,n=t.match(/\[\[.*?\]\]/g);for(i=0;i<n.length;i++){var r=n[i],r=r.substr(2,r.length-4);void 0!==e[r]&&(t=t.replace(RegExp("\\[\\["+r+"\\]\\]","g"),e[r]))}}return t},AmCharts.massReplace=function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];void 0===n&&(n=""),t=t.replace(i,n)}return t},AmCharts.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},AmCharts.addPrefix=function(t,e,i,n,r){var a,s,o,h=AmCharts.formatNumber(t,n),l="";if(0===t)return"0";if(0>t&&(l="-"),t=Math.abs(t),t>1){for(a=e.length-1;a>-1;a--)if(t>=e[a].number&&(s=t/e[a].number,o=Number(n.precision),1>o&&(o=1),i=AmCharts.roundTo(s,o),o=AmCharts.formatNumber(i,{precision:-1,decimalSeparator:n.decimalSeparator,thousandsSeparator:n.thousandsSeparator}),!r||s==i)){h=l+""+o+e[a].prefix;break}}else for(a=0;a<i.length;a++)if(t<=i[a].number){s=t/i[a].number,o=Math.abs(Math.round(Math.log(s)*Math.LOG10E)),s=AmCharts.roundTo(s,o),h=l+""+s+i[a].prefix;break}return h},AmCharts.remove=function(t){t&&t.remove()},AmCharts.recommended=function(){var t="js";return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(t="flash"),t},AmCharts.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},AmCharts.getObjById=function(t,e){var i,n;for(n=0;n<t.length;n++){var r=t[n];r.id==e&&(i=r)}return i},AmCharts.applyTheme=function(t,e,i){e||(e=AmCharts.theme),e&&e[i]&&AmCharts.extend(t,e[i])},AmCharts.isString=function(t){return"string"==typeof t?!0:!1},AmCharts.extend=function(t,e,i){for(var n in e)i?t.hasOwnProperty(n)||(t[n]=e[n]):t[n]=e[n];return t},AmCharts.copyProperties=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"events"!=i&&void 0!==t[i]&&"function"!=typeof t[i]&&"cname"!=i&&(e[i]=t[i])},AmCharts.processObject=function(t,e,i){return!1==t instanceof e&&(t=AmCharts.extend(new e(i),t)),t},AmCharts.fixNewLines=function(t){var e=RegExp("\\n","g");return t&&(t=t.replace(e,"<br />")),t},AmCharts.fixBrakes=function(t){if(AmCharts.isModern){var e=RegExp("<br>","g");t&&(t=t.replace(e,"\n"))}else t=AmCharts.fixNewLines(t);return t},AmCharts.deleteObject=function(t,e){if(t&&((void 0===e||null===e)&&(e=20),0!==e))if("[object Array]"===Object.prototype.toString.call(t))for(var i=0;i<t.length;i++)AmCharts.deleteObject(t[i],e-1),t[i]=null;else if(t&&!t.tagName)try{for(i in t)t[i]&&("object"==typeof t[i]&&AmCharts.deleteObject(t[i],e-1),"function"!=typeof t[i]&&(t[i]=null))}catch(n){}},AmCharts.bounce=function(t,e,i,n,r){return(e/=r)<1/2.75?7.5625*n*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},AmCharts.easeInSine=function(t,e,i,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+i},AmCharts.easeOutSine=function(t,e,i,n,r){return n*Math.sin(e/r*(Math.PI/2))+i},AmCharts.easeOutElastic=function(t,e,i,n,r){t=1.70158;var a=0,s=n;return 0===e?i:1==(e/=r)?i+n:(a||(a=.3*r),s<Math.abs(n)?(s=n,t=a/4):t=a/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*e)*Math.sin(2*(e*r-t)*Math.PI/a)+n+i)},AmCharts.AxisBase=AmCharts.Class({construct:function(t){this.viY=this.viX=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.valueRollOverColor="#CC0000",this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,AmCharts.applyTheme(this,t,"AxisBase")},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},draw:function(){var t=this.chart;this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.labels=[];var e=t.container,i=e.set();t.gridSet.push(i),this.set=i,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?(t=this.height/this.minVerticalGap,3>t&&(t=3)):t=this.width/this.minHorizontalGap,this.gridCountR=Math.max(t,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var t=this.title;if(t){var e=this.chart,i=this.titleColor;void 0===i&&(i=e.color);var n=this.titleFontSize;isNaN(n)&&(n=e.fontSize+1),this.titleLabel=AmCharts.text(e.container,t,i,e.fontFamily,n,"middle",this.titleBold)}},positionTitle:function(){var t=this.titleLabel;if(t){var e,i,n=this.labelsSet,r={};0<n.length()?r=n.getBBox():(r.x=0,r.y=0,r.width=this.viW,r.height=this.viH),n.push(t);var n=r.x,a=r.y;AmCharts.VML&&(this.rotate?n-=this.x:a-=this.y);var s=r.width,r=r.height,o=this.viW,h=this.viH,l=0,c=t.getBBox().height/2,u=this.inside;switch(this.position){case"top":e=o/2,i=a-10-c;break;case"bottom":e=o/2,i=a+r+10+c;break;case"left":e=n-10-c,u&&(e-=5),i=h/2,l=-90;break;case"right":e=n+s+10+c-3,u&&(e+=7),i=h/2,l=-90}this.marginsChanged?(t.translate(e,i),this.tx=e,this.ty=i):t.translate(this.tx,this.ty),this.marginsChanged=!1,0!==l&&t.rotate(l)}},pushAxisItem:function(t,e){var i=t.graphics();0<i.length()&&(e?this.labelsSet.push(i):this.set.push(i)),(i=t.getLabel())&&this.labelsSet.push(i)},addGuide:function(t){this.guides.push(t)},removeGuide:function(t){var e,i=this.guides;for(e=0;e<i.length;e++)i[e]==t&&i.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e=t.graphics.getBBox(),i=e.x+e.width/2,e=e.y+e.height/2,n=t.fillColor;void 0===n&&(n=t.lineColor),this.chart.showBalloon(t.balloonText,n,!0,i,e)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(t,e){var i=this;t.mouseover(function(){i.handleGuideOver(e)}),t.mouseout(function(){i.handleGuideOut(e)})},getBBox:function(){var t=this.labelsSet.getBBox();return AmCharts.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}),t},destroy:function(){AmCharts.remove(this.set),AmCharts.remove(this.labelsSet);var t=this.axisLine;t&&AmCharts.remove(t.set),AmCharts.remove(this.grid0)}}),AmCharts.ValueAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(t){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed"),AmCharts.ValueAxis.base.construct.call(this,t),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.minMaxMultiplier=1,AmCharts.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(AmCharts.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){AmCharts.ValueAxis.base.draw.call(this);var t=this.chart,e=this.set;if("duration"==this.type&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),this.logarithmic&&(0>=this.getMin(0,this.data.length-1)||0>=this.minimum))this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:t});else{this.grid0=null;var i,n,r=t.dx,a=t.dy,s=!1,o=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)s=!0;else{var h,l=this.labelFrequency,c=this.showFirstLabel,u=this.showLastLabel,d=1,f=0,p=Math.round((this.max-this.min)/this.step)+1;!0===o?(h=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/h,h>2&&(p=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,f=Math.round(Math.log(this.minReal)*Math.LOG10E),p>this.gridCountR&&(d=Math.ceil(p/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var m=0;1>this.step&&-1<this.step&&(m=AmCharts.getDecimals(this.step)),this.integersOnly&&(m=0),m>this.maxDecCount&&(m=this.maxDecCount);var g=this.precision;isNaN(g)||(m=g),this.max=AmCharts.roundTo(this.max,this.maxDecCount),this.min=AmCharts.roundTo(this.min,this.maxDecCount);var v={};v.precision=m,v.decimalSeparator=t.numberFormatter.decimalSeparator,v.thousandsSeparator=t.numberFormatter.thousandsSeparator,this.numberFormatter=v;var y,b=this.guides,C=b.length;if(C>0){for(i=this.fillAlpha,n=this.fillAlpha=0;C>n;n++){var x=b[n],A=0/0,w=x.above;isNaN(x.toValue)||(A=this.getCoordinate(x.toValue),y=new this.axisItemRenderer(this,A,"",!0,0/0,0/0,x),this.pushAxisItem(y,w));var S=0/0;isNaN(x.value)||(S=this.getCoordinate(x.value),y=new this.axisItemRenderer(this,S,x.label,!0,0/0,(A-S)/2,x),this.pushAxisItem(y,w)),isNaN(A-S)||(y=new this.guideFillRenderer(this,S,A,x),this.pushAxisItem(y,w),y=y.graphics(),x.graphics=y,x.balloonText&&this.addEventListeners(y,x))}this.fillAlpha=i}for(b=!1,n=f;p>n;n+=d)C=AmCharts.roundTo(this.step*n+this.min,m),-1!=String(C).indexOf("e")&&(b=!0,String(C).split("e"));this.duration&&(this.maxInterval=AmCharts.getMaxInterval(this.max,this.duration));var T,m=this.step,C=this.minorGridAlpha;for(this.minorGridEnabled&&(T=this.getMinorGridStep(m,this.stepWidth*m)),n=f;p>n;n+=d)if(f=m*n+this.min,f=AmCharts.roundTo(f,this.maxDecCount+1),!(this.integersOnly&&Math.round(f)!=f||!isNaN(g)&&Number(AmCharts.toFixed(f,g))!=f)){if(!0===o&&(0===f&&(f=this.minReal),h>2&&(f=Math.pow(10,n)),b=-1!=String(f).indexOf("e")?!0:!1),this.useScientificNotation&&(b=!0),this.usePrefixes&&(b=!1),b?(y=-1==String(f).indexOf("e")?f.toExponential(15):String(f),i=y.split("e"),y=Number(i[0]),i=Number(i[1]),y=AmCharts.roundTo(y,14),10==y&&(y=1,i+=1),y=y+"e"+i,0===f&&(y="0"),1==f&&(y="1")):(o&&(y=String(f).split("."),v.precision=y[1]?y[1].length:-1),y=this.usePrefixes?AmCharts.addPrefix(f,t.prefixesOfBigNumbers,t.prefixesOfSmallNumbers,v,!0):AmCharts.formatNumber(f,v,v.precision)),this.duration&&(y=AmCharts.formatDuration(f,this.duration,"",this.durationUnits,this.maxInterval,v)),this.recalculateToPercents?y+="%":(i=this.unit)&&(y="left"==this.unitPosition?i+y:y+i),Math.round(n/l)!=n/l&&(y=void 0),(0===n&&!c||n==p-1&&!u)&&(y=" "),i=this.getCoordinate(f),this.labelFunction&&(y=this.labelFunction(f,y,this).toString()),y=new this.axisItemRenderer(this,i,y),this.pushAxisItem(y),f==this.baseValue&&"radar"!=t.type){var N,E,w=this.viW,A=this.viH;y=this.viX,x=this.viY,"H"==this.orientation?i>=0&&w+1>=i&&(N=[i,i,i+r],E=[A,0,a]):i>=0&&A+1>=i&&(N=[0,w,w+r],E=[i,i,i+a]),N&&(i=AmCharts.fitToBounds(2*this.gridAlpha,0,1),i=AmCharts.line(t.container,N,E,this.gridColor,i,1,this.dashLength),i.translate(y,x),this.grid0=i,t.axesSet.push(i),i.toBack())}if(!isNaN(T)&&C>0&&p-1>n){for(y=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,i=1;m/T>i;i++)x=this.getCoordinate(f+T*i),x=new this.axisItemRenderer(this,x,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(x);this.gridAlpha=y}}n=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(n=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(n=this.max),o&&n<this.minReal&&(n=this.minReal),this.baseCoord=this.getCoordinate(n),n={type:"axisChanged",target:this,chart:t},n.min=o?this.minReal:this.min,n.max=this.max,this.fire("axisChanged",n),this.axisCreated=!0}o=this.axisLine.set,n=this.labelsSet,this.positionTitle(),"radar"!=t.type?(t=this.viX,r=this.viY,e.translate(t,r),n.translate(t,r)):o.toFront(),!this.visible||s?(e.hide(),o.hide(),n.hide()):(e.show(),o.show(),n.show()),this.axisY=this.y-this.viY,this.axisX=this.x-this.viX}},getMinorGridStep:function(t,e){var i=[5,4,2];60>e&&i.shift();for(var n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r=0;r<i.length;r++){var a=t/i[r],s=Math.floor(Math.log(Math.abs(a))*Math.LOG10E);if(!(0<Math.abs(n-s)))if(1>t){if(s=Math.pow(10,-s)*a,s==Math.round(s))return a}else if(a==Math.round(a))return a}},stackGraphs:function(t){var e=this.stackType;"stacked"==e&&(e="regular"),"line"==e&&(e="none"),"100% stacked"==e&&(e="100%"),this.stackType=e;var i,n,r,a,s,o=[],h=[],l=[],c=[],u=this.chart.graphs,d=this.baseValue,f=!1;if(("line"==t||"step"==t||"smoothedLine"==t)&&(f=!0),f&&("regular"==e||"100%"==e))for(s=0;s<u.length;s++)a=u[s],a.hidden||(r=a.type,a.chart==this.chart&&a.valueAxis==this&&t==r&&a.stackable&&(n&&(a.stackGraph=n),n=a));for(n=this.start;n<=this.end;n++){var p=0;for(s=0;s<u.length;s++)if(a=u[s],!a.hidden&&(r=a.type,a.chart==this.chart&&a.valueAxis==this&&t==r&&a.stackable&&(r=this.data[n].axes[this.id].graphs[a.id],i=r.values.value,!isNaN(i)))){var m=AmCharts.getDecimals(i);m>p&&(p=m),isNaN(c[n])?c[n]=Math.abs(i):c[n]+=Math.abs(i),c[n]=AmCharts.roundTo(c[n],p),a=a.fillToGraph,f&&a&&(a=this.data[n].axes[this.id].graphs[a.id])&&(r.values.open=a.values.value),"regular"==e&&(f&&(isNaN(o[n])?(o[n]=i,r.values.close=i,r.values.open=this.baseValue):(r.values.close=isNaN(i)?o[n]:i+o[n],r.values.open=o[n],o[n]=r.values.close)),"column"!=t||isNaN(i)||(r.values.close=i,0>i?(r.values.close=i,isNaN(h[n])?r.values.open=d:(r.values.close+=h[n],r.values.open=h[n]),h[n]=r.values.close):(r.values.close=i,isNaN(l[n])?r.values.open=d:(r.values.close+=l[n],r.values.open=l[n]),l[n]=r.values.close)))}}for(n=this.start;n<=this.end;n++)for(s=0;s<u.length;s++)a=u[s],a.hidden||(r=a.type,a.chart==this.chart&&a.valueAxis==this&&t==r&&a.stackable&&(r=this.data[n].axes[this.id].graphs[a.id],i=r.values.value,isNaN(i)||(o=i/c[n]*100,r.values.percents=o,r.values.total=c[n],"100%"==e&&(isNaN(h[n])&&(h[n]=0),isNaN(l[n])&&(l[n]=0),0>o?(r.values.close=AmCharts.fitToBounds(o+h[n],-100,100),r.values.open=h[n],h[n]=r.values.close):(r.values.close=AmCharts.fitToBounds(o+l[n],-100,100),r.values.open=l[n],l[n]=r.values.close)))))},recalculate:function(){var t,e=this.chart.graphs;for(t=0;t<e.length;t++){var i=e[t];if(i.valueAxis==this){var n="value";("candlestick"==i.type||"ohlc"==i.type)&&(n="open");var r,a,s=this.end+2,s=AmCharts.fitToBounds(this.end+1,0,this.data.length-1),o=this.start;o>0&&o--;var h;for(a=this.start,i.compareFromStart&&(a=0),h=a;s>=h&&(a=this.data[h].axes[this.id].graphs[i.id],r=a.values[n],isNaN(r));h++);for(n=o;s>=n;n++){a=this.data[n].axes[this.id].graphs[i.id],a.percents={};var l,o=a.values;for(l in o)a.percents[l]="percents"!=l?o[l]/r*100-100:o[l]}}}},getMinMax:function(){var t,e=!1,i=this.chart,n=i.graphs;for(t=0;t<n.length;t++){var r=n[t].type;("line"==r||"step"==r||"smoothedLine"==r)&&this.expandMinMax&&(e=!0)}if(e&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==i.type&&(!0!==i.categoryAxis.parseDates||e||this.end<this.data.length-1&&this.end++),e=this.minMaxMultiplier,this.min=this.getMin(this.start,this.end),this.max=this.getMax(),e=(this.max-this.min)*(e-1),this.min-=e,this.max+=e,e=this.guides.length,this.includeGuidesInMinMax&&e>0)for(i=0;e>i;i++)n=this.guides[i],n.toValue<this.min&&(this.min=n.toValue),n.value<this.min&&(this.min=n.value),n.toValue>this.max&&(this.max=n.toValue),n.value>this.max&&(this.max=n.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min>this.max&&(e=this.max,this.max=this.min,this.min=e),isNaN(this.minTemp)||(this.min=this.minTemp),isNaN(this.maxTemp)||(this.max=this.maxTemp),this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),e=this.min,i=this.max,n=this.max-this.min,t=0===n?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/t)*t+t),isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/t)*t-t),0>this.min&&e>=0&&(this.min=0),0<this.max&&0>=i&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),n=this.max-this.min,t=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,this.step=Math.ceil(n/this.gridCountR/t)*t,n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),n=this.fixStepE(n),t=Math.ceil(this.step/n),t>5&&(t=10),5>=t&&t>2&&(t=5),this.step=Math.ceil(this.step/(n*t))*n*t,1>n?(this.maxDecCount=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=AmCharts.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&e>=0&&(this.min=0),0<this.max&&0>=i&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),n=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=n),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),n=Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E,this.logarithmic&&(n>2?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E))/10,e>i&&(this.minReal=this.min=10*e)))},fixStepE:function(t){t=t.toExponential(0).split("e");var e=Number(t[1]);return 9==Number(t[0])&&e++,this.generateNumber(1,e)},generateNumber:function(t,e){var i,n="";i=0>e?Math.abs(e)-1:Math.abs(e);var r;for(r=0;i>r;r++)n+="0";return 0>e?Number("0."+n+String(t)):Number(String(t)+n)},getMin:function(t,e){var i,n;for(n=t;e>=n;n++){var r,a=this.data[n].axes[this.id].graphs;for(r in a)if(a.hasOwnProperty(r)){var s=this.chart.getGraphById(r);if(s.includeInMinMax&&(!s.hidden||this.includeHidden)){isNaN(i)&&(i=1/0),this.foundGraphs=!0,s=a[r].values,this.recalculateToPercents&&(s=a[r].percents);var o;if(this.minMaxField)o=s[this.minMaxField],i>o&&(i=o);else for(var h in s)s.hasOwnProperty(h)&&"percents"!=h&&"total"!=h&&(o=s[h],i>o&&(i=o))}}}return i},getMax:function(){var t,e;for(e=this.start;e<=this.end;e++){var i,n=this.data[e].axes[this.id].graphs;for(i in n)if(n.hasOwnProperty(i)){var r=this.chart.getGraphById(i);if(r.includeInMinMax&&(!r.hidden||this.includeHidden)){isNaN(t)&&(t=-1/0),this.foundGraphs=!0,r=n[i].values,this.recalculateToPercents&&(r=n[i].percents);var a;if(this.minMaxField)a=r[this.minMaxField],a>t&&(t=a);else for(var s in r)r.hasOwnProperty(s)&&"percents"!=s&&"total"!=s&&(a=r[s],a>t&&(t=a))}}}return t},dispatchZoomEvent:function(t,e){var i={type:"axisZoomed",startValue:t,endValue:e,target:this,chart:this.chart};this.fire(i.type,i)},zoomToValues:function(t,e){if(t>e){var i=e;e=t,t=i}t<this.min&&(t=this.min),e>this.max&&(e=this.max),i={type:"axisSelfZoomed"},i.chart=this.chart,i.valueAxis=this,i.multiplier=this.axisWidth/Math.abs(this.getCoordinate(e)-this.getCoordinate(t)),i.position="V"==this.orientation?this.reversed?this.getCoordinate(t):this.getCoordinate(e):this.reversed?this.getCoordinate(e):this.getCoordinate(t),this.fire(i.type,i)
},coordinateToValue:function(t){if(isNaN(t))return 0/0;var e=this.axisWidth,i=this.stepWidth,n=this.reversed,r=this.rotate,a=this.min,s=this.minReal;return!0===this.logarithmic?Math.pow(10,(r?!0===n?(e-t)/i:t/i:!0===n?t/i:(e-t)/i)+Math.log(s)*Math.LOG10E):!0===n?r?a-(t-e)/i:t/i+a:r?t/i+a:a-(t-e)/i},getCoordinate:function(t){if(isNaN(t))return 0/0;var e=this.rotate,i=this.reversed,n=this.axisWidth,r=this.stepWidth,a=this.min,s=this.minReal;return!0===this.logarithmic?(t=Math.log(t)*Math.LOG10E-Math.log(s)*Math.LOG10E,e=e?!0===i?n-r*t:r*t:!0===i?r*t:n-r*t):e=!0===i?e?n-r*(t-a):r*(t-a):e?r*(t-a):n-r*(t-a),e=this.rotate?e+(this.x-this.viX):e+(this.y-this.viY),Math.round(e)},synchronizeWithAxis:function(t){this.synchronizeWith=t,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(t){var e=this.synchronizeWith;t=e.min;var i=e.max,e=e.step,n=this.synchronizationMultiplier;n&&(this.min=t*n,this.max=i*n,this.step=e*n,t=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),t=Math.abs(Math.log(Math.abs(t))*Math.LOG10E),this.maxDecCount=t=Math.round(t),this.draw())}}),AmCharts.RecAxis=AmCharts.Class({construct:function(t){var e=t.chart,i=t.axisThickness,n=t.axisColor,r=t.axisAlpha,a=t.offset,s=t.dx,o=t.dy,h=t.viX,l=t.viY,c=t.viH,u=t.viW,d=e.container;"H"==t.orientation?(n=AmCharts.line(d,[0,u],[0,0],n,r,i),this.axisWidth=t.width,"bottom"==t.position?(t=i/2+a+c+l-1,i=h):(t=-i/2-a+l+o,i=s+h)):(this.axisWidth=t.height,"right"==t.position?(n=AmCharts.line(d,[0,0,-s],[0,c,c-o],n,r,i),t=l+o,i=i/2+a+s+u+h-1):(n=AmCharts.line(d,[0,0],[0,c],n,r,i),t=l,i=-i/2-a+h)),n.translate(i,t),e.axesSet.push(n),this.set=n}}),AmCharts.RecItem=AmCharts.Class({construct:function(t,e,i,n,r,a,s,o,h,l){e=Math.round(e),void 0==i&&(i=""),h||(h=0),void 0==n&&(n=!0);var c=t.chart.fontFamily,u=t.fontSize;void 0==u&&(u=t.chart.fontSize);var d=t.color;void 0==d&&(d=t.chart.color);var f=t.chart.container,p=f.set();this.set=p;var m,g,v=t.axisThickness,y=t.axisColor,b=t.axisAlpha,C=t.tickLength,x=t.gridAlpha,A=t.gridThickness,w=t.gridColor,S=t.dashLength,T=t.fillColor,N=t.fillAlpha,E=t.labelsEnabled,D=t.labelRotation,k=t.counter,M=t.inside,R=t.dx,B=t.dy,O=t.orientation,P=t.position,L=t.previousCoord,F=t.viH,I=t.viW,z=t.offset;s?(E=!0,isNaN(s.tickLength)||(C=s.tickLength),void 0!=s.lineColor&&(w=s.lineColor),void 0!=s.color&&(d=s.color),isNaN(s.lineAlpha)||(x=s.lineAlpha),isNaN(s.dashLength)||(S=s.dashLength),isNaN(s.lineThickness)||(A=s.lineThickness),!0===s.inside&&(M=!0),isNaN(s.labelRotation)||(D=s.labelRotation),isNaN(s.fontSize)||(u=s.fontSize),s.position&&(P=s.position)):""===i&&(C=0),g="start",r&&(g="middle");var _,H=D*Math.PI/180,V=0,W=0,j=0,G=_=0;"V"==O&&(D=0);var Y;E&&(Y=t.autoWrap&&0===D?AmCharts.wrappedText(f,i,d,c,u,g,o,r,0):AmCharts.text(f,i,d,c,u,g,o),G=Y.getBBox().width),"H"==O?(e>=0&&I+1>=e&&(C>0&&b>0&&I+1>=e+h&&(m=AmCharts.line(f,[e+h,e+h],[0,C],y,b,A),p.push(m)),x>0&&(g=AmCharts.line(f,[e,e+R,e+R],[F,F+B,B],w,x,A,S),p.push(g))),W=0,V=e,s&&90==D&&(V-=u),!1===n?(g="start",W="bottom"==P?M?W+C:W-C:M?W-C:W+C,V+=3,r&&(V+=r/2,g="middle"),D>0&&(g="middle")):g="middle",1==k&&N>0&&!s&&!l&&I>L&&(n=AmCharts.fitToBounds(e,0,I),L=AmCharts.fitToBounds(L,0,I),_=n-L,_>0&&(fill=AmCharts.rect(f,_,t.height,T,N),fill.translate(n-_+R,B),p.push(fill))),"bottom"==P?(W+=F+u/2+z,M?D>0?(W=F-G/2*Math.sin(H)-C-3,V+=G/2*Math.cos(H)):0>D?(W-=C+u+3+3-G/2*Math.sin(H),V-=G/2*Math.cos(H)):W-=C+u+3+3:D>0?(W=F+G/2*Math.sin(H)+C+3,V-=G/2*Math.cos(H)):0>D?(W=F+C+3-G/2*Math.sin(H)+2,V+=G/2*Math.cos(H)):W+=C+v+3+3):(W+=B+u/2-z,V+=R,M?D>0?(W=G/2*Math.sin(H)+C+3,V-=G/2*Math.cos(H)):W+=C+3:D>0?(W=-(G/2)*Math.sin(H)-C-6,V+=G/2*Math.cos(H)):W-=C+u+3+v+3),"bottom"==P?_=(M?F-C-1:F+v-1)+z:(j=R,_=(M?B:B-C-v+1)-z),a&&(V+=a),B=V,D>0&&(B+=G/2*Math.cos(H)),Y&&(P=0,M&&(P=G/2*Math.cos(H)),B+P>I+2||0>B)&&(Y.remove(),Y=null)):(e>=0&&F+1>=e&&(C>0&&b>0&&F+1>=e+h&&(m=AmCharts.line(f,[0,C],[e+h,e+h],y,b,A),p.push(m)),x>0&&(g=AmCharts.line(f,[0,R,I+R],[e,e+B,e+B],w,x,A,S),p.push(g))),g="end",(!0===M&&"left"==P||!1===M&&"right"==P)&&(g="start"),W=e-u/2,1==k&&N>0&&!s&&!l&&(n=AmCharts.fitToBounds(e,0,F),L=AmCharts.fitToBounds(L,0,F),H=n-L,fill=AmCharts.polygon(f,[0,t.width,t.width,0],[0,0,H,H],T,N),fill.translate(R,n-H+B),p.push(fill)),W+=u/2,"right"==P?(V+=R+I+z,W+=B,M?(V-=C+4,a||(W-=u/2+3)):(V+=C+4+v,W-=2)):M?(V+=C+4-z,a||(W-=u/2+3),s&&(V+=R,W+=B)):(V+=-C-v-4-2-z,W-=2),m&&("right"==P?(j+=R+z+I,_+=B,j=M?j-v:j+v):(j-=z,M||(j-=C+v))),a&&(W+=a),M=-3,"right"==P&&(M+=B),Y&&(W>F+1||M>W)&&(Y.remove(),Y=null)),m&&m.translate(j,_),!1===t.visible&&(m&&m.remove(),Y&&(Y.remove(),Y=null)),Y&&(Y.attr({"text-anchor":g}),Y.translate(V,W),0!==D&&Y.rotate(-D,t.chart.backgroundColor),t.allLabels.push(Y)," "!=i&&(this.label=Y)),l||(t.counter=0===k?1:0,t.previousCoord=e),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}}),AmCharts.RecFill=AmCharts.Class({construct:function(t,e,i,n){var r=t.dx,a=t.dy,s=t.orientation,o=0;if(e>i){var h=e;e=i,i=h}var l=n.fillAlpha;isNaN(l)&&(l=0),h=t.chart.container,n=n.fillColor,"V"==s?(e=AmCharts.fitToBounds(e,0,t.viH),i=AmCharts.fitToBounds(i,0,t.viH)):(e=AmCharts.fitToBounds(e,0,t.viW),i=AmCharts.fitToBounds(i,0,t.viW)),i-=e,isNaN(i)&&(i=4,o=2,l=0),0>i&&"object"==typeof n&&(n=n.join(",").split(",").reverse()),"V"==s?(t=AmCharts.rect(h,t.width,i,n,l),t.translate(r,e-o+a)):(t=AmCharts.rect(h,i,t.height,n,l),t.translate(e-o+r,a)),this.set=h.set([t])},graphics:function(){return this.set},getLabel:function(){}}),AmCharts.AmChart=AmCharts.Class({construct:function(t){this.theme=t,this.version="3.4.0",AmCharts.addChart(this),this.createEvents("dataUpdated","init","rendered","drawn"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.numberFormatter={precision:-1,decimalSeparator:".",thousandsSeparator:","},this.percentFormatter={precision:2,decimalSeparator:".",thousandsSeparator:","},this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var e=document.createElement("div"),i=e.style;i.overflow="hidden",i.position="relative",i.textAlign="left",this.chartDiv=e,e=document.createElement("div"),i=e.style,i.overflow="hidden",i.position="relative",i.textAlign="left",this.legendDiv=e,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.handDrawThickness=1,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}],this.panEventsEnabled=!1,AmCharts.bezierX=3,AmCharts.bezierY=6,this.product="amcharts",this.animations=[],this.balloon=new AmCharts.AmBalloon(this.theme),this.balloon.chart=this,AmCharts.applyTheme(this,t,"AmChart")},drawChart:function(){this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr()},drawBackground:function(){AmCharts.remove(this.background);var t=this.container,e=this.backgroundColor,i=this.backgroundAlpha,n=this.set;AmCharts.isModern||0!==i||(i=.001);var r=this.updateWidth();this.realWidth=r;var a=this.updateHeight();this.realHeight=a,this.background=e=AmCharts.polygon(t,[0,r-1,r-1,0],[0,0,a-1,a-1],e,i,1,this.borderColor,this.borderAlpha),n.push(e),(e=this.backgroundImage)&&(this.path&&(e=this.path+e),this.bgImg=t=t.image(e,0,0,r,a),n.push(t))},drawTitles:function(){var t=this.titles;if(AmCharts.ifArray(t)){var e,i=20;for(e=0;e<t.length;e++){var n=t[e],r=n.color;void 0===r&&(r=this.color);var a=n.size;isNaN(n.alpha);var s=this.marginLeft,r=AmCharts.text(this.container,n.text,r,this.fontFamily,a);r.translate(s+(this.realWidth-this.marginRight-s)/2,i),s=!0,void 0!==n.bold&&(s=n.bold),s&&r.attr({"font-weight":"bold"}),i+=a+6,this.freeLabelsSet.push(r)}}},write:function(t){t="object"!=typeof t?document.getElementById(t):t,t.innerHTML="",this.div=t,t.style.overflow="hidden",t.style.textAlign="left";var e=this.chartDiv,i=this.legendDiv,n=this.legend,r=i.style,a=e.style;this.measure();var s,o=document.createElement("div");s=o.style,s.position="relative",this.containerDiv=o,t.appendChild(o);var h=this.exportConfig;if(h&&AmCharts.AmExport&&!this.AmExport&&(this.AmExport=new AmCharts.AmExport(this,h)),n)switch(n=this.addLegend(n,n.divId),n.position){case"bottom":o.appendChild(e),o.appendChild(i);break;case"top":o.appendChild(i),o.appendChild(e);break;case"absolute":s.width=t.style.width,s.height=t.style.height,r.position="absolute",a.position="absolute",void 0!==n.left&&(r.left=n.left+"px"),void 0!==n.right&&(r.right=n.right+"px"),void 0!==n.top&&(r.top=n.top+"px"),void 0!==n.bottom&&(r.bottom=n.bottom+"px"),n.marginLeft=0,n.marginRight=0,o.appendChild(e),o.appendChild(i);break;case"right":s.width=t.style.width,s.height=t.style.height,r.position="relative",a.position="absolute",o.appendChild(e),o.appendChild(i);break;case"left":s.width=t.style.width,s.height=t.style.height,r.position="absolute",a.position="relative",o.appendChild(e),o.appendChild(i);break;case"outside":o.appendChild(e)}else o.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()},createLabelsSet:function(){AmCharts.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.divIsFixed=AmCharts.findIfFixed(this.chartDiv),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth,this.destroy(),this.startInterval();var t=0;document.attachEvent&&!window.opera&&(t=1),this.dmouseX=this.dmouseY=0;var e=document.getElementsByTagName("html")[0];e&&window.getComputedStyle&&(e=window.getComputedStyle(e,null))&&(this.dmouseY=AmCharts.removePx(e.getPropertyValue("margin-top")),this.dmouseX=AmCharts.removePx(e.getPropertyValue("margin-left"))),this.mouseMode=t,t=new AmCharts.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,this.container=t,(AmCharts.VML||AmCharts.SVG)&&(t=this.container,this.set=t.set(),this.gridSet=t.set(),this.graphsBehindSet=t.set(),this.bulletBehindSet=t.set(),this.columnSet=t.set(),this.graphsSet=t.set(),this.trendLinesSet=t.set(),this.axesLabelsSet=t.set(),this.axesSet=t.set(),this.cursorSet=t.set(),this.scrollbarsSet=t.set(),this.bulletSet=t.set(),this.freeLabelsSet=t.set(),this.balloonsSet=t.set(),this.balloonsSet.setAttr("id","balloons"),this.zoomButtonSet=t.set(),this.linkSet=t.set(),this.renderFix())},measure:function(){var t=this.div,e=this.chartDiv,i=t.offsetWidth,n=t.offsetHeight,r=this.container;t.clientHeight&&(i=t.clientWidth,n=t.clientHeight);var a=AmCharts.removePx(AmCharts.getStyle(t,"padding-left")),s=AmCharts.removePx(AmCharts.getStyle(t,"padding-right")),o=AmCharts.removePx(AmCharts.getStyle(t,"padding-top")),h=AmCharts.removePx(AmCharts.getStyle(t,"padding-bottom"));isNaN(a)||(i-=a),isNaN(s)||(i-=s),isNaN(o)||(n-=o),isNaN(h)||(n-=h),a=t.style,t=a.width,a=a.height,-1!=t.indexOf("px")&&(i=AmCharts.removePx(t)),-1!=a.indexOf("px")&&(n=AmCharts.removePx(a)),t=AmCharts.toCoordinate(this.width,i),a=AmCharts.toCoordinate(this.height,n),this.balloon=AmCharts.processObject(this.balloon,AmCharts.AmBalloon,this.theme),this.balloon.chart=this,(t!=this.previousWidth||a!=this.previousHeight)&&(e.style.width=t+"px",e.style.height=a+"px",r&&r.setSize(t,a),this.balloon.setBounds(2,2,t-2,a)),this.realWidth=t,this.realHeight=a,this.divRealWidth=i,this.divRealHeight=n},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.interval&&clearInterval(this.interval),this.interval=0/0},clearTimeOuts:function(){var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]},clear:function(t){AmCharts.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||AmCharts.removeChart(this)},setMouseCursor:function(t){"auto"==t&&AmCharts.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var t=this.allLabels;this.createLabelsSet();var e;for(e=0;e<t.length;e++)this.drawLabel(t[e])},drawLabel:function(t){if(this.container){var e=t.y,i=t.text,n=t.align,r=t.size,a=t.color,s=t.rotation,o=t.alpha,h=t.bold,l=AmCharts.toCoordinate(t.x,this.realWidth),e=AmCharts.toCoordinate(e,this.realHeight);l||(l=0),e||(e=0),void 0===a&&(a=this.color),isNaN(r)&&(r=this.fontSize),n||(n="start"),"left"==n&&(n="start"),"right"==n&&(n="end"),"center"==n&&(n="middle",s?e=this.realHeight-e+e/2:l=this.realWidth/2-l),void 0===o&&(o=1),void 0===s&&(s=0),e+=r/2,i=AmCharts.text(this.container,i,a,this.fontFamily,r,n,h,o),i.translate(l,e),0!==s&&i.rotate(s),t.url&&(i.setAttr("cursor","pointer"),i.click(function(){AmCharts.getURL(t.url)})),this.labelsSet.push(i),this.labels.push(i)}},addLabel:function(t,e,i,n,r,a,s,o,h,l){t={x:t,y:e,text:i,align:n,size:r,color:a,alpha:o,rotation:s,bold:h,url:l},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;t>=0;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight,e=this.legend;if(e){var i=this.legendDiv.offsetHeight,e=e.position;("top"==e||"bottom"==e)&&(t-=i,(0>t||isNaN(t))&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight,i=this.legend;if(i){var n=this.legendDiv,r=n.offsetWidth,a=n.offsetHeight,n=n.style,s=this.chartDiv.style,i=i.position;("right"==i||"left"==i)&&(t-=r,(0>t||isNaN(t))&&(t=0),s.width=t+"px","left"==i?s.left=r+"px":n.left=t+"px",n.top=(e-a)/2+"px")}return t},getTitleHeight:function(){var t=0,e=this.titles;if(0<e.length){var i,t=15;for(i=0;i<e.length;i++)t+=e[i].size+6}return t},addTitle:function(t,e,i,n,r){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:i,alpha:n,bold:r},this.titles.push(t),t},addMouseWheel:function(){var t=this;window.addEventListener&&(window.addEventListener("DOMMouseScroll",function(e){t.handleWheel.call(t,e)},!1),document.addEventListener("mousewheel",function(e){t.handleWheel.call(t,e)},!1))},handleWheel:function(t){if(this.mouseIsOver){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e),t.preventDefault&&t.preventDefault()}},handleWheelReal:function(){},addListeners:function(){var t=this,e=t.chartDiv;document.addEventListener?(t.panEventsEnabled&&"ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",function(e){t.handleTouchMove.call(t,e),t.handleTouchStart.call(t,e)},!0),e.addEventListener("touchmove",function(e){t.handleTouchMove.call(t,e)},!0),e.addEventListener("touchend",function(e){t.handleTouchEnd.call(t,e)},!0)),e.addEventListener("mousedown",function(e){t.handleMouseDown.call(t,e)},!0),e.addEventListener("mouseover",function(e){t.handleMouseOver.call(t,e)},!0),e.addEventListener("mouseout",function(e){t.handleMouseOut.call(t,e)},!0)):(e.attachEvent("onmousedown",function(e){t.handleMouseDown.call(t,e)}),e.attachEvent("onmouseover",function(e){t.handleMouseOver.call(t,e)}),e.attachEvent("onmouseout",function(e){t.handleMouseOut.call(t,e)}))},dispDUpd:function(){var t;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,t="dataUpdated",this.fire(t,{type:t,chart:this})),this.chartCreated||(t="init",this.fire(t,{type:t,chart:this})),this.chartRendered||(t="rendered",this.fire(t,{type:t,chart:this}),this.chartRendered=!0),t="drawn",this.fire(t,{type:t,chart:this})},validateSize:function(){var t=this;t.measure();var e=t.legend;if((t.realWidth!=t.previousWidth||t.realHeight!=t.previousHeight)&&0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){clearTimeout(t.legendInitTO);var i=setTimeout(function(){e.invalidateSize()},100);t.timeOuts.push(i),t.legendInitTO=i}t.marginsUpdated="xy"!=t.type?!1:!0,clearTimeout(t.initTO),i=setTimeout(function(){t.initChart()},150),t.timeOuts.push(i),t.initTO=i}t.renderFix(),e&&e.renderFix()},invalidateSize:function(){this.previousHeight=this.previousWidth=0/0,this.invalidateSizeReal()},invalidateSizeReal:function(){var t=this;t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated="xy"!=this.type?!1:!0,this.initChart(t))},validateNow:function(){this.chartRendered=this.listenersAdded=!1,this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;clearInterval(t.hoverInt),clearTimeout(t.balloonTO),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},t.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide()},showBalloon:function(t,e,i,n,r){var a=this;clearTimeout(a.balloonTO),clearInterval(a.hoverInt),a.balloonTO=setTimeout(function(){a.showBalloonReal.call(a,t,e,i,n,r)},1)},showBalloonReal:function(t,e,i,n,r){this.handleMouseMove();var a=this.balloon;a.enabled&&(a.followCursor(!1),a.changeColor(e),!i||a.fixedPosition?(a.setPosition(n,r),a.followCursor(!1)):a.followCursor(!0),t&&a.showBalloon(t))},handleTouchMove:function(t){this.hideBalloon();var e=this.chartDiv;t.touches&&(t=t.touches.item(0),this.mouseX=t.pageX-AmCharts.findPosX(e),this.mouseY=t.pageY-AmCharts.findPosY(e))},handleMouseOver:function(){AmCharts.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){AmCharts.resetMouseOver(),this.mouseIsOver=!1},handleMouseMove:function(t){if(this.mouseIsOver){var e=this.chartDiv;t||(t=window.event);var i,n;if(t){switch(this.posX=AmCharts.findPosX(e),this.posY=AmCharts.findPosY(e),this.mouseMode){case 1:if(i=t.clientX-this.posX,n=t.clientY-this.posY,!this.divIsFixed){var r,a,e=document.body;e&&(r=e.scrollLeft,y1=e.scrollTop),(e=document.documentElement)&&(a=e.scrollLeft,y2=e.scrollTop),r=Math.max(r,a),a=Math.max(y1,y2),i+=r,n+=a}break;case 0:this.divIsFixed?(i=t.clientX-this.posX,n=t.clientY-this.posY):(i=t.pageX-this.posX,n=t.pageY-this.posY)}t.touches&&(t=t.touches.item(0),i=t.pageX-this.posX,n=t.pageY-this.posY),this.mouseX=i-this.dmouseX,this.mouseY=n-this.dmouseY}}},handleTouchStart:function(t){this.handleMouseDown(t)},handleTouchEnd:function(t){AmCharts.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){},handleMouseDown:function(t){AmCharts.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&t.preventDefault()},addLegend:function(t,e){t=AmCharts.processObject(t,AmCharts.AmLegend,this.theme),t.divId=e;var i;return i="object"!=typeof e&&e?document.getElementById(e):e,this.legend=t,t.chart=this,i?(t.div=i,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,i=this.handleLegendEvent,this.listenTo(t,"showItem",i),this.listenTo(t,"hideItem",i),this.listenTo(t,"clickMarker",i),this.listenTo(t,"rollOverItem",i),this.listenTo(t,"rollOutItem",i),this.listenTo(t,"rollOverMarker",i),this.listenTo(t,"rollOutMarker",i),this.listenTo(t,"clickLabel",i),t},removeLegend:function(){this.legend=void 0,this.legendDiv.innerHTML=""},handleResize:function(){(AmCharts.isPercents(this.width)||AmCharts.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!AmCharts.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){return AmCharts.hasSVG?this.container:void 0},animate:function(t,e,i,n,r,a,s){return t["an_"+e]&&AmCharts.removeFromArray(this.animations,t["an_"+e]),i={obj:t,frame:0,attribute:e,from:i,to:n,time:r,effect:a,suffix:s},t["an_"+e]=i,this.animations.push(i),i},setLegendData:function(t){var e=this.legend;e&&e.setData(t)},startInterval:function(){var t=this;clearInterval(t.interval),t.interval=setInterval(function(){t.updateAnimations.call(t)},AmCharts.updateRate)},stopAnim:function(t){AmCharts.removeFromArray(this.animations,t)},updateAnimations:function(){var t;for(this.container&&this.container.update(),t=this.animations.length-1;t>=0;t--){var e=this.animations[t],i=1e3*e.time/AmCharts.updateRate,n=e.frame+1,r=e.obj,a=e.attribute;if(i>=n){e.frame++;var s=Number(e.from),o=Number(e.to)-s,i=AmCharts[e.effect](0,n,s,o,i);0===o?this.animations.splice(t,1):r.node.style[a]=i+e.suffix}else r.node.style[a]=Number(e.to)+e.suffix,this.animations.splice(t,1)}},brr:function(){var t,e=this.product,i=e+".com",n=window.location.hostname.split(".");if(2<=n.length&&(t=n[n.length-2]+"."+n[n.length-1]),AmCharts.remove(this.bbset),n=this.creditsPosition,t!=i){var r=t=0,a=this.realWidth,s=this.realHeight;("serial"==this.type||"xy"==this.type)&&(t=this.marginLeftReal,r=this.marginTopReal,a=t+this.plotAreaWidth,s=r+this.plotAreaHeight);var e=AmCharts.text(this.container,"",this.color,this.fontFamily,Math.max(11,this.fontSize),"start"),o=e.getBBox(),h=o.width,o=o.height;e.translate(5+t,o/2+r+2),"bottom-left"==n&&e.translate(5+t,s-o/2-7),"bottom-right"==n&&e.translate(a-h-5,s-o/2-7),"top-right"==n&&e.translate(a-h-5,r+o/2+2),this.bbset=e,this.linkSet.push(e),e.setAttr("cursor","pointer"),e.click(function(){window.location.href="http://"+i})}}}),AmCharts.Slice=AmCharts.Class({construct:function(){}}),AmCharts.SerialDataItem=AmCharts.Class({construct:function(){}}),AmCharts.GraphDataItem=AmCharts.Class({construct:function(){}}),AmCharts.Guide=AmCharts.Class({construct:function(t){this.cname="Guide",AmCharts.applyTheme(this,t,this.cname)}}),AmCharts.AmGraph=AmCharts.Class({construct:function(t){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=0,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.hideBulletsCount=this.bulletOffset=0,this.labelPosition="top",this.cornerRadiusTop=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.y=this.x=0,AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this.chart,e=t.container;this.container=e,this.destroy();var i=e.set(),n=e.set();this.behindColumns?(t.graphsBehindSet.push(i),t.bulletBehindSet.push(n)):(t.graphsSet.push(i),t.bulletSet.push(n));var r=this.bulletAxis;AmCharts.isString(r)&&(this.bulletAxis=t.getValueAxisById(r)),this.bulletSet=n,this.scrollbar||(r=t.marginLeftReal,t=t.marginTopReal,i.translate(r,t),n.translate(r,t)),e=e.set(),AmCharts.remove(this.columnsSet),i.push(e),this.set=i,this.columnsSet=e,this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],AmCharts.ifArray(this.data)&&(i=!1,"xy"==this.chart.type?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(i=!0):this.valueAxis.axisCreated&&(i=!0),!this.hidden&&i&&this.createGraph())},createGraph:function(){var t=this,e=t.chart;if("inside"==t.labelPosition&&"column"!=t.type&&(t.labelPosition="bottom"),t.startAlpha=e.startAlpha,t.seqAn=e.sequencedAnimation,t.baseCoord=t.valueAxis.baseCoord,void 0===t.fillAlphas&&(t.fillAlphas=0),t.bulletColorR=t.bulletColor,void 0===t.bulletColorR&&(t.bulletColorR=t.lineColorR,t.bulletColorNegative=t.negativeLineColor),void 0===t.bulletAlpha&&(t.bulletAlpha=t.lineAlpha),clearTimeout(t.playedTO),!isNaN(t.valueAxis.min)&&!isNaN(t.valueAxis.max)){switch(e.type){case"serial":t.categoryAxis&&(t.createSerialGraph(),"candlestick"==t.type&&1>t.valueAxis.minMaxMultiplier&&t.positiveClip(t.set));break;case"radar":t.createRadarGraph();break;case"xy":t.createXYGraph(),t.positiveClip(t.set)}t.playedTO=setTimeout(function(){t.setAnimationPlayed.call(t)},500*t.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var t=[],e=[],i=this.xAxis,n=this.yAxis;this.pmh=n.viH+1,this.pmw=i.viW+1,this.pmy=this.pmx=0;var r;for(r=this.start;r<=this.end;r++){var a=this.data[r].axes[i.id].graphs[this.id],s=a.values,o=s.x,h=s.y,s=i.getCoordinate(o),l=n.getCoordinate(h);!isNaN(o)&&!isNaN(h)&&(t.push(s),e.push(l),(o=this.createBullet(a,s,l,r))||(o=0),h=this.labelText)&&(a=this.createLabel(a,s,l,h),this.allBullets.push(a),this.positionLabel(s,l,a,this.labelPosition,o))}this.drawLineGraph(t,e),this.launchAnimation()},createRadarGraph:function(){var t,e,i,n=this.valueAxis.stackType,r=[],a=[];for(i=this.start;i<=this.end;i++){var s,o=this.data[i].axes[this.valueAxis.id].graphs[this.id];if(s="none"==n||"3d"==n?o.values.value:o.values.close,isNaN(s))this.drawLineGraph(r,a),r=[],a=[];else{var h=this.y-(this.valueAxis.getCoordinate(s)-this.height),l=180-360/(this.end-this.start+1)*i;s=h*Math.sin(l/180*Math.PI),h*=Math.cos(l/180*Math.PI),r.push(s),a.push(h),(l=this.createBullet(o,s,h,i))||(l=0);var c=this.labelText;c&&(o=this.createLabel(o,s,h,c),this.allBullets.push(o),this.positionLabel(s,h,o,this.labelPosition,l)),isNaN(t)&&(t=s),isNaN(e)&&(e=h)}}r.push(t),a.push(e),this.drawLineGraph(r,a),this.launchAnimation()},positionLabel:function(t,e,i,n,r){var a=i.getBBox();switch(n){case"left":t-=(a.width+r)/2+2;break;case"top":e-=(r+a.height)/2+1;break;case"right":t+=(a.width+r)/2+2;break;case"bottom":e+=(r+a.height)/2+1}i.translate(t,e)},getGradRotation:function(){var t=270;return"horizontal"==this.gradientOrientation&&(t=0),this.gradientRotation=t},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var t=this.chart,e=this.id,i=this.index,n=this.data,r=this.chart.container,a=this.valueAxis,s=this.type,o=this.columnWidthReal;isNaN(this.columnWidth)||(o=this.columnWidth),isNaN(o)&&(o=.8);var h,l,c,u,d,f=this.width,p=this.height,m=this.y,g=this.rotate,v=this.columnCount,y=AmCharts.toCoordinate(this.cornerRadiusTop,o/2),b=this.connect,C=[],x=[],A=this.chart.graphs.length,w=this.dx/this.depthCount,S=this.dy/this.depthCount,T=a.stackType,N=this.labelPosition,E=this.start,D=this.end,k=this.scrollbar,M=this.categoryAxis,R=this.baseCoord,B=this.negativeBase,O=this.columnIndex,P=this.lineThickness,L=this.lineAlpha,F=this.lineColorR,I=this.dashLength,z=this.set,_=N,H=this.getGradRotation(),V=this.chart.columnSpacing,W=M.cellWidth,j=(W*o-v)/v;V>j&&(V=j);var G,Y,X,U,q,$,Z,K=p+1,Q=f+1,J=0,te=0,ee=this.fillColorsR,ie=this.negativeFillColors,ne=this.negativeLineColor,re=this.fillAlphas,ae=this.negativeFillAlphas;"object"==typeof re&&(re=re[0]),"object"==typeof ae&&(ae=ae[0]);var se=a.getCoordinate(a.min);if(a.logarithmic&&(se=a.getCoordinate(a.minReal)),this.minCoord=se,this.resetBullet&&(this.bullet="none"),!k&&("line"==s||"smoothedLine"==s||"step"==s)&&(1==n.length&&"step"!=s&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),ie||void 0!=ne)){var oe=B;oe>a.max&&(oe=a.max),oe<a.min&&(oe=a.min),a.logarithmic&&(oe=a.minReal);var he=a.getCoordinate(oe),le=a.getCoordinate(a.max);g?(K=p,Q=Math.abs(le-he),U=p,q=Math.abs(se-he),Z=te=0,a.reversed?(J=0,$=he):(J=he,$=0)):(Q=f,K=Math.abs(le-he),q=f,U=Math.abs(se-he),$=J=0,a.reversed?(Z=m,te=he):Z=he+1)}var ce=Math.round;this.pmx=ce(J),this.pmy=ce(te),this.pmh=ce(K),this.pmw=ce(Q),this.nmx=ce($),this.nmy=ce(Z),this.nmh=ce(U),this.nmw=ce(q),AmCharts.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),o="column"==s?(W*o-V*(v-1))/v:W*o,1>o&&(o=1);var ue;if("line"==s||"step"==s||"smoothedLine"==s){if(E>0){for(ue=E-1;ue>-1;ue--)if(G=n[ue],Y=G.axes[a.id].graphs[e],X=Y.values.value,!isNaN(X)){E=ue;break}if(this.lineColorField)for(ue=E;ue>-1;ue--)if(G=n[ue],Y=G.axes[a.id].graphs[e],Y.lineColor){this.bulletColorSwitched=this.lineColorSwitched=Y.lineColor;break}if(this.fillColorsField)for(ue=E;ue>-1;ue--)if(G=n[ue],Y=G.axes[a.id].graphs[e],Y.fillColors){this.fillColorsSwitched=Y.fillColors;break}if(this.dashLengthField)for(ue=E;ue>-1;ue--)if(G=n[ue],Y=G.axes[a.id].graphs[e],!isNaN(Y.dashLength)){this.dashLengthSwitched=Y.dashLength;break}}if(D<n.length-1)for(ue=D+1;ue<n.length;ue++)if(G=n[ue],Y=G.axes[a.id].graphs[e],X=Y.values.value,!isNaN(X)){D=ue;break}}D<n.length-1&&D++;var de=[],fe=[],pe=!1;("line"==s||"step"==s||"smoothedLine"==s)&&(this.stackable&&"regular"==T||"100%"==T||this.fillToGraph)&&(pe=!0);var me=this.noStepRisers;for(ue=E;D>=ue;ue++){G=n[ue],Y=G.axes[a.id].graphs[e],Y.index=ue;var ge,ve,ye,be,Ce,xe,Ae=0/0,we=0/0,Se=0/0,Te=0/0,Ne=0/0,Ee=0/0,De=0/0,ke=0/0,Me=0/0,Re=0/0,Be=0/0,Oe=0/0,Pe=0/0,Le=0/0,Fe=0/0,Ie=0/0,ze=0/0,_e=void 0,He=ee,Ve=re,We=F,je=this.pattern;void 0!=Y.pattern&&(je=Y.pattern),void 0!=Y.color&&(He=Y.color),Y.fillColors&&(He=Y.fillColors),isNaN(Y.alpha)||(Ve=Y.alpha),isNaN(Y.dashLength)||(I=Y.dashLength);var Ge=Y.values;if(a.recalculateToPercents&&(Ge=Y.percents),Ge){if(Le=this.stackable&&"none"!=T&&"3d"!=T?Ge.close:Ge.value,("candlestick"==s||"ohlc"==s)&&(Le=Ge.close,Ie=Ge.low,De=a.getCoordinate(Ie),Fe=Ge.high,Me=a.getCoordinate(Fe)),ze=Ge.open,Se=a.getCoordinate(Le),isNaN(ze)||(Ne=a.getCoordinate(ze)),!k)switch(this.showBalloonAt){case"close":Y.y=Se;break;case"open":Y.y=Ne;break;case"high":Y.y=Me;break;case"low":Y.y=De}var Ae=G.x[M.id],Ye=this.periodSpan-1,Xe=Math.floor(W/2)+Math.floor(Ye*W/2),Ue=Xe,qe=0;if("left"==this.stepDirection&&(qe=(2*W+Ye*W)/2,Ae-=qe),"start"==this.pointPosition&&(Ae-=W/2+Math.floor(Ye*W/2),Xe=0,Ue=Math.floor(W)+Math.floor(Ye*W)),"end"==this.pointPosition&&(Ae+=W/2+Math.floor(Ye*W/2),Xe=Math.floor(W)+Math.floor(Ye*W),Ue=0),me){var $e=this.columnWidth;isNaN($e)||(Xe*=$e,Ue*=$e)}switch(k||(Y.x=Ae),-1e5>Ae&&(Ae=-1e5),Ae>f+1e5&&(Ae=f+1e5),g?(we=Se,Te=Ne,Ne=Se=Ae,isNaN(ze)&&!this.fillToGraph&&(Te=R),Ee=De,ke=Me):(Te=we=Ae,isNaN(ze)&&!this.fillToGraph&&(Ne=R)),ze>Le&&(Y.isNegative=!0,ie&&(He=ie),ae&&(Ve=ae),void 0!=ne&&(We=ne)),s){case"line":isNaN(Le)?b||(this.drawLineGraph(C,x,de,fe),C=[],x=[],de=[],fe=[]):(Y.isNegative=B>Le?!0:!1,C.push(we),x.push(Se),Re=we,Be=Se,Oe=we,Pe=Se,!pe||isNaN(Ne)||isNaN(Te)||(de.push(Te),fe.push(Ne)),void 0==Y.lineColor&&void 0==Y.fillColors&&isNaN(Y.dashLength)||(this.drawLineGraph(C,x,de,fe),C=[we],x=[Se],de=[],fe=[],this.lineColorSwitched=Y.lineColor,this.fillColorsSwitched=Y.fillColors,this.dashLengthSwitched=Y.dashLength));break;case"smoothedLine":isNaN(Le)?b||(this.drawSmoothedGraph(C,x,de,fe),C=[],x=[],de=[],fe=[]):(Y.isNegative=B>Le?!0:!1,C.push(we),x.push(Se),Re=we,Be=Se,Oe=we,Pe=Se,!pe||isNaN(Ne)||isNaN(Te)||(de.push(Te),fe.push(Ne)),void 0==Y.lineColor&&void 0==Y.fillColors&&isNaN(Y.dashLength)||(this.drawSmoothedGraph(C,x,de,fe),C=[we],x=[Se],de=[],fe=[],this.lineColorSwitched=Y.lineColor,this.fillColorsSwitched=Y.fillColors,this.dashLengthSwitched=Y.dashLength));break;case"step":isNaN(Le)?b||(h=l=0/0,this.drawLineGraph(C,x,de,fe),C=[],x=[],de=[],fe=[]):(Y.isNegative=B>Le?!0:!1,void 0==Y.lineColor&&void 0==Y.fillColors&&isNaN(Y.dashLength)||(this.drawLineGraph(C,x,de,fe),C=[],x=[],de=[],fe=[],this.lineColorSwitched=Y.lineColor,this.fillColorsSwitched=Y.fillColors,this.dashLengthSwitched=Y.dashLength),g?(isNaN(h)||(C.push(h),x.push(Se-Xe)),x.push(Se-Xe),C.push(we),x.push(Se+Ue),C.push(we),!pe||isNaN(Ne)||isNaN(Te)||(de.push(c),fe.push(Ne-Xe),de.push(Te),fe.push(Ne-Xe),de.push(Te),fe.push(Ne+Ue))):(isNaN(l)||(x.push(l),C.push(h),x.push(l),C.push(we-Xe)),C.push(we-Xe),x.push(Se),C.push(we+Ue),x.push(Se),!pe||isNaN(Ne)||isNaN(Te)||(de.push(Te-Xe),fe.push(u),de.push(Te-Xe),fe.push(Ne),de.push(Te+Ue),fe.push(Ne))),h=we,l=Se,c=Te,u=Ne,Re=we,Be=Se,Oe=we,Pe=Se,me&&(h=l=0/0,this.drawLineGraph(C,x,de,fe),C=[],x=[],de=[],fe=[]));break;case"column":if(Ce=We,void 0!=Y.lineColor&&(Ce=Y.lineColor),!isNaN(Le)){B>Le?(Y.isNegative=!0,ie&&(He=ie),void 0!=ne&&(Ce=ne)):Y.isNegative=!1;var Ze=a.min,Ke=a.max;if(!(Ze>Le&&Ze>ze||Le>Ke&&ze>Ke))if(g){"3d"==T?(ve=Se-.5*(o+V)+V/2+S*O,ge=Te+w*O):(ve=Se-(v/2-O)*(o+V)+V/2,ge=Te),ye=o,Re=we,Be=ve+o/2,Oe=we,Pe=ve+o/2,ve+ye>p&&(ye=p-ve),0>ve&&(ye+=ve,ve=0),be=we-Te;
var Qe=ge;ge=AmCharts.fitToBounds(ge,0,f),be+=Qe-ge,be=AmCharts.fitToBounds(be,-ge,f-ge+w*O),p>ve&&ye>0&&(_e=new AmCharts.Cuboid(r,be,ye,w-t.d3x,S-t.d3y,He,Ve,P,Ce,L,H,y,g,I,je),"bottom"!=N&&"inside"!=N&&"middle"!=N)&&(N=a.reversed?"left":"right",0>Le?N=a.reversed?"right":"left":("regular"==T||"100%"==T)&&(Re+=this.dx))}else{"3d"==T?(ge=we-.5*(o+V)+V/2+w*O,ve=Ne+S*O):(ge=we-(v/2-O)*(o+V)+V/2,ve=Ne),ye=o,Re=ge+o/2,Be=Se,Oe=ge+o/2,Pe=Se,ge+ye>f+O*w&&(ye=f-ge+O*w),0>ge&&(ye+=ge,ge=0),be=Se-Ne;var Je=ve;ve=AmCharts.fitToBounds(ve,this.dy,p),be+=Je-ve,be=AmCharts.fitToBounds(be,-ve+S*O,p-ve),f+O*w>ge&&ye>0&&(_e=new AmCharts.Cuboid(r,ye,be,w-t.d3x,S-t.d3y,He,Ve,P,Ce,this.lineAlpha,H,y,g,I,je),0>Le&&"middle"!=N&&"inside"!=N?N="bottom":(N=_,("regular"==T||"100%"==T)&&(Be+=this.dy)))}_e&&(xe=_e.set,xe.translate(ge,ve),this.columnsSet.push(xe),(Y.url||this.showHandOnHover)&&xe.setAttr("cursor","pointer"),!k)&&("none"==T&&(d=g?(this.end+1-ue)*A-i:A*ue+i),"3d"==T&&(g?(d=(A-i)*(this.end+1-ue),Re+=w*this.columnIndex,Oe+=w*this.columnIndex,Y.y+=w*this.columnIndex):(d=(A-i)*(ue+1),Re+=3,Be+=S*this.columnIndex+7,Pe+=S*this.columnIndex,Y.y+=S*this.columnIndex)),("regular"==T||"100%"==T)&&("inside"!=N&&(N="middle"),d=g?0<Ge.value?(this.end+1-ue)*A+i:(this.end+1-ue)*A-i:0<Ge.value?A*ue+i:A*ue-i),this.columnsArray.push({column:_e,depth:d}),Y.x=g?ve+ye/2:ge+ye/2,this.ownColumns.push(_e),this.animateColumns(_e,ue,we,Te,Se,Ne),this.addListeners(xe,Y))}break;case"candlestick":if(!isNaN(ze)&&!isNaN(Le)){var ti,ei;if(Ce=We,void 0!=Y.lineColor&&(Ce=Y.lineColor),g){if(ve=Se-o/2,ge=Te,ye=o,ve+ye>p&&(ye=p-ve),0>ve&&(ye+=ve,ve=0),p>ve&&ye>0){var ii,ni;Le>ze?(ii=[we,ke],ni=[Te,Ee]):(ii=[Te,ke],ni=[we,Ee]),!isNaN(ke)&&!isNaN(Ee)&&p>Se&&Se>0&&(ti=AmCharts.line(r,ii,[Se,Se],Ce,L,P),ei=AmCharts.line(r,ni,[Se,Se],Ce,L,P)),be=we-Te,_e=new AmCharts.Cuboid(r,be,ye,w,S,He,re,P,Ce,L,H,y,g,I,je)}}else if(ge=we-o/2,ve=Ne+P/2,ye=o,ge+ye>f&&(ye=f-ge),0>ge&&(ye+=ge,ge=0),be=Se-Ne,f>ge&&ye>0){var ri,ai,_e=new AmCharts.Cuboid(r,ye,be,w,S,He,Ve,P,Ce,L,H,y,g,I,je);Le>ze?(ri=[Se,Me],ai=[Ne,De]):(ri=[Ne,Me],ai=[Se,De]),!isNaN(Me)&&!isNaN(De)&&f>we&&we>0&&(ti=AmCharts.line(r,[we,we],ri,Ce,L,P),ei=AmCharts.line(r,[we,we],ai,Ce,L,P))}_e&&(xe=_e.set,z.push(xe),xe.translate(ge,ve-P/2),(Y.url||this.showHandOnHover)&&xe.setAttr("cursor","pointer"),ti&&(z.push(ti),z.push(ei)),Re=we,Be=Se,Oe=we,Pe=Se,k||(Y.x=g?ve+ye/2:ge+ye/2,this.animateColumns(_e,ue,we,Te,Se,Ne),this.addListeners(xe,Y)))}break;case"ohlc":if(!(isNaN(ze)||isNaN(Fe)||isNaN(Ie)||isNaN(Le))){ze>Le&&(Y.isNegative=!0,void 0!=ne&&(We=ne));var si,oi,hi;if(g){var li=Se-o/2,li=AmCharts.fitToBounds(li,0,p),ci=AmCharts.fitToBounds(Se,0,p),ui=Se+o/2,ui=AmCharts.fitToBounds(ui,0,p);oi=AmCharts.line(r,[Te,Te],[li,ci],We,L,P,I),Se>0&&p>Se&&(si=AmCharts.line(r,[Ee,ke],[Se,Se],We,L,P,I)),hi=AmCharts.line(r,[we,we],[ci,ui],We,L,P,I)}else{var di=we-o/2,di=AmCharts.fitToBounds(di,0,f),fi=AmCharts.fitToBounds(we,0,f),pi=we+o/2,pi=AmCharts.fitToBounds(pi,0,f);oi=AmCharts.line(r,[di,fi],[Ne,Ne],We,L,P,I),we>0&&f>we&&(si=AmCharts.line(r,[we,we],[De,Me],We,L,P,I)),hi=AmCharts.line(r,[fi,pi],[Se,Se],We,L,P,I)}z.push(oi),z.push(si),z.push(hi),Re=we,Be=Se,Oe=we,Pe=Se}}if(!k&&!isNaN(Le)){var mi=this.hideBulletsCount;if(this.end-this.start<=mi||0===mi){var gi=this.createBullet(Y,Oe,Pe,ue);gi||(gi=0);var vi=this.labelText;if(vi){var yi=this.createLabel(Y,0,0,vi),bi=0,Ci=0,xi=yi.getBBox(),Ai=xi.width,wi=xi.height;switch(N){case"left":bi=-(Ai/2+gi/2+3);break;case"top":Ci=-(wi/2+gi/2+3);break;case"right":bi=gi/2+2+Ai/2;break;case"bottom":g&&"column"==s?(Re=R,0>Le||Le>0&&a.reversed?(bi=-6,yi.attr({"text-anchor":"end"})):(bi=6,yi.attr({"text-anchor":"start"}))):(Ci=gi/2+wi/2,yi.x=-(Ai/2+2));break;case"middle":"column"==s&&(g?(Ci=-(wi/2)+this.fontSize/2,bi=-(we-Te)/2-w,0>be&&(bi+=w),Math.abs(we-Te)<Ai&&!this.showAllValueLabels&&(yi.remove(),yi=null)):(Ci=-(Se-Ne)/2,0>be&&(Ci-=S),Math.abs(Se-Ne)<wi&&!this.showAllValueLabels&&(yi.remove(),yi=null)));break;case"inside":g?(Ci=-(wi/2)+this.fontSize/2,bi=0>be?Ai/2+6:-Ai/2-6):Ci=0>be?wi:-wi}if(yi){if(isNaN(Be)||isNaN(Re))yi.remove(),yi=null;else if(Re+=bi,Be+=Ci,yi.translate(Re,Be),g)(0>Be||Be>p)&&(yi.remove(),yi=null);else{var Si=0;"3d"==T&&(Si=w*O),(0>Re||Re>f+Si)&&(yi.remove(),yi=null)}yi&&this.allBullets.push(yi)}}if("regular"==T||"100%"==T){var Ti=a.totalText;if(Ti){var Ni=this.createLabel(Y,0,0,Ti,a.totalTextColor);this.allBullets.push(Ni);var Ei,Di,ki=Ni.getBBox(),Mi=ki.width,Ri=ki.height,Bi=a.totals[ue];Bi&&Bi.remove();var Oi=0;"column"!=s&&(Oi=gi),g?(Di=Se,Ei=0>Le?we-Mi/2-2-Oi:we+Mi/2+3+Oi):(Ei=we,Di=0>Le?Se+Ri/2+Oi:Se-Ri/2-3-Oi),Ni.translate(Ei,Di),a.totals[ue]=Ni,g?(0>Di||Di>p)&&Ni.remove():(0>Ei||Ei>f)&&Ni.remove()}}}}}}("line"==s||"step"==s||"smoothedLine"==s)&&("smoothedLine"==s?this.drawSmoothedGraph(C,x,de,fe):this.drawLineGraph(C,x,de,fe),k||this.launchAnimation()),this.bulletsHidden&&this.hideBullets()},animateColumns:function(t,e,i){var n=this;i=n.chart.startDuration,i>0&&!n.animationPlayed&&(n.seqAn?(t.set.hide(),n.animationArray.push(t),t=setTimeout(function(){n.animate.call(n)},i/(n.end-n.start+1)*(e-n.start)*1e3),n.timeOuts.push(t)):n.animate(t))},createLabel:function(t,e,i,n,r){var a=this.chart,s=t.labelColor;return s||(s=this.color),s||(s=a.color),r&&(s=r),r=this.fontSize,void 0===r&&(this.fontSize=r=a.fontSize),t=a.formatString(n,t),t=AmCharts.cleanFromEmpty(t),a=AmCharts.text(this.container,t,s,a.fontFamily,r),a.translate(e,i),this.bulletSet.push(a),a},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,e,i,n){var r=this;if(1<t.length){var a=r.set,s=r.container,o=s.set(),h=s.set();a.push(h),a.push(o);var l=r.lineAlpha,c=r.lineThickness,a=r.fillAlphas,u=r.lineColorR,d=r.negativeLineAlpha;isNaN(d)&&(d=l);var f=r.lineColorSwitched;f&&(u=f);var f=r.fillColorsR,p=r.fillColorsSwitched;p&&(f=p);var m=r.dashLength;(p=r.dashLengthSwitched)&&(m=p);var p=r.negativeLineColor,g=r.negativeFillColors,v=r.negativeFillAlphas,y=r.baseCoord;0!==r.negativeBase&&(y=r.valueAxis.getCoordinate(r.negativeBase)),l=AmCharts.line(s,t,e,u,l,c,m,!1,!0),o.push(l),o.click(function(t){r.handleGraphClick(t)}),void 0!==p&&(c=AmCharts.line(s,t,e,p,d,c,m,!1,!0),h.push(c)),(a>0||v>0)&&(c=t.join(";").split(";"),d=e.join(";").split(";"),"serial"==r.chart.type&&(0<i.length?(i.reverse(),n.reverse(),c=t.concat(i),d=e.concat(n)):r.rotate?(d.push(d[d.length-1]),c.push(y),d.push(d[0]),c.push(y),d.push(d[0]),c.push(c[0])):(c.push(c[c.length-1]),d.push(y),c.push(c[0]),d.push(y),c.push(t[0]),d.push(d[0]))),t=r.gradientRotation,a>0&&(e=AmCharts.polygon(s,c,d,f,a,1,"#000",0,t),e.pattern(r.pattern),o.push(e)),(g||void 0!==p)&&(isNaN(v)&&(v=a),g||(g=p),s=AmCharts.polygon(s,c,d,g,v,1,"#000",0,t),s.pattern(r.pattern),h.push(s),h.click(function(t){r.handleGraphClick(t)}))),r.applyMask(h,o)}},applyMask:function(t,e){var i=t.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(e),i>0&&this.negativeClip(t))},drawSmoothedGraph:function(t,e,i,n){if(1<t.length){var r=this.set,a=this.container,s=a.set(),o=a.set();r.push(o),r.push(s);var h=this.lineAlpha,l=this.lineThickness,r=this.dashLength,c=this.fillAlphas,u=this.lineColorR,d=this.fillColorsR,f=this.negativeLineColor,p=this.negativeFillColors,m=this.negativeFillAlphas,g=this.baseCoord,v=this.lineColorSwitched;v&&(u=v),(v=this.fillColorsSwitched)&&(d=v),v=this.negativeLineAlpha,isNaN(v)&&(v=h),h=new AmCharts.Bezier(a,t,e,u,h,l,d,0,r),s.push(h.path),void 0!==f&&(l=new AmCharts.Bezier(a,t,e,f,v,l,d,0,r),o.push(l.path)),c>0&&(h=t.join(";").split(";"),u=e.join(";").split(";"),l="",0<i.length?(i.push("M"),n.push("M"),i.reverse(),n.reverse(),h=t.concat(i),u=e.concat(n)):(this.rotate?(l+=" L"+g+","+e[e.length-1],l+=" L"+g+","+e[0]):(l+=" L"+t[t.length-1]+","+g,l+=" L"+t[0]+","+g),l+=" L"+t[0]+","+e[0]),i=new AmCharts.Bezier(a,h,u,0/0,0,0,d,c,r,l),i.path.pattern(this.pattern),s.push(i.path),p||void 0!==f)&&(m||(m=c),p||(p=f),t=new AmCharts.Bezier(a,t,e,0/0,0,0,p,m,r,l),t.path.pattern(this.pattern),o.push(t.path)),this.applyMask(o,s)}},launchAnimation:function(){var t=this,e=t.chart.startDuration;if(e>0&&!t.animationPlayed){var i=t.set,n=t.bulletSet;AmCharts.VML||(i.attr({opacity:t.startAlpha}),n.attr({opacity:t.startAlpha})),i.hide(),n.hide(),t.seqAn?(e=setTimeout(function(){t.animateGraphs.call(t)},t.index*e*1e3),t.timeOuts.push(e)):t.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,i=this.bulletSet,n=this.x,r=this.y;e.show(),i.show();var a=t.startDuration,t=t.startEffect;e&&(this.rotate?(e.translate(-1e3,r),i.translate(-1e3,r)):(e.translate(n,-1e3),i.translate(n,-1e3)),e.animate({opacity:1,translate:n+","+r},a,t),i.animate({opacity:1,translate:n+","+r},a,t))},animate:function(t){var e=this.chart,i=this.animationArray;!t&&0<i.length&&(t=i[0],i.shift()),i=AmCharts[AmCharts.getEffect(e.startEffect)],e=e.startDuration,t&&(this.rotate?t.animateWidth(e,i):t.animateHeight(e,i),t.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===e&&(e=this.fillColorsR)&&(t="object"==typeof e?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(t=this.lineAlpha,0===t&&this.fillAlphas&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(t,e,i,n){n=this.container;var r=this.bulletOffset,a=this.bulletSize;isNaN(t.bulletSize)||(a=t.bulletSize);var s=t.values.value;isNaN(this.maxValue)||isNaN(s)||(a=s/this.maxValue*this.maxBulletSize);var o=a;this.bulletAxis&&(a=t.values.error,isNaN(a)||(s=a),a=this.bulletAxis.stepWidth*s),a<this.minBulletSize&&(a=this.minBulletSize),this.rotate?e+=r:i-=r;var h,l=this.bulletColorR;t.lineColor&&(this.bulletColorSwitched=t.lineColor),this.bulletColorSwitched&&(l=this.bulletColorSwitched),t.isNegative&&void 0!==this.bulletColorNegative&&(l=this.bulletColorNegative),void 0!==t.color&&(l=t.color);var c;"xy"==this.chart.type&&this.valueField&&(c=this.pattern,t.pattern&&(c=t.pattern)),r=this.bullet,t.bullet&&(r=t.bullet);var s=this.bulletBorderThickness,u=this.bulletBorderColorR,d=this.bulletBorderAlpha,f=this.bulletAlpha;u||(u=l),this.useLineColorForBulletBorder&&(u=this.lineColorR);var p=t.alpha;return isNaN(p)||(f=p),("none"!=this.bullet||t.bullet)&&(h=AmCharts.bullet(n,r,a,l,f,s,u,d,o,0,c)),(this.customBullet||t.customBullet)&&(c=this.customBullet,t.customBullet&&(c=t.customBullet),c&&(h&&h.remove(),"function"==typeof c?(h=new c,h.chart=this.chart,t.bulletConfig&&(h.availableSpace=i,h.graph=this,t.bulletConfig.minCoord=this.minCoord-i,h.bulletConfig=t.bulletConfig),h.write(n),h=h.set):(this.chart.path&&(c=this.chart.path+c),h=n.set(),n=n.image(c,0,0,a,a),h.push(n),this.centerCustomBullets&&n.translate(-a/2,-a/2)))),h&&((t.url||this.showHandOnHover)&&h.setAttr("cursor","pointer"),"serial"==this.chart.type&&(0>e-0||e-0>this.width||-a/2>i||i-0>this.height)&&(h.remove(),h=null),h&&(this.bulletSet.push(h),h.translate(e,i),this.addListeners(h,t),this.allBullets.push(h)),t.bx=e,t.by=i),t.bulletGraphics=h,a},showBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!1,t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!0,t=0;t<e.length;t++)e[t].hide()},addListeners:function(t,e){var i=this;t.mouseover(function(t){i.handleRollOver(e,t)}).mouseout(function(t){i.handleRollOut(e,t)}).touchend(function(t){i.handleRollOver(e,t),i.chart.panEventsEnabled&&i.handleClick(e,t)}).touchstart(function(t){i.handleRollOver(e,t)}).click(function(t){i.handleClick(e,t)}).dblclick(function(t){i.handleDoubleClick(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)})},handleRollOver:function(t,e){if(t){var i=this.chart,n={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};if(this.fire("rollOverGraphItem",n),i.fire("rollOverGraphItem",n),clearTimeout(i.hoverInt),n=this.showBalloon,i.chartCursor&&"serial"==i.type&&(n=!1,!i.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(n=!0)),n){var n=i.formatString(this.balloonText,t,!0),r=this.balloonFunction;r&&(n=r(t,t.graph)),n=AmCharts.cleanFromEmpty(n),r=i.getBalloonColor(this,t),i.balloon.showBullet=!1,i.balloon.pointerOrientation="V";var a=t.x,s=t.y;i.rotate&&(a=t.y,s=t.x),i.showBalloon(n,r,!0,a+i.marginLeftReal,s+i.marginTopReal)}}},handleRollOut:function(t,e){if(this.chart.hideBalloon(),t){var i={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("rollOutGraphItem",i),this.chart.fire("rollOutGraphItem",i)}},handleClick:function(t,e){if(t){var i={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("clickGraphItem",i),this.chart.fire("clickGraphItem",i),AmCharts.getURL(t.url,this.urlTarget)}this.handleGraphClick(e)},handleGraphClick:function(t){t={type:"clickGraph",graph:this,target:this,chart:this.chart,event:t},this.fire("clickGraph",t),this.chart.fire("clickGraph",t)},handleRightClick:function(t,e){if(t){var i={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("rightClickGraphItem",i),this.chart.fire("rightClickGraphItem",i)}},handleDoubleClick:function(t,e){if(t){var i={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("doubleClickGraphItem",i),this.chart.fire("doubleClickGraphItem",i)}},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e=this.set;if(e&&e.setAttr("opacity",t),e=this.ownColumns){var i;for(i=0;i<e.length;i++){var n=e[i].set;n&&n.setAttr("opacity",t)}}(e=this.bulletSet)&&e.setAttr("opacity",t)},destroy:function(){AmCharts.remove(this.set),AmCharts.remove(this.bulletSet);var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]}}),AmCharts.ChartCursor=AmCharts.Class({construct:function(t){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var e=t.chart,i=e.container;t.rotate=e.rotate,t.container=i,i=i.set(),i.translate(t.x,t.y),t.set=i,e.cursorSet.push(i),i=new AmCharts.AmBalloon,i.chart=e,t.categoryBalloon=i,AmCharts.copyProperties(e.balloon,i),i.cornerRadius=0,i.shadowAlpha=0,i.borderThickness=1,i.borderAlpha=1,i.showBullet=!1;var n=t.categoryBalloonColor;if(void 0===n&&(n=t.cursorColor),i.fillColor=n,i.fillAlpha=t.categoryBalloonAlpha,i.borderColor=n,i.color=t.color,t.rotate&&(i.pointerOrientation="H"),t.prevX=[],t.prevY=[],t.prevTX=[],t.prevTY=[],t.valueBalloonsEnabled)for(i=0;i<e.graphs.length;i++)n=new AmCharts.AmBalloon,n.chart=e,AmCharts.copyProperties(e.balloon,n),e.graphs[i].valueBalloon=n;"cursor"==t.type?t.createCursor():t.createCrosshair(),t.interval=setInterval(function(){t.detectMovement.call(t)},40)},updateData:function(){var t=this.chart;this.data=t.chartData,this.firstTime=t.firstTime,this.lastTime=t.lastTime},createCursor:function(){var t,e,i=this.chart,n=this.cursorAlpha,r=i.categoryAxis,a=r.position,s=r.inside,o=r.axisThickness,h=this.categoryBalloon,l=i.dx,c=i.dy,u=this.x,d=this.y,f=this.width,p=this.height,i=i.rotate,m=r.tickLength;h.pointerWidth=m,i?(t=[0,f,f+l],e=[0,0,c]):(t=[l,0,0],e=[c,0,p]),this.line=n=AmCharts.line(this.container,t,e,this.cursorColor,n,1),this.set.push(n),i?(s&&(h.pointerWidth=0),"right"==a?s?h.setBounds(u,d+c,u+f+l,d+p+c):h.setBounds(u+f+l+o,d+c,u+f+1e3,d+p+c):s?h.setBounds(u,d,f+u,p+d):h.setBounds(-1e3,-1e3,u-m-o,d+p+15)):(h.maxWidth=f,r.parseDates&&(m=0,h.pointerWidth=0),"top"==a?s?h.setBounds(u+l,d+c,f+l+u,p+d):h.setBounds(u+l,-1e3,f+l+u,d+c-m-o):s?h.setBounds(u,d,f+u,p+d-m):h.setBounds(u,d+p+m+o-1,u+f,d+p+m+o)),this.hideCursor()},createCrosshair:function(){var t=this.cursorAlpha,e=this.container,i=AmCharts.line(e,[0,0],[0,this.height],this.cursorColor,t,1),t=AmCharts.line(e,[0,this.width],[0,0],this.cursorColor,t,1);this.set.push(i),this.set.push(t),this.vLine=i,this.hLine=t,this.hideCursor()},detectMovement:function(){var t=this.chart;if(t.mouseIsOver){var e=t.mouseX-this.x,i=t.mouseY-this.y;e>0&&e<this.width&&i>0&&i<this.height?(this.drawing?this.rolledOver||t.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||t.setMouseCursor("move")),this.rolledOver=!0,this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},getMousePosition:function(){var t,e=this.width,i=this.height;return t=this.chart,this.rotate?(t=t.mouseY-this.y,0>t&&(t=0),t>i&&(t=i)):(t=t.mouseX-this.x,0>t&&(t=0),t>e&&(t=e)),t},updateCrosshair:function(){var t=this.chart,e=t.mouseX-this.x,i=t.mouseY-this.y,n=this.vLine,r=this.hLine,e=AmCharts.fitToBounds(e,0,this.width),i=AmCharts.fitToBounds(i,0,this.height);0<this.cursorAlpha&&(n.show(),r.show(),n.translate(e,0),r.translate(0,i)),this.zooming&&(t.hideXScrollbar&&(e=0/0),t.hideYScrollbar&&(i=0/0),this.updateSelectionSize(e,i)),this.fireMoved(),t.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var t=this.chart,e={type:"moved",target:this};e.chart=t,e.zooming=this.zooming,e.x=t.mouseX-this.x,e.y=t.mouseY-this.y,this.fire("moved",e)},updateSelectionSize:function(t,e){AmCharts.remove(this.selection);var i=this.selectionPosX,n=this.selectionPosY,r=0,a=0,s=this.width,o=this.height;isNaN(t)||(i>t&&(r=t,s=i-t),t>i&&(r=i,s=t-i),i==t&&(r=t,s=0)),isNaN(e)||(n>e&&(a=e,o=n-e),e>n&&(a=n,o=e-n),n==e&&(a=e,o=0)),s>0&&o>0&&(i=AmCharts.rect(this.container,s,o,this.cursorColor,this.selectionAlpha),i.translate(r+this.x,a+this.y),this.selection=i)},arrangeBalloons:function(){var t=this.valueBalloons,e=this.x,i=this.y,n=this.height+i;t.sort(this.compareY);var r;for(r=0;r<t.length;r++){var a=t[r].balloon;a.setBounds(e,i,e+this.width,n),a.prevX=this.prevX[r],a.prevY=this.prevY[r],a.prevTX=this.prevTX[r],a.prevTY=this.prevTY[r],a.draw(),n=a.yPos-3}this.arrangeBalloons2()},compareY:function(t,e){return t.yy<e.yy?1:-1},arrangeBalloons2:function(){var t=this.valueBalloons;t.reverse();var e,i,n,r=this.x,a=t.length;for(n=0;a>n;n++){var s=t[n].balloon;e=s.bottom;var o=s.bottom-s.yPos,h=a-n-1;n>0&&i+3>e-o&&(s.setBounds(r,i+3,r+this.width,i+o+3),s.prevX=this.prevX[h],s.prevY=this.prevY[h],s.prevTX=this.prevTX[h],s.prevTY=this.prevTY[h],s.draw()),s.set&&s.set.show(),this.prevX[h]=s.prevX,this.prevY[h]=s.prevY,this.prevTX[h]=s.prevTX,this.prevTY[h]=s.prevTY,i=s.bottom}},showBullets:function(){AmCharts.remove(this.allBullets);var t=this.container,e=t.set();this.set.push(e),this.set.show(),this.allBullets=e;var i,e=this.chart.graphs;for(i=0;i<e.length;i++){var n=e[i];if(!n.hidden&&n.balloonText){var r=this.data[this.index].axes[n.valueAxis.id].graphs[n.id],a=r.y;if(!isNaN(a)){var s,o;s=r.x,this.rotate?(o=a,a=s):o=s,n=AmCharts.circle(t,this.bulletSize/2,this.chart.getBalloonColor(n,r,!0),n.cursorBulletAlpha),n.translate(o,a),this.allBullets.push(n)}}}},destroy:function(){this.clear(),AmCharts.remove(this.selection),this.selection=null;var t=this.categoryBalloon;t&&t.destroy(),this.destroyValueBalloons(),AmCharts.remove(this.set)},clear:function(){clearInterval(this.interval)},destroyValueBalloons:function(){var t=this.valueBalloons;if(t){var e;for(e=0;e<t.length;e++)t[e].balloon.hide()}},zoom:function(t,e,i,n){var r=this.chart;this.destroyValueBalloons(),this.zooming=!1;var a;this.rotate?this.selectionPosY=a=r.mouseY:this.selectionPosX=a=r.mouseX,this.start=t,this.end=e,this.startTime=i,this.endTime=n,this.zoomed=!0;var s=r.categoryAxis,r=this.rotate;a=this.width;var o=this.height;s.parseDates&&!s.equalSpacing?(t=n-i+s.minDuration(),t=r?o/t:a/t):t=r?o/(e-t):a/(e-t),this.stepWidth=t,this.tempVal=this.valueBalloonsEnabled,this.valueBalloonsEnabled=!1,this.setPosition(),this.valueBalloonsEnabled=this.tempVal,this.hideCursor()},hideObj:function(t){t&&t.hide()},hideCursor:function(t){void 0===t&&(t=!0),this.hideObj(this.set),this.hideObj(this.categoryBalloon),this.hideObj(this.line),this.hideObj(this.vLine),this.hideObj(this.hLine),this.hideObj(this.allBullets),this.destroyValueBalloons(),this.selectWithoutZooming||AmCharts.remove(this.selection),this.previousIndex=0/0,t&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this}),this.drawing||this.chart.setMouseCursor("auto"),this.normalizeBulletSize()},setPosition:function(t,e){if(void 0===e&&(e=!0),"cursor"==this.type){if(AmCharts.ifArray(this.data)){if(isNaN(t)&&(t=this.getMousePosition()),(t!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(t)){var i=this.chart.categoryAxis.xToIndex(t);(i!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(i,e),this.zoomed=!1)}this.previousMousePosition=t}}else this.updateCrosshair()},normalizeBulletSize:function(){var t=this.resizedBullets;if(t)for(var e=0;e<t.length;e++){var i=t[e],n=i.bulletGraphics;n&&n.translate(i.bx,i.by,1)}},updateCursor:function(t,e){var i=this.chart,n=i.mouseX-this.x,r=i.mouseY-this.y;if(this.drawingNow&&(AmCharts.remove(this.drawingLine),this.drawingLine=AmCharts.line(this.container,[this.x+this.drawStartX,this.x+n],[this.y+this.drawStartY,this.y+r],this.cursorColor,1,1)),this.enabled){void 0===e&&(e=!0),this.index=t;var a=i.categoryAxis,s=i.dx,o=i.dy,h=this.x,l=this.y,c=this.width,u=this.height,d=this.data[t];if(this.fireMoved(),d){var f=d.x[a.id],p=i.rotate,m=a.inside,g=this.stepWidth,v=this.categoryBalloon,y=this.firstTime,b=this.lastTime,C=this.cursorPosition,x=a.position,A=this.zooming,w=this.panning,S=i.graphs,T=a.axisThickness;if(i.mouseIsOver||A||w||this.forceShow)if(this.forceShow=!1,w){var s=this.panClickPos,i=this.panClickEndTime,A=this.panClickStartTime,N=this.panClickEnd,h=this.panClickStart,n=(p?s-r:s-n)/g;(!a.parseDates||a.equalSpacing)&&(n=Math.round(n)),0!==n&&(s={type:"zoomed",target:this},s.chart=this.chart,a.parseDates&&!a.equalSpacing?(i+n>b&&(n=b-i),y>A+n&&(n=y-A),s.start=A+n,s.end=i+n,this.fire(s.type,s)):N+n>=this.data.length||0>h+n||(s.start=h+n,s.end=N+n,this.fire(s.type,s)))}else{if("start"==C&&(f-=a.cellWidth/2),"mouse"==C&&i.mouseIsOver&&(f=p?r-2:n-2),p){if(0>f){if(!A)return this.hideCursor(),void 0;f=0}if(f>u+1){if(!A)return this.hideCursor(),void 0;f=u+1}}else{if(0>f){if(!A)return this.hideCursor(),void 0;f=0}if(f>c){if(!A)return this.hideCursor(),void 0;f=c}}if(0<this.cursorAlpha&&(y=this.line,p?(b=0,g=f+o):(b=f,g=0),C=this.animationDuration,C>0&&!this.zooming?isNaN(this.previousX)?y.translate(b,g):(y.translate(this.previousX,this.previousY),y.animate({translate:b+","+g},C,"easeOutSine")):y.translate(b,g),this.previousX=b,this.previousY=g,y.show()),this.linePos=p?f+o:f,A&&(p?this.updateSelectionSize(0/0,f):this.updateSelectionSize(f,0/0)),g=!0,A&&(g=!1),this.categoryBalloonEnabled&&g?(p?(m&&("right"==x?v.setBounds(h,l+o,h+c+s,l+f+o):v.setBounds(h,l+o,h+c+s,l+f)),"right"==x?m?v.setPosition(h+c+s,l+f+o):v.setPosition(h+c+s+T,l+f+o):m?v.setPosition(h,l+f):v.setPosition(h-T,l+f)):"top"==x?m?v.setPosition(h+f+s,l+o):v.setPosition(h+f+s,l+o-T+1):m?v.setPosition(h+f,l+u):v.setPosition(h+f,l+u+T-1),(y=this.categoryBalloonFunction)?v.showBalloon(y(d.category)):a.parseDates?(a=AmCharts.formatDate(d.category,this.categoryBalloonDateFormat),-1!=a.indexOf("fff")&&(a=AmCharts.formatMilliseconds(a,d.category)),v.showBalloon(a)):v.showBalloon(AmCharts.fixNewLines(d.category))):v.hide(),S&&this.bulletsEnabled&&this.showBullets(),this.oneBalloonOnly){for(o=1/0,b=0;b<S.length;b++)a=S[b],a.showBalloon&&!a.hidden&&a.balloonText&&(v=d.axes[a.valueAxis.id].graphs[a.id],y=v.y,isNaN(y)||(p?Math.abs(n-y)<o&&(o=Math.abs(n-y),N=a):Math.abs(r-y)<o&&(o=Math.abs(r-y),N=a)));this.mostCloseGraph&&(N=this.mostCloseGraph)}if((t!=this.previousIndex||N!=this.previousMostCloseGraph)&&(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],S&&this.valueBalloonsEnabled&&g&&i.balloon.enabled)){for(this.valueBalloons=o=[],b=0;b<S.length;b++)if(a=S[b],(!this.oneBalloonOnly||a==N)&&a.showBalloon&&!a.hidden&&a.balloonText){if(v=d.axes[a.valueAxis.id].graphs[a.id],y=v.y,this.showNextAvailable&&isNaN(y)&&t+1<this.data.length)for(f=t+1;f<this.data.length&&(!(m=this.data[f])||(v=m.axes[a.valueAxis.id].graphs[a.id],y=v.y,isNaN(y)));f++);isNaN(y)||(m=v.x,g=!0,p?(f=y,(0>m||m>u)&&(g=!1)):(f=m,m=y,(0>f||f>c+s+1)&&(g=!1)),g&&(1!=this.graphBulletSize&&AmCharts.isModern&&(g=v.bulletGraphics)&&(g.getBBox(),g.translate(v.bx,v.by,this.graphBulletSize),this.resizedBullets.push(v)),g=a.valueBalloon,x=i.getBalloonColor(a,v),g.setBounds(h,l,h+c,l+u),g.pointerOrientation="H",g.changeColor(x),void 0!==a.balloonAlpha&&(g.fillAlpha=a.balloonAlpha),void 0!==a.balloonTextColor&&(g.color=a.balloonTextColor),g.setPosition(f+h,m+l),f=i.formatString(a.balloonText,v,!0),(m=a.balloonFunction)&&(f=m(v,a).toString()),""!==f&&(p?g.showBalloon(f):(g.text=f,g.show=!0)),!p&&g.set&&g.set.hide(),o.push({yy:y,balloon:g})))}p||this.arrangeBalloons()}e?(s={type:"changed"},s.index=t,s.chart=this.chart,s.zooming=A,s.mostCloseGraph=N,s.position=p?r:n,s.target=this,i.fire("changed",s),this.fire("changed",s),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,i.updateLegendValues(t)),this.previousIndex=t,this.previousMostCloseGraph=N}}}else this.hideCursor()},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.rolledOver=!1,this.drawing=t},isZooming:function(t){t&&t!=this.zooming&&this.handleMouseDown("fake"),t||t==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var t={type:"changed",index:void 0,target:this};t.chart=this.chart,this.fire("changed",t),this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var t,e=this.chart,i=this.data;if(e){var n=e.mouseX-this.x,r=e.mouseY-this.y;if(this.drawingNow){this.drawingNow=!1,AmCharts.remove(this.drawingLine),t=this.drawStartX;var a=this.drawStartY;(2<Math.abs(t-n)||2<Math.abs(a-r))&&(t={type:"draw",target:this,chart:e,initialX:t,initialY:a,finalX:n,finalY:r},this.fire(t.type,t))}if(this.enabled&&0<i.length){if(this.pan)this.rolledOver=!1;else if(this.zoomable&&this.zooming){if(t=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"},t.target=this,t.chart=e,"cursor"==this.type)this.rotate?this.selectionPosY=r:this.selectionPosX=r=n,2>Math.abs(r-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(t.end=this.fromIndex,t.start=this.index):(t.end=this.index,t.start=this.fromIndex),r=e.categoryAxis,r.parseDates&&!r.equalSpacing&&(t.start=i[t.start].time,t.end=e.getEndTime(i[t.end].time)),this.skipZoomDispatch||this.fire(t.type,t));else{var s=this.initialMouseX,o=this.initialMouseY;3>Math.abs(n-s)&&3>Math.abs(r-o)||(i=Math.min(s,n),a=Math.min(o,r),n=Math.abs(s-n),r=Math.abs(o-r),e.hideXScrollbar&&(i=0,n=this.width),e.hideYScrollbar&&(a=0,r=this.height),t.selectionHeight=r,t.selectionWidth=n,t.selectionY=a,t.selectionX=i,this.skipZoomDispatch||this.fire(t.type,t))}this.selectWithoutZooming||AmCharts.remove(this.selection)}this.panning=this.zooming=this.skipZoomDispatch=!1}}},showCursorAt:function(t){var e=this.chart.categoryAxis;t=e.parseDates?e.dateToCoordinate(t):e.categoryToCoordinate(t),this.previousMousePosition=0/0,this.forceShow=!0,this.setPosition(t,!1)},handleMouseDown:function(t){if(this.zoomable||this.pan||this.drawing){var e=this.rotate,i=this.chart,n=i.mouseX-this.x,r=i.mouseY-this.y;(n>0&&n<this.width&&r>0&&r<this.height||"fake"==t)&&(this.setPosition(),this.selectWithoutZooming&&AmCharts.remove(this.selection),this.drawing?(this.drawStartY=r,this.drawStartX=n,this.drawingNow=!0):this.pan?(this.zoomable=!1,i.setMouseCursor("move"),this.panning=!0,this.panClickPos=e?r:n,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,e?(this.initialMouse=r,this.selectionPosY=this.linePos):(this.initialMouse=n,this.selectionPosX=this.linePos)):(this.initialMouseX=n,this.initialMouseY=r,this.selectionPosX=n,this.selectionPosY=r),this.zooming=!0))}}}),AmCharts.SimpleChartScrollbar=AmCharts.Class({construct:function(t){this.createEvents("zoomed"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconWidth=18,this.dragIconHeight=25,AmCharts.applyTheme(this,t,"SimpleChartScrollbar")},draw:function(){var t=this;t.destroy(),t.interval=setInterval(function(){t.updateScrollbar.call(t)},40);var e=t.chart.container,i=t.rotate,n=t.chart,r=e.set();t.set=r,n.scrollbarsSet.push(r);var a,s;if(i?(a=t.scrollbarHeight,s=n.plotAreaHeight):(s=t.scrollbarHeight,a=n.plotAreaWidth),t.width=a,(t.height=s)&&a){var o=AmCharts.rect(e,a,s,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha);t.bg=o,r.push(o),o=AmCharts.rect(e,a,s,"#000",.005),r.push(o),t.invisibleBg=o,o.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),o=AmCharts.rect(e,a,s,t.selectedBackgroundColor,t.selectedBackgroundAlpha),t.selectedBG=o,r.push(o),a=AmCharts.rect(e,a,s,"#000",.005),t.dragger=a,r.push(a),a.mousedown(function(e){t.handleDragStart(e)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(e){t.handleDragStart(e)}).touchend(function(){t.handleDragStop()}),a=n.pathToImages,i?(o=a+"dragIconH.gif",a=t.dragIconWidth,i=t.dragIconHeight):(o=a+"dragIcon.gif",i=t.dragIconWidth,a=t.dragIconHeight),s=e.image(o,0,0,i,a);var o=e.image(o,0,0,i,a),h=10,l=20;n.panEventsEnabled&&(h=25,l=t.scrollbarHeight);var c=AmCharts.rect(e,h,l,"#000",.005),u=AmCharts.rect(e,h,l,"#000",.005);u.translate(-(h-i)/2,-(l-a)/2),c.translate(-(h-i)/2,-(l-a)/2),i=e.set([s,u]),e=e.set([o,c]),t.iconLeft=i,t.iconRight=e,i.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),e.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),AmCharts.ifArray(n.chartData)?r.show():r.hide(),t.hideDragIcons(),t.clipDragger(!1)}r.translate(t.x,t.y)},updateScrollbarSize:function(t,e){var i,n,r,a,s=this.dragger;this.rotate?(i=0,n=t,r=this.width+1,a=e-t,s.setAttr("height",e-t),s.setAttr("y",n)):(i=t,n=0,r=e-t,a=this.height+1,s.setAttr("width",e-t),s.setAttr("x",i)),this.clipAndUpdate(i,n,r,a)},updateScrollbar:function(){var t,e,i,n=!1,r=this.x,a=this.y,s=this.dragger,o=this.getDBox();e=o.x+r,i=o.y+a;var h=o.width,o=o.height,l=this.rotate,c=this.chart,u=this.width,d=this.height,f=c.mouseX,p=c.mouseY;t=this.initialMouse,c.mouseIsOver&&(this.dragging&&(c=this.initialCoord,l?(t=c+(p-t),0>t&&(t=0),c=d-o,t>c&&(t=c),s.setAttr("y",t)):(t=c+(f-t),0>t&&(t=0),c=u-h,t>c&&(t=c),s.setAttr("x",t))),this.resizingRight&&(l?(t=p-i,t+i>d+a&&(t=d-i+a),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):(0===t&&(t=.1),s.setAttr("height",t))):(t=f-e,t+e>u+r&&(t=u-e+r),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):(0===t&&(t=.1),s.setAttr("width",t)))),this.resizingLeft&&(l?(e=i,i=p,a>i&&(i=a),i>d+a&&(i=d+a),t=!0===n?e-i:o+e-i,0>t?(this.resizingRight=!0,this.resizingLeft=!1,s.setAttr("y",e+o-a)):(0===t&&(t=.1),s.setAttr("y",i-a),s.setAttr("height",t))):(i=f,r>i&&(i=r),i>u+r&&(i=u+r),t=!0===n?e-i:h+e-i,0>t?(this.resizingRight=!0,this.resizingLeft=!1,s.setAttr("x",e+h-r)):(0===t&&(t=.1),s.setAttr("x",i-r),s.setAttr("width",t)))),this.clipDragger(!0))},clipDragger:function(t){var e=this.getDBox();if(e){var i=e.x,n=e.y,r=e.width,e=e.height,a=!1;this.rotate?(i=0,r=this.width+1,(this.clipY!=n||this.clipH!=e)&&(a=!0)):(n=0,e=this.height+1,(this.clipX!=i||this.clipW!=r)&&(a=!0)),a&&(this.clipAndUpdate(i,n,r,e),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))
}},maskGraphs:function(){},clipAndUpdate:function(t,e,i,n){this.clipX=t,this.clipY=e,this.clipW=i,this.clipH=n,this.selectedBG.clipRect(t,e,i,n),this.updateDragIconPositions(),this.maskGraphs(t,e,i,n)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=this.getDBox(),i=e.x,n=e.y,r=e.width,e=e.height;this.rotate?(i=n,r=this.height/e):r=this.width/r,t={type:"zoomed",position:i,chart:t,target:this,multiplier:r},this.fire(t.type,t)}},updateDragIconPositions:function(){var t,e,i=this.getDBox(),n=i.x,r=i.y,a=this.iconLeft,s=this.iconRight,o=this.scrollbarHeight;this.rotate?(t=this.dragIconWidth,e=this.dragIconHeight,a.translate(this.x+(o-e)/2,this.y+r-t/2),s.translate(this.x+(o-e)/2,this.y+r+i.height-t/2)):(t=this.dragIconHeight,e=this.dragIconWidth,a.translate(this.x+n-e/2,this.y+(o-t)/2),s.translate(this.x+n-e/2+i.width,this.y+(o-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(this.hideResizeGrips&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(t,e){this.dragger.stop(),this.multiplier=t,this.position=e,this.updateScrollbarSize(e,this.rotate?e+this.height/t:e+this.width/t)},destroy:function(){this.clear(),AmCharts.remove(this.set),AmCharts.remove(this.iconRight),AmCharts.remove(this.iconLeft)},clear:function(){clearInterval(this.interval)},handleDragStart:function(){var t=this.chart;this.dragger.stop(),this.removeCursors(),this.dragging=!0;var e=this.getDBox();this.rotate?(this.initialCoord=e.y,this.initialMouse=t.mouseY):(this.initialCoord=e.x,this.initialMouse=t.mouseX)},handleDragStop:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),this.updateScrollbar()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop(),this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},rightDragStart:function(){this.dragger.stop(),this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("n-resize"):this.chart.setMouseCursor("e-resize"),this.handleMouseOver()},getDBox:function(){return this.dragger?this.dragger.getBBox():void 0},handleBgClick:function(){if(!this.resizingRight&&!this.resizingLeft){this.zooming=!0;var t,e,i=this.scrollDuration,n=this.dragger;t=this.getDBox();var r=t.height,a=t.width;e=this.chart;var s=this.y,o=this.x,h=this.rotate;h?(t="y",e=e.mouseY-r/2-s,e=AmCharts.fitToBounds(e,0,this.height-r)):(t="x",e=e.mouseX-a/2-o,e=AmCharts.fitToBounds(e,0,this.width-a)),this.updateOnReleaseOnly?(this.skipEvent=!1,n.setAttr(t,e),this.dispatchScrollbarEvent(),this.clipDragger()):(e=Math.round(e),h?n.animate({y:e},i,">"):n.animate({x:e},i,">"))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.updateOnRelease(),this.removeCursors()),this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1,this.hideDragIcons(),this.updateScrollbar())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons()}}),AmCharts.ChartScrollbar=AmCharts.Class({inherits:AmCharts.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar",AmCharts.ChartScrollbar.base.construct.call(this,t),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,AmCharts.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,e=this.chart;if(t||(this.categoryAxis=t=new AmCharts.CategoryAxis),t.chart=e,t.id="scrollbar",t.dateFormats=e.categoryAxis.dateFormats,t.markPeriodChange=e.categoryAxis.markPeriodChange,t.boldPeriodBeginning=e.categoryAxis.boldPeriodBeginning,t.axisItemRenderer=AmCharts.RecItem,t.axisRenderer=AmCharts.RecAxis,t.guideFillRenderer=AmCharts.RecFill,t.inside=!0,t.fontSize=this.fontSize,t.tickLength=0,t.axisAlpha=0,AmCharts.isString(this.graph)&&(this.graph=AmCharts.getObjById(e.graphs,this.graph)),t=this.graph){var i=this.valueAxis;i||(this.valueAxis=i=new AmCharts.ValueAxis,i.visible=!1,i.scrollbar=!0,i.axisItemRenderer=AmCharts.RecItem,i.axisRenderer=AmCharts.RecAxis,i.guideFillRenderer=AmCharts.RecFill,i.labelsEnabled=!1,i.chart=e),e=this.unselectedGraph,e||(e=new AmCharts.AmGraph,e.scrollbar=!0,this.unselectedGraph=e,e.negativeBase=t.negativeBase,e.noStepRisers=t.noStepRisers),e=this.selectedGraph,e||(e=new AmCharts.AmGraph,e.scrollbar=!0,this.selectedGraph=e,e.negativeBase=t.negativeBase,e.noStepRisers=t.noStepRisers)}this.scrollbarCreated=!0},draw:function(){var t=this;AmCharts.ChartScrollbar.base.draw.call(t),t.scrollbarCreated||t.init();var e=t.chart,i=e.chartData,n=t.categoryAxis,r=t.rotate,a=t.x,s=t.y,o=t.width,h=t.height,l=e.categoryAxis,c=t.set;if(n.setOrientation(!r),n.parseDates=l.parseDates,n.rotate=r,n.equalSpacing=l.equalSpacing,n.minPeriod=l.minPeriod,n.startOnAxis=l.startOnAxis,n.viW=o,n.viH=h,n.width=o,n.height=h,n.gridCount=t.gridCount,n.gridColor=t.gridColor,n.gridAlpha=t.gridAlpha,n.color=t.color,n.tickLength=0,n.axisAlpha=0,n.autoGridCount=t.autoGridCount,n.parseDates&&!n.equalSpacing&&n.timeZoom(e.firstTime,e.lastTime),n.zoom(0,i.length-1),l=t.graph){var u=t.valueAxis,d=l.valueAxis;u.id=d.id,u.rotate=r,u.setOrientation(r),u.width=o,u.height=h,u.viW=o,u.viH=h,u.dataProvider=i,u.reversed=d.reversed,u.logarithmic=d.logarithmic,u.gridAlpha=0,u.axisAlpha=0,c.push(u.set),r?(u.y=s,u.x=0):(u.x=a,u.y=0);var f,a=1/0,s=-1/0;for(f=0;f<i.length;f++){var p,m=i[f].axes[d.id].graphs[l.id].values;for(p in m)if(m.hasOwnProperty(p)&&"percents"!=p&&"total"!=p){var g=m[p];a>g&&(a=g),g>s&&(s=g)}}1/0!=a&&(u.minimum=a),-1/0!=s&&(u.maximum=s+.1*(s-a)),a==s&&(u.minimum-=1,u.maximum+=1),void 0!==t.minimum&&(u.minimum=t.minimum),void 0!==t.maximum&&(u.maximum=t.maximum),u.zoom(0,i.length-1),p=t.unselectedGraph,p.id=l.id,p.rotate=r,p.chart=e,p.data=i,p.valueAxis=u,p.chart=l.chart,p.categoryAxis=t.categoryAxis,p.periodSpan=l.periodSpan,p.valueField=l.valueField,p.openField=l.openField,p.closeField=l.closeField,p.highField=l.highField,p.lowField=l.lowField,p.lineAlpha=t.graphLineAlpha,p.lineColorR=t.graphLineColor,p.fillAlphas=t.graphFillAlpha,p.fillColorsR=t.graphFillColor,p.connect=l.connect,p.hidden=l.hidden,p.width=o,p.height=h,d=t.selectedGraph,d.id=l.id,d.rotate=r,d.chart=e,d.data=i,d.valueAxis=u,d.chart=l.chart,d.categoryAxis=n,d.periodSpan=l.periodSpan,d.valueField=l.valueField,d.openField=l.openField,d.closeField=l.closeField,d.highField=l.highField,d.lowField=l.lowField,d.lineAlpha=t.selectedGraphLineAlpha,d.lineColorR=t.selectedGraphLineColor,d.fillAlphas=t.selectedGraphFillAlpha,d.fillColorsR=t.selectedGraphFillColor,d.connect=l.connect,d.hidden=l.hidden,d.width=o,d.height=h,e=t.graphType,e||(e=l.type),p.type=e,d.type=e,i=i.length-1,p.zoom(0,i),d.zoom(0,i),d.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),p.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),c.push(p.set),c.push(d.set)}c.push(n.set),c.push(n.labelsSet),t.bg.toBack(),t.invisibleBg.toFront(),t.dragger.toFront(),t.iconLeft.toFront(),t.iconRight.toFront()},timeZoom:function(t,e,i){this.startTime=t,this.endTime=e,this.timeDifference=e-t,this.skipEvent=!AmCharts.toBoolean(i),this.zoomScrollbar(),this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t,e,i=this.chart.chartData,n=this.dragger.getBBox();t=n.x,e=n.y;var r=n.width,a=n.height,n=this.chart;this.rotate?(t=e,e=a):e=r,r={type:"zoomed",target:this},r.chart=n;var a=this.categoryAxis,s=this.stepWidth;a.parseDates&&!a.equalSpacing?(i=n.firstTime,a.minDuration(),n=Math.round(t/s)+i,i=this.dragging?n+this.timeDifference:Math.round((t+e)/s)+i,n>i&&(n=i),(n!=this.startTime||i!=this.endTime)&&(this.startTime=n,this.endTime=i,r.start=n,r.end=i,r.startDate=new Date(n),r.endDate=new Date(i),this.fire(r.type,r))):(a.startOnAxis||(t+=s/2),e-=this.stepWidth/2,n=a.xToIndex(t),t=a.xToIndex(t+e),(n!=this.start||this.end!=t)&&(a.startOnAxis&&(this.resizingRight&&n==t&&t++,this.resizingLeft&&n==t&&(n>0?n--:t=1)),this.start=n,this.end=this.dragging?this.start+this.difference:t,r.start=this.start,r.end=this.end,a.parseDates&&(i[this.start]&&(r.startDate=new Date(i[this.start].time)),i[this.end]&&(r.endDate=new Date(i[this.end].time))),this.fire(r.type,r)))}},zoomScrollbar:function(){var t,e;t=this.chart;var i=t.chartData,n=this.categoryAxis;n.parseDates&&!n.equalSpacing?(i=n.stepWidth,n=t.firstTime,t=i*(this.startTime-n),e=i*(this.endTime-n)):(t=i[this.start].x[n.id],e=i[this.end].x[n.id],i=n.stepWidth,n.startOnAxis||(n=i/2,t-=n,e+=n)),this.stepWidth=i,this.updateScrollbarSize(t,e)},maskGraphs:function(t,e,i,n){var r=this.selectedGraph;r&&r.set.clipRect(t,e,i,n)},handleDragStart:function(){AmCharts.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){AmCharts.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}}),AmCharts.AmBalloon=AmCharts.Class({construct:function(t){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maximumWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!1,this.offsetY=6,this.offsetX=1,AmCharts.isModern||(this.offsetY*=1.5),AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,e=this.pointToY;this.deltaSignX=this.deltaSignY=1;var i=this.chart;if(AmCharts.VML&&(this.fadeOutDuration=0),this.xAnim&&i.stopAnim(this.xAnim),this.yAnim&&i.stopAnim(this.yAnim),!isNaN(t)){var n=this.follow,r=i.container,a=this.set;if(AmCharts.remove(a),this.removeDiv(),this.set=a=r.set(),i.balloonsSet.push(a),this.show){var s=this.l,o=this.t,h=this.r,l=this.b,c=this.balloonColor,u=this.fillColor,d=this.borderColor,f=u;void 0!=c&&(this.adjustBorderColor?f=d=c:u=c);var p=this.horizontalPadding,m=this.verticalPadding,g=this.pointerWidth,v=this.pointerOrientation,y=this.cornerRadius,b=i.fontFamily,C=this.fontSize;void 0==C&&(C=i.fontSize);var c=document.createElement("div"),x=c.style;x.position="absolute",c.innerHTML='<div style="max-width:'+this.maxWidth+"px; font-size:"+C+"px; color:"+this.color+"; font-family:"+b+'">'+this.text+"</div>",i.chartDiv.appendChild(c),this.textDiv=c,C=c.offsetWidth,b=c.offsetHeight,c.clientHeight&&(C=c.clientWidth,b=c.clientHeight);var b=b+2*m,A=C+2*p;window.opera&&(b+=2);var w,S=!1;w=this.offsetY,i.handDrawn&&(w+=i.handDrawScatter+2),"H"!=v?(C=t-A/2,o+b+10>e&&"down"!=v?(S=!0,n&&(e+=w),w=e+g,this.deltaSignY=-1):(n&&(e-=w),w=e-b-g,this.deltaSignY=1)):(2*g>b&&(g=b/2),w=e-b/2,s+(h-s)/2>t?(C=t+g,this.deltaSignX=-1):(C=t-A-g,this.deltaSignX=1)),w+b>=l&&(w=l-b),o>w&&(w=o),s>C&&(C=s),C+A>h&&(C=h-A);var T,o=w+m,l=C+p,m=this.shadowAlpha,N=this.shadowColor,p=this.borderThickness,E=this.bulletSize;y>0||0===g?(m>0&&(t=AmCharts.rect(r,A,b,u,0,p+1,N,m,this.cornerRadius),AmCharts.isModern?t.translate(1,1):t.translate(4,4),a.push(t)),u=AmCharts.rect(r,A,b,u,this.fillAlpha,p,d,this.borderAlpha,this.cornerRadius),this.showBullet&&(T=AmCharts.circle(r,E,f,this.fillAlpha),a.push(T))):(f=[],y=[],"H"!=v?(s=t-C,s>A-g&&(s=A-g),g>s&&(s=g),f=[0,s-g,t-C,s+g,A,A,0,0],y=S?[0,0,e-w,0,0,b,b,0]:[b,b,e-w,b,b,0,0,b]):(f=e-w,f>b-g&&(f=b-g),g>f&&(f=g),y=[0,f-g,e-w,f+g,b,b,0,0],f=s+(h-s)/2>t?[0,0,t>C?0:t-C,0,0,A,A,0]:[A,A,C+A>t?A:t-C,A,A,0,0,A]),m>0&&(t=AmCharts.polygon(r,f,y,u,0,p,N,m),t.translate(1,1),a.push(t)),u=AmCharts.polygon(r,f,y,u,this.fillAlpha,p,d,this.borderAlpha)),this.bg=u,a.push(u),u.toFront(),r=1*this.deltaSignX,x.left=l+"px",x.top=o+"px",a.translate(C-r,w),u=u.getBBox(),this.bottom=w+b+1,this.yPos=u.y+w,T&&T.translate(this.pointToX-C+r,e-w),e=this.animationDuration,0<this.animationDuration&&!n&&!isNaN(this.prevX)&&(a.translate(this.prevX,this.prevY),a.animate({translate:C-r+","+w},e,"easeOutSine"),c&&(x.left=this.prevTX+"px",x.top=this.prevTY+"px",this.xAnim=i.animate({node:c},"left",this.prevTX,l,e,"easeOutSine","px"),this.yAnim=i.animate({node:c},"top",this.prevTY,o,e,"easeOutSine","px"))),this.prevX=C-r,this.prevY=w,this.prevTX=l,this.prevTY=o}}},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX-this.offsetX*this.deltaSignX,e=this.chart.mouseY;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var n=i.getBBox(),t=t-n.width/2,r=e-n.height-10;t<this.l&&(t=this.l),t>this.r-n.width&&(t=this.r-n.width),r<this.t&&(r=e+10),i.translate(t,r),e=this.textDiv.style,e.left=t+this.horizontalPadding+"px",e.top=r+this.verticalPadding+"px"}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,i,n){this.l=t,this.t=e,this.r=i,this.b=n,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(t){this.text=t,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),t=this.chart,this.fadeAnim1&&t.stopAnim(this.fadeAnim1),this.fadeAnim2&&t.stopAnim(this.fadeAnim2),this.draw()},hide:function(){var t=this,e=t.fadeOutDuration,i=t.chart;if(e>0){t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*e),t.follow=!1,t.show=!1;var n=t.set;n&&(n.setAttr("opacity",t.fillAlpha),t.fadeAnim1=n.animate({opacity:0},e,"easeInSine")),t.textDiv&&(t.fadeAnim2=i.animate({node:t.textDiv},"opacity",1,0,e,"easeInSine",""))}else t.show=!1,t.follow=!1,t.destroy()},setPosition:function(t,e,i){this.pointToX=t,this.pointToY=e,i&&(t==this.previousX&&e==this.previousY||this.draw()),this.previousX=t,this.previousY=e},followCursor:function(t){var e=this;(e.follow=t)?(e.pShowBullet=e.showBullet,e.showBullet=!1):void 0!==e.pShowBullet&&(e.showBullet=e.pShowBullet),clearInterval(e.interval);var i=e.chart.mouseX,n=e.chart.mouseY;!isNaN(i)&&t&&(e.pointToX=i-e.offsetX*e.deltaSignX,e.pointToY=n,e.followMouse(),e.interval=setInterval(function(){e.followMouse.call(e)},40))},removeDiv:function(){if(this.textDiv){var t=this.textDiv.parentNode;t&&t.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),AmCharts.remove(this.set),this.removeDiv(),this.set=null}}),AmCharts.AmCoordinateChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(t){AmCharts.AmCoordinateChart.base.construct.call(this,t),this.theme=t,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.gridAboveGraphs=!1,AmCharts.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){AmCharts.AmCoordinateChart.base.initChart.call(this);var t=this.categoryAxis;t&&(this.categoryAxis=AmCharts.processObject(t,AmCharts.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),AmCharts.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var t=new AmCharts.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(){var t,e=this.graphs,i={},n=this.seriesIdField;n||(n=this.categoryField),this.chartData=[];var r=this.dataProvider;if(r){var a,s,o=!1,h=this.categoryAxis;h&&(o=h.parseDates,s=h.forceShowField,a=h.categoryFunction);var l,c;o&&(t=AmCharts.extractPeriod(h.minPeriod),l=t.period,c=t.count);var u={};this.lookupTable=u;var d,f=this.dataDateFormat;for(d=0;d<r.length;d++){var p={},m=r[d];t=m[this.categoryField],p.dataContext=m,p.category=a?a(t,m,h):String(t),s&&(p.forceShow=m[s]),u[m[n]]=p,o&&(t=h.categoryFunction?h.categoryFunction(t,m,h):t instanceof Date?"fff"==h.minPeriod?AmCharts.useUTC?new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()):new Date(t):f?AmCharts.stringToDate(t,f):new Date(t),t=AmCharts.resetDateToMin(t,l,c,h.firstDayOfWeek),p.category=t,p.time=t.getTime());var g=this.valueAxes;p.axes={},p.x={};var v;for(v=0;v<g.length;v++){var y=g[v].id;p.axes[y]={},p.axes[y].graphs={};var b;for(b=0;b<e.length;b++){t=e[b];var C=t.id,x=t.periodValue;if(t.valueAxis.id==y){p.axes[y].graphs[C]={};var A={};A.index=d;var w=m;t.dataProvider&&(w=i),A.values=this.processValues(w,t,x),this.processFields(t,A,w),A.category=p.category,A.serialDataItem=p,A.graph=t,p.axes[y].graphs[C]=A}}}this.chartData[d]=p}}for(i=0;i<e.length;i++)t=e[i],t.dataProvider&&this.parseGraphData(t)},processValues:function(t,e,i){var n,r={},a=!1;return"candlestick"!=e.type&&"ohlc"!=e.type||""===i||(a=!0),n=Number(t[e.valueField+i]),isNaN(n)||(r.value=n),n=Number(t[e.errorField+i]),isNaN(n)||(r.error=n),a&&(i="Open"),n=Number(t[e.openField+i]),isNaN(n)||(r.open=n),a&&(i="Close"),n=Number(t[e.closeField+i]),isNaN(n)||(r.close=n),a&&(i="Low"),n=Number(t[e.lowField+i]),isNaN(n)||(r.low=n),a&&(i="High"),n=Number(t[e.highField+i]),isNaN(n)||(r.high=n),r},parseGraphData:function(t){var e=t.dataProvider,i=t.seriesIdField;i||(i=this.seriesIdField),i||(i=this.categoryField);var n;for(n=0;n<e.length;n++){var r=e[n],a=this.lookupTable[String(r[i])],s=t.valueAxis.id;a&&(s=a.axes[s].graphs[t.id],s.serialDataItem=a,s.values=this.processValues(r,t,t.periodValue),this.processFields(t,s,r))}},addValueAxis:function(t){t.chart=this,this.valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;t>-1;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,i=this.graphs;for(e=i.length-1;e>=0;e--){var n=i[e];n&&n.valueAxis==t&&this.removeGraph(n)}for(i=this.valueAxes,e=i.length-1;e>=0;e--)i[e]==t&&i.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,i=this.graphs;for(e=i.length-1;e>=0;e--)i[e]==t&&(i.splice(e,1),t.destroy());this.validateData()},processValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.ValueAxis,this.theme);e[t]=i,i.chart=this,i.id||(i.id="valueAxisAuto"+t+"_"+(new Date).getTime()),(!0===this.usePrefixes||!1===this.usePrefixes)&&(i.usePrefixes=this.usePrefixes)}},processGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.AmGraph,this.theme);e[t]=i,this.chooseGraphColor(i,t),i.chart=this,AmCharts.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.id||(i.id="graphAuto"+t+"_"+(new Date).getTime())}},formatString:function(t,e,i){var n=e.graph,r=n.valueAxis;return r.duration&&e.values.value&&(r=AmCharts.formatDuration(e.values.value,r.duration,"",r.durationUnits,r.maxInterval,r.numberFormatter),t=t.split("[[value]]").join(r)),t=AmCharts.massReplace(t,{"[[title]]":n.title,"[[description]]":e.description}),t=i?AmCharts.fixNewLines(t):AmCharts.fixBrakes(t),t=AmCharts.cleanFromEmpty(t)},getBalloonColor:function(t,e,i){var n=t.lineColor,r=t.balloonColor;return i&&(r=n),i=t.fillColorsR,"object"==typeof i?n=i[0]:void 0!==i&&(n=i),e.isNegative&&(i=t.negativeLineColor,t=t.negativeFillColors,"object"==typeof t?i=t[0]:void 0!==t&&(i=t),void 0!==i&&(n=i)),void 0!==e.color&&(n=e.color),void 0===r&&(r=n),r},getGraphById:function(t){return AmCharts.getObjById(this.graphs,t)},getValueAxisById:function(t){return AmCharts.getObjById(this.valueAxes,t)},processFields:function(t,e,i){if(t.itemColors){var n=t.itemColors,r=e.index;e.color=r<n.length?n[r]:AmCharts.randomColor()}for(n="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern".split(" "),r=0;r<n.length;r++){var a=n[r],s=t[a+"Field"];s&&(s=i[s],AmCharts.isDefined(s)&&(e[a]=s))}e.dataContext=i},chooseGraphColor:function(t,e){if(t.lineColor)t.lineColorR=t.lineColor;else{var i;i=this.colors.length>e?this.colors[e]:AmCharts.randomColor(),t.lineColorR=i}t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR,t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor,t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR,(i=this.patterns)&&(t.pattern=i[e])},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem,!this.legend.data&&t){var i=t.hidden,n=t.showBalloon;switch(e){case"clickMarker":n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"clickLabel":n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":i||this.highlightGraph(t);break;case"rollOutItem":i||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e,i=this.graphs,n=.2;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(e=0;e<i.length;e++){var r=i[e];r!=t&&r.changeOpacity(n)}},unhighlightGraph:function(){var t;if(this.legend&&(t=this.legend.rollOverGraphAlpha),1!=t){t=this.graphs;var e;for(e=0;e<t.length;e++)t[e].changeOpacity(1)}},showGraph:function(t){t.hidden=!1,this.dataChanged=!0,this.marginsUpdated=!1,this.chartCreated&&this.initChart()},hideGraph:function(t){this.dataChanged=!0,this.marginsUpdated=!1,t.hidden=!0,this.chartCreated&&this.initChart()},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs;if(t){var e;for(e=0;e<t.length;e++)t[e].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}}),AmCharts.AmSlicedChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),AmCharts.AmSlicedChart.base.construct.call(this,t),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],AmCharts.applyTheme(this,t,"AmSlicedChart")},initChart:function(){AmCharts.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem,!this.legend.data&&t){var i=t.hidden;switch(e){case"clickMarker":i||this.clickSlice(t);break;case"clickLabel":i||this.clickSlice(t);break;case"rollOverItem":i||this.rollOverSlice(t,!1);break;case"rollOutItem":i||this.rollOutSlice(t);break;case"hideItem":this.hideSlice(t);break;case"showItem":this.showSlice(t)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var t=this.legend;t&&t.invalidateSize()},addEventListeners:function(t,e){var i=this;t.mouseover(function(t){i.rollOverSlice(e,!0,t)}).mouseout(function(t){i.rollOutSlice(e,t)}).touchend(function(t){i.rollOverSlice(e,t),i.panEventsEnabled&&i.clickSlice(e,t)}).touchstart(function(t){i.rollOverSlice(e,t)}).click(function(t){i.clickSlice(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)})},formatString:function(t,e,i){return t=AmCharts.formatValue(t,e,["value"],this.numberFormatter,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=AmCharts.formatValue(t,e,["percents"],this.percentFormatter),t=AmCharts.massReplace(t,{"[[title]]":e.title,"[[description]]":e.description}),-1!=t.indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),t=i?AmCharts.fixNewLines(t):AmCharts.fixBrakes(t),t=AmCharts.cleanFromEmpty(t)},startSlices:function(){var t;for(t=0;t<this.chartData.length;t++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(t):this.startSlice(this.chartData[t])},setStartTO:function(t){var e=this;t=setTimeout(function(){e.startSequenced.call(e)},e.startDuration/e.chartData.length*500*t),e.timeOuts.push(t)},pullSlices:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++){var n=i[e];n.pulled&&this.pullSlice(n,1,t)}},startSequenced:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(t){t.started=!0;var e=t.wedge,i=this.startDuration;e&&i>0&&(0<t.alpha&&e.show(),e.translate(t.startX,t.startY),e.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(0<i.alpha){var n=i.label;n&&n.show(),(i=i.tick)&&i.show()}}},showSlice:function(t){isNaN(t)?t.hidden=!1:this.chartData[t].hidden=!1,this.invalidateVisibility()},hideSlice:function(t){isNaN(t)?t.hidden=!0:this.chartData[t].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,e,i){isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt),this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var n=t.balloonX,r=t.balloonY;t.pulled&&(n+=t.pullX,r+=t.pullY);var a=this.formatString(this.balloonText,t,!0),s=AmCharts.adjustLuminosity(t.color,-.15);this.showBalloon(a,s,e,n,r),t={type:"rollOverSlice",dataItem:t,chart:this,event:i},this.fire(t.type,t)},rollOutSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.wedge&&t.wedge.attr({opacity:1}),this.hideBalloon();var i={type:"rollOutSlice",dataItem:t,chart:this,event:e};this.fire(i.type,i)},clickSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),AmCharts.getURL(t.url,this.urlTarget);var i={type:"clickSlice",dataItem:t,chart:this,event:e};this.fire(i.type,i)},handleRightClick:function(t,e){isNaN(t)||(t=this.chartData[t]);var i={type:"rightClickSlice",dataItem:t,chart:this,event:e};this.fire(i.type,i)},drawTicks:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(i.label){var n=i.ty,n=AmCharts.line(this.container,[i.tx0,i.tx,i.tx2],[i.ty0,n,n],this.labelTickColor,this.labelTickAlpha);i.tick=n,i.wedge.push(n)}}},initialStart:function(){var t=this,e=t.startDuration,i=setTimeout(function(){t.showLabels.call(t)},1e3*e);t.timeOuts.push(i),t.chartCreated?t.pullSlices(!0):(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e),t.startSlices())},pullSlice:function(t,e,i){var n=this.pullOutDuration;!0===i&&(n=0),(i=t.wedge)&&i.animate({translate:e*t.pullX+","+e*t.pullY},n,this.pullOutEffect),1==e?(t.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(t.index),t={type:"pullOutSlice",dataItem:t,chart:this}):(t.pulled=!1,t={type:"pullInSlice",dataItem:t,chart:this}),this.fire(t.type,t)},pullInAll:function(t){var e,i=this.chartData;for(e=0;e<this.chartData.length;e++)e!=t&&i[e].pulled&&this.pullSlice(i[e],0)},pullOutAll:function(t){t=this.chartData;var e;for(e=0;e<t.length;e++)t[e].pulled||this.pullSlice(t[e],1)},parseData:function(){var t=[];this.chartData=t;var e=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==e){var i,n,r,a=e.length,s=0;for(i=0;a>i;i++){n={};var o=e[i];n.dataContext=o,n.value=Number(o[this.valueField]),(r=o[this.titleField])||(r=""),n.title=r,n.pulled=AmCharts.toBoolean(o[this.pulledField],!1),(r=o[this.descriptionField])||(r=""),n.description=r,n.labelRadius=Number(o[this.labelRadiusField]),n.url=o[this.urlField],r=o[this.patternField],!r&&this.patterns&&(r=this.patterns[i]),n.pattern=r,n.visibleInLegend=AmCharts.toBoolean(o[this.visibleInLegendField],!0),r=o[this.alphaField],n.alpha=void 0!==r?Number(r):this.alpha,r=o[this.colorField],void 0!==r&&(n.color=AmCharts.toColor(r)),n.labelColor=AmCharts.toColor(o[this.labelColorField]),s+=n.value,n.hidden=!1,t[i]=n}for(i=e=0;a>i;i++)n=t[i],n.percents=n.value/s*100,n.percents<this.groupPercent&&e++;for(e>1&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/s*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern})),a=this.baseColor,a||(a=this.pieBaseColor),s=this.brightnessStep,s||(s=this.pieBrightnessStep),i=0;i<t.length;i++)a?r=AmCharts.adjustLuminosity(a,i*s/100):(r=this.colors[i],void 0===r&&(r=AmCharts.randomColor())),void 0===t[i].color&&(t[i].color=r);this.recalculatePercents()}},recalculatePercents:function(){var t,e,i=this.chartData,n=0;for(t=0;t<i.length;t++)e=i[t],!e.hidden&&0<e.value&&(n+=e.value);for(t=0;t<i.length;t++)e=this.chartData[t],e.percents=!e.hidden&&0<e.value?100*e.value/n:0},removeSmallSlices:function(){var t,e=this.chartData;for(t=e.length-1;t>=0;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var t=this;t.startSlices();var e=setTimeout(function(){t.pullSlices.call(t)},1200*t.startDuration);t.timeOuts.push(e)},measureMaxLabel:function(){var t,e=this.chartData,i=0;for(t=0;t<e.length;t++){var n=this.formatString(this.labelText,e[t]),n=AmCharts.text(this.container,n,this.color,this.fontFamily,this.fontSize),r=n.getBBox().width;r>i&&(i=r),n.remove()}return i}}),AmCharts.AmRectangularChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(t){AmCharts.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0,this.heightMultiplier=this.widthMultiplier=1,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.zoomOutButtonImageSize=17,this.zoomOutButtonImage="lens.png",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,AmCharts.applyTheme(this,t,"AmRectangularChart")},initChart:function(){AmCharts.AmRectangularChart.base.initChart.call(this),this.updateDxy();var t=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),t=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),t&&(this.scrollbarOnly||this.updateGraphs())
},drawChart:function(){if(AmCharts.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),AmCharts.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw(),t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton()}},resetMargins:function(){var t,e={};if("serial"==this.type){var i=this.valueAxes;for(t=0;t<i.length;t++){var n=i[t];n.ignoreAxisWidth||(n.setOrientation(this.rotate),n.fixAxisPosition(),e[n.position]=!0)}(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}else{for(n=this.xAxes,i=this.yAxes,t=0;t<n.length;t++){var r=n[t];r.ignoreAxisWidth||(r.setOrientation(!0),r.fixAxisPosition(),e[r.position]=!0)}for(t=0;t<i.length;t++)n=i[t],n.ignoreAxisWidth||(n.setOrientation(!1),n.fixAxisPosition(),e[n.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,i=this.autoMarginOffset,n=this.fixMargins,r=this.realWidth,a=this.realHeight,s=i,o=i,h=r-i;t=a-i;var l;for(l=0;l<e.length;l++)t=this.getAxisBounds(e[l],s,h,o,t),s=t.l,h=t.r,o=t.t,t=t.b;(e=this.categoryAxis)&&(t=this.getAxisBounds(e,s,h,o,t),s=t.l,h=t.r,o=t.t,t=t.b),n.left&&i>s&&(this.marginLeft=Math.round(-s+i)),n.right&&h>r-i&&(this.marginRight=Math.round(h-r+i)),n.top&&o<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-o+i+this.titleHeight)),n.bottom&&t>a-i&&(this.marginBottom=Math.round(t-a+i)),this.initChart()},getAxisBounds:function(t,e,i,n,r){if(!t.ignoreAxisWidth){var a=t.labelsSet,s=t.tickLength;if(t.inside&&(s=0),a)switch(a=t.getBBox(),t.position){case"top":t=a.y,n>t&&(n=t);break;case"bottom":t=a.y+a.height,t>r&&(r=t);break;case"right":t=a.x+a.width+s+3,t>i&&(i=t);break;case"left":t=a.x-s,e>t&&(e=t)}}return{l:e,t:n,r:i,b:r}},drawZoomOutButton:function(){var t=this,e=t.container.set();t.zoomButtonSet.push(e);var i=t.color,n=t.fontSize,r=t.zoomOutButtonImageSize,a=t.zoomOutButtonImage,s=t.zoomOutText,o=t.zoomOutButtonColor,h=t.zoomOutButtonAlpha,l=t.zoomOutButtonFontSize,c=t.zoomOutButtonPadding;isNaN(l)||(n=l),(l=t.zoomOutButtonFontColor)&&(i=l);var u,l=t.zoomOutButton;l&&(l.fontSize&&(n=l.fontSize),l.color&&(i=l.color),l.backgroundColor&&(o=l.backgroundColor),isNaN(l.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=l.backgroundAlpha));var d=l=0;for(void 0!==t.pathToImages&&a&&(u=t.container.image(t.pathToImages+a,0,0,r,r),e.push(u),u=u.getBBox(),l=u.width+5),void 0!==s&&(i=AmCharts.text(t.container,s,i,t.fontFamily,n,"start"),n=i.getBBox(),d=u?u.height/2-3:n.height/2,i.translate(l,d),e.push(i)),u=e.getBBox(),o=AmCharts.rect(t.container,u.width+2*c+5,u.height+2*c-2,o,1,1,o,1),o.setAttr("opacity",h),o.translate(-c,-c),e.push(o),o.toBack(),t.zbBG=o,u=o.getBBox(),e.translate(t.marginLeftReal+t.plotAreaWidth-u.width+c,t.marginTopReal+c),e.hide(),e.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB(),t.clickZB()}),h=0;h<e.length;h++)e[h].attr({cursor:"pointer"});t.zbSet=e},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0,this.zoom()},drawPlotArea:function(){var t=this.dx,e=this.dy,i=this.marginLeftReal,n=this.marginTopReal,r=this.plotAreaWidth-1,a=this.plotAreaHeight-1,s=this.plotAreaFillColors,o=this.plotAreaFillAlphas,h=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;this.trendLinesSet.clipRect(i,n,r,a),"object"==typeof o&&(o=o[0]),s=AmCharts.polygon(this.container,[0,r,r,0],[0,0,a,a],s,o,1,h,l,this.plotAreaGradientAngle),s.translate(i+t,n+e),s.node.setAttribute("class","amChartsPlotArea"),this.set.push(s),0!==t&&0!==e&&(s=this.plotAreaFillColors,"object"==typeof s&&(s=s[0]),s=AmCharts.adjustLuminosity(s,-.15),r=AmCharts.polygon(this.container,[0,t,r+t,r,0],[0,e,e,0,0],s,o,1,h,l),r.translate(i,n+a),this.set.push(r),t=AmCharts.polygon(this.container,[0,0,t,t,0],[0,a,a+e,e,0],s,o,1,h,l),t.translate(i,n),this.set.push(t)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e),t=t-this.marginLeftReal-this.marginRightReal-this.dx,e=e-this.marginTopReal-this.marginBottomReal,1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy+t,this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes,i=this.marginLeftReal,n=this.marginTopReal,r=this.plotAreaHeight,a=this.plotAreaWidth;for(t=0;t<e.length;t++){var s=e[t];s.axisRenderer=AmCharts.RecAxis,s.guideFillRenderer=AmCharts.RecFill,s.axisItemRenderer=AmCharts.RecItem,s.dx=this.dx,s.dy=this.dy,s.viW=a-1,s.viH=r-1,s.marginsChanged=!0,s.viX=i,s.viY=n,this.updateObjectSize(s)}},updateObjectSize:function(t){t.width=(this.plotAreaWidth-1)*this.widthMultiplier,t.height=(this.plotAreaHeight-1)*this.heightMultiplier,t.x=this.marginLeftReal+this.horizontalPosition,t.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.x=this.marginLeftReal+this.horizontalPosition,i.y=this.marginTopReal+this.verticalPosition,i.width=this.plotAreaWidth*this.widthMultiplier,i.height=this.plotAreaHeight*this.heightMultiplier,i.index=t,i.dx=this.dx,i.dy=this.dy,i.rotate=this.rotate}},updateChartCursor:function(){var t=this.chartCursor;t&&(t=AmCharts.processObject(t,AmCharts.ChartCursor,this.theme),this.addChartCursor(t),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=AmCharts.processObject(t,AmCharts.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},addChartCursor:function(t){AmCharts.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"changed",this.handleCursorChange),this.listenTo(t,"zoomed",this.handleCursorZoom)),this.chartCursor=t},removeChartCursor:function(){AmCharts.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal+this.horizontalPosition,i.y=this.marginTopReal+this.verticalPosition,i.draw())}},addTrendLine:function(t){this.trendLines.push(t)},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;e>=0;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.scrollbarHeight;"top"==t.position?e?this.marginLeftReal+=i:this.marginTopReal+=i:e?this.marginRightReal+=i:this.marginBottomReal+=i},getScrollbarPosition:function(t,e,i){t.position=e?"bottom"==i||"left"==i?"bottom":"top":"top"==i||"right"==i?"bottom":"top"},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,n=this.marginLeftReal,r=t.scrollbarHeight,a=this.dx,s=this.dy;"top"==t.position?e?(t.y=i,t.x=n-r):(t.y=i-r+s-1,t.x=n+a):e?(t.y=i+s,t.x=n+this.plotAreaWidth+a):(t.y=i+this.plotAreaHeight,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;e&&(t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(t){AmCharts.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside()},handleMouseDown:function(t){AmCharts.AmRectangularChart.base.handleMouseDown.call(this,t);var e=this.chartCursor;e&&e.handleMouseDown(t)},handleCursorChange:function(){}}),AmCharts.TrendLine=AmCharts.Class({construct:function(t){this.cname="TrendLine",this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var e,i,n,r,a=t.chart,s=a.container,o=t.categoryAxis,h=t.initialDate,l=t.initialCategory,c=t.finalDate,u=t.finalCategory,d=t.valueAxis,f=t.valueAxisX,p=t.initialXValue,m=t.finalXValue,g=t.initialValue,v=t.finalValue,y=d.recalculateToPercents,b=a.dataDateFormat;o&&(h&&(h instanceof Date||(h=b?AmCharts.stringToDate(h,b):new Date(h)),t.initialDate=h,e=o.dateToCoordinate(h)),l&&(e=o.categoryToCoordinate(l)),c&&(c instanceof Date||(c=b?AmCharts.stringToDate(c,b):new Date(c)),t.finalDate=c,i=o.dateToCoordinate(c)),u&&(i=o.categoryToCoordinate(u))),f&&!y&&(isNaN(p)||(e=f.getCoordinate(p)),isNaN(m)||(i=f.getCoordinate(m))),d&&!y&&(isNaN(g)||(n=d.getCoordinate(g)),isNaN(v)||(r=d.getCoordinate(v))),isNaN(e)||isNaN(i)||isNaN(n)||isNaN(n)||(a.rotate?(o=[n,r],i=[e,i]):(o=[e,i],i=[n,r]),n=t.lineColor,e=AmCharts.line(s,o,i,n,t.lineAlpha,t.lineThickness,t.dashLength),r=o,h=i,u=o[1]-o[0],d=i[1]-i[0],0===u&&(u=.01),0===d&&(d=.01),l=u/Math.abs(u),c=d/Math.abs(d),d=u*d/Math.abs(u*d)*Math.sqrt(Math.pow(u,2)+Math.pow(d,2)),u=Math.asin(u/d),d=90*Math.PI/180-u,u=Math.abs(5*Math.cos(d)),d=Math.abs(5*Math.sin(d)),r.push(o[1]-l*d,o[0]-l*d),h.push(i[1]+c*u,i[0]+c*u),o=AmCharts.polygon(s,r,h,n,.005,0),s=s.set([o,e]),s.translate(a.marginLeftReal,a.marginTopReal),a.trendLinesSet.push(s),t.line=e,t.set=s,o.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),o.touchend&&o.touchend(function(){t.handleLineClick()}))},handleLineClick:function(){var t={type:"click",trendLine:this,chart:this.chart};this.fire(t.type,t)},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){AmCharts.remove(this.set)}}),AmCharts.circle=function(t,e,i,n,r,a,s,o){return(void 0==r||0===r)&&(r=.01),void 0===a&&(a="#000000"),void 0===s&&(s=0),n={fill:i,stroke:a,"fill-opacity":n,"stroke-width":r,"stroke-opacity":s},t=t.circle(0,0,e).attr(n),o&&t.gradient("radialGradient",[i,AmCharts.adjustLuminosity(i,-.6)]),t},AmCharts.text=function(t,e,i,n,r,a,s,o){return a||(a="middle"),"right"==a&&(a="end"),isNaN(o)&&(o=1),void 0!==e&&(e=String(e),AmCharts.isIE&&!AmCharts.isModern&&(e=e.replace("&amp;","&"),e=e.replace("&","&amp;"))),i={fill:i,"font-family":n,"font-size":r,opacity:o},!0===s&&(i["font-weight"]="bold"),i["text-anchor"]=a,t.text(e,i)},AmCharts.polygon=function(t,e,i,n,r,a,s,o,h,l,c){isNaN(a)&&(a=.01),isNaN(o)&&(o=r);var u=n,d=!1;for("object"==typeof u&&1<u.length&&(d=!0,u=u[0]),void 0===s&&(s=u),r={fill:u,stroke:s,"fill-opacity":r,"stroke-width":a,"stroke-opacity":o},void 0!==c&&c>0&&(r["stroke-dasharray"]=c),c=AmCharts.dx,a=AmCharts.dy,t.handDrawn&&(i=AmCharts.makeHD(e,i,t.handDrawScatter),e=i[0],i=i[1]),s=Math.round,l&&(s=AmCharts.doNothing),l="M"+(s(e[0])+c)+","+(s(i[0])+a),o=1;o<e.length;o++)l+=" L"+(s(e[o])+c)+","+(s(i[o])+a);return t=t.path(l+" Z").attr(r),d&&t.gradient("linearGradient",n,h),t},AmCharts.rect=function(t,e,i,n,r,a,s,o,h,l,c){isNaN(a)&&(a=0),void 0===h&&(h=0),void 0===l&&(l=270),isNaN(r)&&(r=0);var u=n,d=!1;"object"==typeof u&&(u=u[0],d=!0),void 0===s&&(s=u),void 0===o&&(o=r),e=Math.round(e),i=Math.round(i);var f=0,p=0;return 0>e&&(e=Math.abs(e),f=-e),0>i&&(i=Math.abs(i),p=-i),f+=AmCharts.dx,p+=AmCharts.dy,r={fill:u,stroke:s,"fill-opacity":r,"stroke-opacity":o},void 0!==c&&c>0&&(r["stroke-dasharray"]=c),t=t.rect(f,p,e,i,h,a).attr(r),d&&t.gradient("linearGradient",n,l),t},AmCharts.bullet=function(t,e,i,n,r,a,s,o,h,l,c){var u;switch("circle"==e&&(e="round"),e){case"round":u=AmCharts.circle(t,i/2,n,r,a,s,o);break;case"square":u=AmCharts.polygon(t,[-i/2,i/2,i/2,-i/2],[i/2,i/2,-i/2,-i/2],n,r,a,s,o,l-180);break;case"rectangle":u=AmCharts.polygon(t,[-i,i,i,-i],[i/2,i/2,-i/2,-i/2],n,r,a,s,o,l-180);break;case"diamond":u=AmCharts.polygon(t,[-i/2,0,i/2,0],[0,-i/2,0,i/2],n,r,a,s,o);break;case"triangleUp":u=AmCharts.triangle(t,i,0,n,r,a,s,o);break;case"triangleDown":u=AmCharts.triangle(t,i,180,n,r,a,s,o);break;case"triangleLeft":u=AmCharts.triangle(t,i,270,n,r,a,s,o);break;case"triangleRight":u=AmCharts.triangle(t,i,90,n,r,a,s,o);break;case"bubble":u=AmCharts.circle(t,i/2,n,r,a,s,o,!0);break;case"yError":u=t.set(),u.push(AmCharts.line(t,[0,0],[-i/2,i/2],n,r,a)),u.push(AmCharts.line(t,[-h,h],[-i/2,-i/2],n,r,a)),u.push(AmCharts.line(t,[-h,h],[i/2,i/2],n,r,a));break;case"xError":u=t.set(),u.push(AmCharts.line(t,[-i/2,i/2],[0,0],n,r,a)),u.push(AmCharts.line(t,[-i/2,-i/2],[-h,h],n,r,a)),u.push(AmCharts.line(t,[i/2,i/2],[-h,h],n,r,a))}return u&&u.pattern(c),u},AmCharts.triangle=function(t,e,i,n,r,a,s,o){(void 0===a||0===a)&&(a=1),void 0===s&&(s="#000"),void 0===o&&(o=0),n={fill:n,stroke:s,"fill-opacity":r,"stroke-width":a,"stroke-opacity":o},e/=2;var h;return 0===i&&(h=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==i&&(h=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==i&&(h=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==i&&(h=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(h).attr(n)},AmCharts.line=function(t,e,i,n,r,a,s,o,h,l,c){if(t.handDrawn&&!c)return AmCharts.handDrawnLine(t,e,i,n,r,a,s,o,h,l,c);for(a={fill:"none","stroke-width":a},void 0!==s&&s>0&&(a["stroke-dasharray"]=s),isNaN(r)||(a["stroke-opacity"]=r),n&&(a.stroke=n),n=Math.round,l&&(n=AmCharts.doNothing),l=AmCharts.dx,r=AmCharts.dy,s="M"+(n(e[0])+l)+","+(n(i[0])+r),o=1;o<e.length;o++)s+=" L"+(n(e[o])+l)+","+(n(i[o])+r);return AmCharts.VML?t.path(s,void 0,!0).attr(a):(h&&(s+=" M0,0 L0,0"),t.path(s).attr(a))},AmCharts.makeHD=function(t,e,i){for(var n=[],r=[],a=1;a<t.length;a++)for(var s=Number(t[a-1]),o=Number(e[a-1]),h=Number(t[a]),l=Number(e[a]),c=Math.sqrt(Math.pow(h-s,2)+Math.pow(l-o,2)),c=Math.round(c/50)+1,h=(h-s)/c,l=(l-o)/c,u=0;c>=u;u++){var d=s+u*h+Math.random()*i,f=o+u*l+Math.random()*i;n.push(d),r.push(f)}return[n,r]},AmCharts.handDrawnLine=function(t,e,i,n,r,a,s,o,h,l,c){var u=t.set();for(c=1;c<e.length;c++)for(var d=[e[c-1],e[c]],f=[i[c-1],i[c]],f=AmCharts.makeHD(d,f,t.handDrawScatter),d=f[0],f=f[1],p=1;p<d.length;p++)u.push(AmCharts.line(t,[d[p-1],d[p]],[f[p-1],f[p]],n,r,a+Math.random()*t.handDrawThickness-t.handDrawThickness/2,s,o,h,l,!0));return u},AmCharts.doNothing=function(t){return t},AmCharts.wedge=function(t,e,i,n,r,a,s,o,h,l,c,u){var d=Math.round;a=d(a),s=d(s),o=d(o);var f=d(s/a*o),p=AmCharts.VML,m=359.5+a/100;m>359.94&&(m=359.94),r>=m&&(r=m);var g=1/180*Math.PI,m=e+Math.sin(n*g)*o,v=i-Math.cos(n*g)*f,y=e+Math.sin(n*g)*a,b=i-Math.cos(n*g)*s,C=e+Math.sin((n+r)*g)*a,x=i-Math.cos((n+r)*g)*s,A=e+Math.sin((n+r)*g)*o,g=i-Math.cos((n+r)*g)*f,w={fill:AmCharts.adjustLuminosity(l.fill,-.2),"stroke-opacity":0,"fill-opacity":l["fill-opacity"]},S=0;180<Math.abs(r)&&(S=1),n=t.set();var T;p&&(m=d(10*m),y=d(10*y),C=d(10*C),A=d(10*A),v=d(10*v),b=d(10*b),x=d(10*x),g=d(10*g),e=d(10*e),h=d(10*h),i=d(10*i),a*=10,s*=10,o*=10,f*=10,1>Math.abs(r)&&1>=Math.abs(C-y)&&1>=Math.abs(x-b)&&(T=!0)),r="";var N;if(u&&(w["fill-opacity"]=0,w["stroke-opacity"]=l["stroke-opacity"]/2,w.stroke=l.stroke),h>0&&(p?(N=" M"+m+","+(v+h)+" L"+y+","+(b+h),T||(N+=" A"+(e-a)+","+(h+i-s)+","+(e+a)+","+(h+i+s)+","+y+","+(b+h)+","+C+","+(x+h)),N+=" L"+A+","+(g+h),o>0&&(T||(N+=" B"+(e-o)+","+(h+i-f)+","+(e+o)+","+(h+i+f)+","+A+","+(h+g)+","+m+","+(h+v)))):(N=" M"+m+","+(v+h)+" L"+y+","+(b+h)+(" A"+a+","+s+",0,"+S+",1,"+C+","+(x+h)+" L"+A+","+(g+h)),o>0&&(N+=" A"+o+","+f+",0,"+S+",0,"+m+","+(v+h))),N+=" Z",N=t.path(N,void 0,void 0,"1000,1000").attr(w),n.push(N),N=t.path(" M"+m+","+v+" L"+m+","+(v+h)+" L"+y+","+(b+h)+" L"+y+","+b+" L"+m+","+v+" Z",void 0,void 0,"1000,1000").attr(w),h=t.path(" M"+C+","+x+" L"+C+","+(x+h)+" L"+A+","+(g+h)+" L"+A+","+g+" L"+C+","+x+" Z",void 0,void 0,"1000,1000").attr(w),n.push(N),n.push(h)),p?(T||(r=" A"+d(e-a)+","+d(i-s)+","+d(e+a)+","+d(i+s)+","+d(y)+","+d(b)+","+d(C)+","+d(x)),a=" M"+d(m)+","+d(v)+" L"+d(y)+","+d(b)+r+" L"+d(A)+","+d(g)):a=" M"+m+","+v+" L"+y+","+b+(" A"+a+","+s+",0,"+S+",1,"+C+","+x)+" L"+A+","+g,o>0&&(p?T||(a+=" B"+(e-o)+","+(i-f)+","+(e+o)+","+(i+f)+","+A+","+g+","+m+","+v):a+=" A"+o+","+f+",0,"+S+",0,"+m+","+v),t.handDrawn&&(e=AmCharts.line(t,[m,y],[v,b],l.stroke,l.thickness*Math.random()*t.handDrawThickness,l["stroke-opacity"]),n.push(e)),t=t.path(a+" Z",void 0,void 0,"1000,1000").attr(l),c){for(e=[],i=0;i<c.length;i++)e.push(AmCharts.adjustLuminosity(l.fill,c[i]));0<e.length&&t.gradient("linearGradient",e)}return t.pattern(u),n.push(t),n},AmCharts.adjustLuminosity=function(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),6>t.length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2])),e=e||0;var i,n,r="#";for(n=0;3>n;n++)i=parseInt(t.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16),r+=("00"+i).substr(i.length);return r},AmCharts.Bezier=AmCharts.Class({construct:function(t,e,i,n,r,a,s,o,h,l){for("object"==typeof s&&(s=s[0]),"object"==typeof o&&(o=o[0]),a={fill:s,"fill-opacity":o,"stroke-width":a},void 0!==h&&h>0&&(a["stroke-dasharray"]=h),isNaN(r)||(a["stroke-opacity"]=r),n&&(a.stroke=n),n="M"+Math.round(e[0])+","+Math.round(i[0]),r=[],h=0;h<e.length;h++)r.push({x:Number(e[h]),y:Number(i[h])});1<r.length&&(e=this.interpolate(r),n+=this.drawBeziers(e)),l?n+=l:AmCharts.VML||(n+="M0,0 L0,0"),this.path=t.path(n).attr(a)},interpolate:function(t){var e=[];e.push({x:t[0].x,y:t[0].y});var i=t[1].x-t[0].x,n=t[1].y-t[0].y,r=AmCharts.bezierX,a=AmCharts.bezierY;e.push({x:t[0].x+i/r,y:t[0].y+n/a});var s;for(s=1;s<t.length-1;s++){var o=t[s-1],h=t[s],n=t[s+1];isNaN(n.x)&&(n=h),isNaN(h.x)&&(h=o),isNaN(o.x)&&(o=h),i=n.x-h.x,n=n.y-o.y,o=h.x-o.x,o>i&&(o=i),e.push({x:h.x-o/r,y:h.y-n/a}),e.push({x:h.x,y:h.y}),e.push({x:h.x+o/r,y:h.y+n/a})}return n=t[t.length-1].y-t[t.length-2].y,i=t[t.length-1].x-t[t.length-2].x,e.push({x:t[t.length-1].x-i/r,y:t[t.length-1].y-n/a}),e.push({x:t[t.length-1].x,y:t[t.length-1].y}),e},drawBeziers:function(t){var e,i="";for(e=0;e<(t.length-1)/3;e++)i+=this.drawBezierMidpoint(t[3*e],t[3*e+1],t[3*e+2],t[3*e+3]);return i},drawBezierMidpoint:function(t,e,i,n){var r=Math.round,a=this.getPointOnSegment(t,e,.75),s=this.getPointOnSegment(n,i,.75),o=(n.x-t.x)/16,h=(n.y-t.y)/16,l=this.getPointOnSegment(t,e,.375);return t=this.getPointOnSegment(a,s,.375),t.x-=o,t.y-=h,e=this.getPointOnSegment(s,a,.375),e.x+=o,e.y+=h,i=this.getPointOnSegment(n,i,.375),o=this.getMiddle(l,t),a=this.getMiddle(a,s),s=this.getMiddle(e,i),l=" Q"+r(l.x)+","+r(l.y)+","+r(o.x)+","+r(o.y),l+=" Q"+r(t.x)+","+r(t.y)+","+r(a.x)+","+r(a.y),l+=" Q"+r(e.x)+","+r(e.y)+","+r(s.x)+","+r(s.y),l+=" Q"+r(i.x)+","+r(i.y)+","+r(n.x)+","+r(n.y)},getMiddle:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},getPointOnSegment:function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}}),AmCharts.AmDraw=AmCharts.Class({construct:function(t,e,i,n){AmCharts.SVG_NS="http://www.w3.org/2000/svg",AmCharts.SVG_XLINK="http://www.w3.org/1999/xlink",AmCharts.hasSVG=!!document.createElementNS&&!!document.createElementNS(AmCharts.SVG_NS,"svg").createSVGRect,1>e&&(e=10),1>i&&(i=10),this.div=t,this.width=e,this.height=i,this.rBin=document.createElement("div"),AmCharts.hasSVG?(AmCharts.SVG=!0,n=this.createSvgElement("svg"),n.style.position="absolute",n.style.width=e+"px",n.style.height=i+"px",AmCharts.rtl&&(n.setAttribute("direction","rtl"),n.style.left="auto",n.style.right="0px"),n.setAttribute("version","1.1"),t.appendChild(n),this.container=n,this.R=new AmCharts.SVGRenderer(this)):AmCharts.isIE&&AmCharts.VMLRenderer&&(AmCharts.VML=!0,AmCharts.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),e=document.createStyleSheet(),e.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),AmCharts.vmlStyleSheet=e),this.container=t,this.R=new AmCharts.VMLRenderer(this,n),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(AmCharts.SVG_NS,t)},circle:function(t,e,i,n){var r=new AmCharts.AmDObject("circle",this);return r.attr({r:i,cx:t,cy:e}),this.addToContainer(r.node,n),r},setSize:function(t,e){t>0&&e>0&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(t,e,i,n,r,a,s){var o=new AmCharts.AmDObject("rect",this);return AmCharts.VML&&(r=100*r/Math.min(i,n),i+=2*a,n+=2*a,o.bw=a,o.node.style.marginLeft=-a,o.node.style.marginTop=-a),1>i&&(i=1),1>n&&(n=1),o.attr({x:t,y:e,width:i,height:n,rx:r,ry:r,"stroke-width":a}),this.addToContainer(o.node,s),o},image:function(t,e,i,n,r,a){var s=new AmCharts.AmDObject("image",this);return s.attr({x:e,y:i,width:n,height:r}),this.R.path(s,t),this.addToContainer(s.node,a),s},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,i){return this.R.text(t,e,i)},path:function(t,e,i,n){var r=new AmCharts.AmDObject("path",this);return n||(n="100,100"),r.attr({cs:n}),i?r.attr({dd:t}):r.attr({d:t}),this.addToContainer(r.node,e),r},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},renderFix:function(){var t,e=this.container,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}e=1-t.e%1,t=1-t.f%1,e>.5&&(e-=1),t>.5&&(t-=1),e&&(i.left=e+"px"),t&&(i.top=t+"px")},update:function(){this.R.update()}}),AmCharts.AmDObject=AmCharts.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,i,n){this.R.clipRect(this,t,e,i,n)},translate:function(t,e,i,n){n||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,i),this.x=t,this.y=e,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(t,e){this.R.rotate(this,t,e),this.angle=t},animate:function(t,e,i){for(var n in t)if(t.hasOwnProperty(n)){var r=n,a=t[n];i=AmCharts.getEffect(i),this.R.animate(this,r,a,e,i)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var i=t.clipPath;i&&e.appendChild(i),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;e&&e.appendChild(t)}},toPrevious:function(){var t=this.node;t&&this.prevNextNode&&(t=t.parentNode)&&t.insertBefore(this.prevNextNode,null)},toBack:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;if(e){var i=e.firstChild;i&&e.insertBefore(t,i)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t,!0):this.R.addListener(this,"contextmenu",t),this},stop:function(t){(t=this.animationX)&&AmCharts.removeFromArray(this.R.animations,t),(t=this.animationY)&&AmCharts.removeFromArray(this.R.animations,t)},length:function(){return this.node.childNodes.length},gradient:function(t,e,i){this.R.gradient(this,t,e,i)},pattern:function(t,e){t&&this.R.pattern(this,t,e)}}),AmCharts.VMLRenderer=AmCharts.Class({construct:function(t,e){this.chart=e,this.D=t,this.cNames={circle:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(t,e){var i;if("group"==e)i=document.createElement("div"),t.type="div";else if("text"==e)i=document.createElement("div"),t.type="text";else if("image"==e)i=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],i=document.createElement("amvml:"+this.cNames[e]);var n=document.createElement("amvml:stroke");i.appendChild(n),t.stroke=n;var r=document.createElement("amvml:fill");i.appendChild(r),t.fill=r,r.className="amvml",n.className="amvml",i.className="amvml"}return i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(t,e,i){if(void 0!==i){var n;8===document.documentMode&&(n=!0);var r=t.node,a=t.type,s=r.style;"r"==e&&(s.width=2*i,s.height=2*i),"roundrect"!=t.shapeType||"width"!=e&&"height"!=e||(i-=1),"cursor"==e&&(s.cursor=i),"cx"==e&&(s.left=i-AmCharts.removePx(s.width)/2),"cy"==e&&(s.top=i-AmCharts.removePx(s.height)/2);var o=this.styleMap[e];if(void 0!==o&&(s[o]=i),"text"==a&&("text-anchor"==e&&(t.anchor=i,o=r.clientWidth,"end"==i&&(s.marginLeft=-o+"px"),"middle"==i&&(s.marginLeft=-(o/2)+"px",s.textAlign="center"),"start"==i&&(s.marginLeft="0px")),"fill"==e&&(s.color=i),"font-weight"==e&&(s.fontWeight=i)),s=t.children)for(o=0;o<s.length;o++)s[o].setAttr(e,i);"shape"==a&&("cs"==e&&(r.style.width="100px",r.style.height="100px",r.setAttribute("coordsize",i)),"d"==e&&r.setAttribute("path",this.svgPathToVml(i)),"dd"==e&&r.setAttribute("path",i),a=t.stroke,t=t.fill,"stroke"==e&&(n?a.color=i:a.setAttribute("color",i)),"stroke-width"==e&&(n?a.weight=i:a.setAttribute("weight",i)),"stroke-opacity"==e&&(n?a.opacity=i:a.setAttribute("opacity",i)),"stroke-dasharray"==e&&(s="solid",i>0&&3>i&&(s="dot"),i>=3&&6>=i&&(s="dash"),i>6&&(s="longdash"),n?a.dashstyle=s:a.setAttribute("dashstyle",s)),("fill-opacity"==e||"opacity"==e)&&(0===i?n?t.on=!1:t.setAttribute("on",!1):n?t.opacity=i:t.setAttribute("opacity",i)),"fill"==e&&(n?t.color=i:t.setAttribute("color",i)),"rx"==e&&(n?r.arcSize=i+"%":r.setAttribute("arcsize",i+"%")))}},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},text:function(t,e,i){var n=new AmCharts.AmDObject("text",this.D),r=n.node;return r.style.whiteSpace="pre",r.innerHTML=t,this.D.addToContainer(r,i),this.attr(n,e),n},getBBox:function(t){return this.getBox(t.node)},getBox:function(t){var e,i=t.offsetLeft,n=t.offsetTop,r=t.offsetWidth,a=t.offsetHeight;if(t.hasChildNodes()){var s,o,h;for(h=0;h<t.childNodes.length;h++){e=this.getBox(t.childNodes[h]);var l=e.x;isNaN(l)||(isNaN(s)?s=l:s>l&&(s=l));var c=e.y;isNaN(c)||(isNaN(o)?o=c:o>c&&(o=c)),l=e.width+l,isNaN(l)||(r=Math.max(r,l)),e=e.height+c,isNaN(e)||(a=Math.max(a,e))}0>s&&(i+=s),0>o&&(n+=o)}return{x:i,y:n,width:r,height:a}},setText:function(t,e){var i=t.node;i&&(i.innerHTML=e),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,i){t.node["on"+e]=i},move:function(t,e,i){var n=t.node,r=n.style;"text"==t.type&&(i-=AmCharts.removePx(r.fontSize)/2-1),"oval"==t.shapeType&&(e-=AmCharts.removePx(r.width)/2,i-=AmCharts.removePx(r.height)/2),t=t.bw,isNaN(t)||(e-=t,i-=t),isNaN(e)||isNaN(i)||(n.style.left=e+"px",n.style.top=i+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var i,n,r=Math.round;for(n=0;n<e.length;n++){var a=e[n],s=a.substring(0,1),a=a.substring(1),o=a.split(","),h=r(o[0])+","+r(o[1]);if("M"==s&&(t+=" m "+h),"L"==s&&(t+=" l "+h),"Z"==s&&(t+=" x e"),"Q"==s){var l=i.length,c=i[l-1],u=o[0],d=o[1],h=o[2],f=o[3];i=r(i[l-2]/3+2/3*u),c=r(c/3+2/3*d),u=r(2/3*u+h/3),d=r(2/3*d+f/3),t+=" c "+i+","+c+","+u+","+d+","+h+","+f}"A"==s&&(t+=" wa "+a),"B"==s&&(t+=" at "+a),i=o}return t},animate:function(t,e,i,n,r){var a=t.node,s=this.chart;if("translate"==e){e=i.split(","),i=e[1];var o=a.offsetTop;s.animate(t,"left",a.offsetLeft,e[0],n,r,"px"),s.animate(t,"top",o,i,n,r,"px")}},clipRect:function(t,e,i,n,r){t=t.node,0===e&&0===i?(t.style.width=n+"px",t.style.height=r+"px",t.style.overflow="hidden"):t.style.clip="rect("+i+"px "+(e+n)+"px "+(i+r)+"px "+e+"px)"},rotate:function(t,e,i){if(0!==Number(e)){var n=t.node;t=n.style,i||(i=this.getBGColor(n.parentNode)),t.backgroundColor=i,t.paddingLeft=1,i=e*Math.PI/180;var r=Math.cos(i),a=Math.sin(i),s=AmCharts.removePx(t.left),o=AmCharts.removePx(t.top),h=n.offsetWidth,n=n.offsetHeight;e/=Math.abs(e),t.left=s+h/2-h/2*Math.cos(i)-e*n/2*Math.sin(i)+3,t.top=o-e*h/2*Math.sin(i)+e*n/2*Math.sin(i),t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+r+"', M12='"+-a+"', M21='"+a+"', M22='"+r+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var i=t.style.backgroundColor;""!==i?e=i:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(t){var e=new AmCharts.AmDObject("group",this.D);if(this.D.container.appendChild(e.node),t){var i;for(i=0;i<t.length;i++)e.push(t[i])}return e},gradient:function(t,e,i,n){var r="";"radialGradient"==e&&(e="gradientradial",i.reverse()),"linearGradient"==e&&(e="gradient");var a;for(a=0;a<i.length;a++){var s=Math.round(100*a/(i.length-1)),r=r+(s+"% "+i[a]);a<i.length-1&&(r+=",")}t=t.fill,90==n?n=0:270==n?n=180:180==n?n=90:0===n&&(n=270),8===document.documentMode?(t.type=e,t.angle=n):(t.setAttribute("type",e),t.setAttribute("angle",n)),r&&(t.colors.value=r)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){void 0!==typeof t.onselectstart&&(t.onselectstart=function(){return!1}),t.style.cursor="default"},pattern:function(t,e){var i=t.fill;t.node.fillColor="none",8===document.documentMode?(i.type="tile",i.src=e.url):(i.setAttribute("type","tile"),i.setAttribute("src",e.url))},update:function(){}}),AmCharts.SVGRenderer=AmCharts.Class({construct:function(t){this.D=t,this.animations=[]},create:function(t,e){return document.createElementNS(AmCharts.SVG_NS,e)},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},setAttr:function(t,e,i){void 0!==i&&t.node.setAttribute(e,i)},animate:function(t,e,i,n,r){var a=t.node;t["an_"+e]&&AmCharts.removeFromArray(this.animations,t["an_"+e]),"translate"==e?(a=(a=a.getAttribute("transform"))?String(a).substring(10,a.length-1):"0,0",a=a.split(", ").join(" "),a=a.split(" ").join(","),0===a&&(a="0,0")):a=Number(a.getAttribute(e)),i={obj:t,frame:0,attribute:e,from:a,to:i,time:n,effect:r},this.animations.push(i),t["an_"+e]=i},update:function(){var t,e=this.animations;for(t=e.length-1;t>=0;t--){var i,n,r,a=e[t],s=1e3*a.time/AmCharts.updateRate,o=a.frame+1,h=a.obj,l=a.attribute;s>=o?(a.frame++,"translate"==l?(i=a.from.split(","),l=Number(i[0]),i=Number(i[1]),isNaN(i)&&(i=0),n=a.to.split(","),r=Number(n[0]),n=Number(n[1]),r=0===r-l?r:Math.round(AmCharts[a.effect](0,o,l,r-l,s)),a=0===n-i?n:Math.round(AmCharts[a.effect](0,o,i,n-i,s)),l="transform",a="translate("+r+","+a+")"):(n=Number(a.from),i=Number(a.to),r=i-n,a=AmCharts[a.effect](0,o,n,r,s),isNaN(a)&&(a=i),0===r&&this.animations.splice(t,1)),this.setAttr(h,l,a)):("translate"==l?(n=a.to.split(","),r=Number(n[0]),n=Number(n[1]),h.translate(r,n)):(i=Number(a.to),this.setAttr(h,l,i)),this.animations.splice(t,1))}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(e){}return{width:0,height:0,x:0,y:0}},path:function(t,e){t.node.setAttributeNS(AmCharts.SVG_XLINK,"xlink:href",e)},clipRect:function(t,e,i,n,r){var a=t.node,s=t.clipPath;s&&this.D.remove(s);var o=a.parentNode;o&&(a=document.createElementNS(AmCharts.SVG_NS,"clipPath"),s=AmCharts.getUniqueId(),a.setAttribute("id",s),this.D.rect(e,i,n,r,0,0,a),o.appendChild(a),e="#",AmCharts.baseHref&&!AmCharts.isIE&&(e=window.location.href+e),this.setAttr(t,"clip-path","url("+e+s+")"),this.clipPathC++,t.clipPath=a)},text:function(t,e,i){var n=new AmCharts.AmDObject("text",this.D);t=String(t).split("\n");var r,a=e["font-size"];for(r=0;r<t.length;r++){var s=this.create(null,"tspan");s.appendChild(document.createTextNode(t[r])),s.setAttribute("y",(a+2)*r+Math.round(a/2)),s.setAttribute("x",0),n.node.appendChild(s)}return n.node.setAttribute("y",Math.round(a/2)),this.attr(n,e),this.D.addToContainer(n.node,i),n},setText:function(t,e){var i=t.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(e)))
},move:function(t,e,i,n){e="translate("+e+","+i+")",n&&(e=e+" scale("+n+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var i=t.node.getAttribute("transform"),n="rotate("+e+")";i&&(n=i+" "+n),this.setAttr(t,"transform",n)},set:function(t){var e=new AmCharts.AmDObject("g",this.D);if(this.D.container.appendChild(e.node),t){var i;for(i=0;i<t.length;i++)e.push(t[i])}return e},addListener:function(t,e,i){t.node["on"+e]=i},gradient:function(t,e,i,n){var r=t.node,a=t.grad;if(a&&this.D.remove(a),e=document.createElementNS(AmCharts.SVG_NS,e),a=AmCharts.getUniqueId(),e.setAttribute("id",a),!isNaN(n)){var s=0,o=0,h=0,l=0;90==n?h=100:270==n?l=100:180==n?s=100:0===n&&(o=100),e.setAttribute("x1",s+"%"),e.setAttribute("x2",o+"%"),e.setAttribute("y1",h+"%"),e.setAttribute("y2",l+"%")}for(n=0;n<i.length;n++)s=document.createElementNS(AmCharts.SVG_NS,"stop"),o=100*n/(i.length-1),0===n&&(o=0),s.setAttribute("offset",o+"%"),s.setAttribute("stop-color",i[n]),e.appendChild(s);r.parentNode.appendChild(e),i="#",AmCharts.baseHref&&!AmCharts.isIE&&(i=window.location.href+i),r.setAttribute("fill","url("+i+a+")"),t.grad=e},pattern:function(t,e,i){var n=t.node;isNaN(i)&&(i=1);var r=t.patternNode;r&&this.D.remove(r);var r=document.createElementNS(AmCharts.SVG_NS,"pattern"),a=AmCharts.getUniqueId(),s=e;e.url&&(s=e.url);var o=Number(e.width);isNaN(o)&&(o=4);var h=Number(e.height);isNaN(h)&&(h=4),o/=i,h/=i,i=e.x,isNaN(i)&&(i=0);var l=-Math.random()*Number(e.randomX);isNaN(l)||(i=l),l=e.y,isNaN(l)&&(l=0),e=-Math.random()*Number(e.randomY),isNaN(e)||(l=e),r.setAttribute("id",a),r.setAttribute("width",o),r.setAttribute("height",h),r.setAttribute("patternUnits","userSpaceOnUse"),r.setAttribute("xlink:href",s),this.D.image(s,0,0,o,h,r).translate(i,l),s="#",AmCharts.baseHref&&!AmCharts.isIE&&(s=window.location.href+s),n.setAttribute("fill","url("+s+a+")"),t.patternNode=r,n.parentNode.appendChild(r)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),t.patternNode&&this.D.remove(t.patternNode),this.D.remove(t.node)}}),AmCharts.AmDSet=AmCharts.Class({construct:function(){this.create("g")},attr:function(t){this.R.attr(this.node,t)},move:function(t,e){this.R.move(this.node,t,e)}}),AmCharts.AmLegend=AmCharts.Class({construct:function(t){this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.dateFormat="DD-MM-YYYY",this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,AmCharts.applyTheme(this,t,this.cname)},setData:function(t){this.legendData=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[],(AmCharts.ifArray(this.legendData)||AmCharts.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,e=this.position,i=this.width,n=t.divRealWidth,r=t.divRealHeight,a=this.div,s=this.legendData;if(this.data&&(s=this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize),"right"==e||"left"==e)this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var o=t.autoMarginOffset;"bottom"==e?(this.marginBottom=o,this.marginTop=0):(this.marginTop=o,this.marginBottom=0)}if(i=void 0!==i?AmCharts.toCoordinate(i,n):t.realWidth,"outside"==e?(i=a.offsetWidth,r=a.offsetHeight,a.clientHeight&&(i=a.clientWidth,r=a.clientHeight)):(a.style.width=i+"px",a.className="amChartsLegend"),this.divWidth=i,this.container=new AmCharts.AmDraw(a,i,r,t),this.lx=0,this.ly=8,e=this.markerSize,e>this.fontSize&&(this.ly=e/2-1),e>0&&(this.lx+=e+this.markerLabelGap),this.titleWidth=0,(e=this.title)&&(t=AmCharts.text(this.container,e,this.color,t.fontFamily,this.fontSize,"start",!0),t.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=t.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<s.length;t++)this.createEntry(s[t]);for(t=this.index=0;t<s.length;t++)this.createValue(s[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,e=this.marginLeft+this.titleWidth,i=this.marginRight,n=this.marginTop,r=this.marginBottom,a=this.horizontalGap,s=this.div,o=this.divWidth,h=this.maxColumns,l=this.verticalGap,c=this.spacing,u=o-i-e,d=0,f=0,p=this.container,m=p.set();this.set=m,p=p.set(),m.push(p);var g,v,y=this.entries;for(v=0;v<y.length;v++){g=y[v].getBBox();var b=g.width;b>d&&(d=b),g=g.height,g>f&&(f=g)}var C=b=0,x=a;for(v=0;v<y.length;v++){var A=y[v];this.reversedOrder&&(A=y[y.length-v-1]),g=A.getBBox();var w;this.equalWidths?w=a+C*(d+c+this.markerLabelGap):(w=x,x=x+g.width+a+c),w+g.width>u&&v>0&&0!==C&&(b++,C=0,w=a,x=w+g.width+a+c),A.translate(w,(f+l)*b),C++,!isNaN(h)&&C>=h&&(C=0,b++),p.push(A)}g=p.getBBox(),h=g.height+2*l-1,"left"==t||"right"==t?(o=g.width+2*a,s.style.width=o+e+i+"px"):o=o-e-i-1,i=AmCharts.polygon(this.container,[0,o,o,0],[0,0,h,h],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),m.push(i),m.translate(e,n),i.toBack(),e=a,("top"==t||"bottom"==t||"absolute"==t||"outside"==t)&&("center"==this.align?e=a+(o-g.width)/2:"right"==this.align&&(e=a+o-g.width)),p.translate(e,l+1),this.titleHeight>h&&(h=this.titleHeight),t=h+n+r+1,0>t&&(t=0),s.style.height=Math.round(t)+"px"},createEntry:function(t){if(!1!==t.visibleInLegend){var e=this.chart,i=t.markerType;i||(i=this.markerType);var n=t.color,r=t.alpha;t.legendKeyColor&&(n=t.legendKeyColor()),t.legendKeyAlpha&&(r=t.legendKeyAlpha());var a;!0===t.hidden&&(a=n=this.markerDisabledColor);var s=t.pattern,o=t.customMarker;o||(o=this.customMarker);var h=this.container,l=this.markerSize,c=0,u=0,d=l/2;if(this.useGraphSettings)if(c=t.type,"line"==c||"step"==c||"smoothedLine"==c||"ohlc"==c)this.switchType=void 0,s=h.set(),t.hidden||(n=t.lineColorR,a=t.bulletBorderColorR),u=AmCharts.line(h,[0,2*l],[l/2,l/2],n,t.lineAlpha,t.lineThickness,t.dashLength),s.push(u),t.bullet&&(t.hidden||(n=t.bulletColorR),u=AmCharts.bullet(h,t.bullet,t.bulletSize,n,t.bulletAlpha,t.bulletBorderThickness,a,t.bulletBorderAlpha))&&(u.translate(l+1,l/2),s.push(u)),d=0,c=l,u=l/3;else{var f;t.getGradRotation&&(f=t.getGradRotation()),c=t.fillColorsR,!0===t.hidden&&(c=n),(s=this.createMarker("rectangle",c,t.fillAlphas,t.lineThickness,n,t.lineAlpha,f,s))&&(d=l,s.translate(d,l/2)),c=l}else o?(e.path&&(o=e.path+o),s=h.image(o,0,0,l,l)):(s=this.createMarker(i,n,r,void 0,void 0,void 0,void 0,s))&&s.translate(l/2,l/2);this.addListeners(s,t),h=h.set([s]),this.switchable&&h.setAttr("cursor","pointer"),(a=this.switchType)&&"none"!=a&&(f="x"==a?this.createX():this.createV(),f.dItem=t,!0!==t.hidden?"x"==a?f.hide():f.show():"x"!=a&&f.hide(),this.switchable||f.hide(),this.addListeners(f,t),t.legendSwitch=f,h.push(f)),a=this.color,t.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(a=this.selectedColor),this.useMarkerColorForLabels&&(a=n),!0===t.hidden&&(a=this.markerDisabledColor),n=AmCharts.massReplace(this.labelText,{"[[title]]":t.title}),f=this.fontSize,s&&f>=l&&s.translate(d,l/2+this.ly-f/2+(f+2-l)/2-u);var p;n&&(n=AmCharts.fixBrakes(n),t.legendTextReal=n,p=AmCharts.text(this.container,n,a,e.fontFamily,f,"start"),p.translate(this.lx+c,this.ly),h.push(p),e=p.getBBox().width,this.maxLabelWidth<e&&(this.maxLabelWidth=e)),this.entries[this.index]=h,t.legendEntry=this.entries[this.index],t.legendLabel=p,this.index++}},addListeners:function(t,e){var i=this;t&&t.mouseover(function(){i.rollOverMarker(e)}).mouseout(function(){i.rollOutMarker(e)}).click(function(){i.clickMarker(e)})},rollOverMarker:function(t){this.switchable&&this.dispatch("rollOverMarker",t),this.dispatch("rollOverItem",t)},rollOutMarker:function(t){this.switchable&&this.dispatch("rollOutMarker",t),this.dispatch("rollOutItem",t)},clickMarker:function(t){this.switchable?!0===t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t):this.textClickEnabled&&this.dispatch("clickMarker",t)},rollOverLabel:function(t){t.hidden||(this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t))},rollOutLabel:function(t){if(!t.hidden){if(this.textClickEnabled&&t.legendLabel){var e=this.color;void 0!==this.selectedColor&&t.showBalloon&&(e=this.selectedColor),this.useMarkerColorForLabels&&(e=t.lineColor,void 0===e&&(e=t.color)),t.legendLabel.attr({fill:e})}this.dispatch("rollOutItem",t)}},clickLabel:function(t){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t):this.switchable&&(!0===t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t))},dispatch:function(t,e){this.fire(t,{type:t,dataItem:e,target:this,chart:this.chart})},createValue:function(t){var e=this,i=e.fontSize;if(!1!==t.visibleInLegend){var n=e.maxLabelWidth;e.equalWidths||(e.valueAlign="left"),"left"==e.valueAlign&&(n=t.legendEntry.getBBox().width);var r=n;if(e.valueText&&0<e.valueWidth){var a=e.color;e.useMarkerColorForValues&&(a=t.color,t.legendKeyColor&&(a=t.legendKeyColor())),!0===t.hidden&&(a=e.markerDisabledColor);var s=e.valueText,n=n+e.lx+e.markerLabelGap+e.valueWidth,o="end";"left"==e.valueAlign&&(n-=e.valueWidth,o="start"),a=AmCharts.text(e.container,s,a,e.chart.fontFamily,i,o),a.translate(n,e.ly),e.entries[e.index].push(a),r+=e.valueWidth+2*e.markerLabelGap,a.dItem=t,e.valueLabels.push(a)}e.index++,a=e.markerSize,i+7>a&&(a=i+7,AmCharts.VML&&(a+=3)),i=e.container.rect(e.markerSize,0,r,a,0,0).attr({stroke:"none",fill:"#ffffff","fill-opacity":.005}),i.dItem=t,e.entries[e.index-1].push(i),i.mouseover(function(){e.rollOverLabel(t)}).mouseout(function(){e.rollOutLabel(t)}).click(function(){e.clickLabel(t)})}},createV:function(){var t=this.markerSize;return AmCharts.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=this.markerSize-4,e={stroke:this.switchColor,"stroke-width":3},i=this.container,n=AmCharts.line(i,[3,t],[3,t]).attr(e),t=AmCharts.line(i,[3,t],[t,3]).attr(e);return this.container.set([n,t])},createMarker:function(t,e,i,n,r,a,s,o){var h=this.markerSize,l=this.container;return r||(r=this.markerBorderColor),r||(r=e),isNaN(n)&&(n=this.markerBorderThickness),isNaN(a)&&(a=this.markerBorderAlpha),AmCharts.bullet(l,t,h,e,i,n,r,a,h,s,o)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t,e=this.valueLabels,i=this.chart,n=this.data;for(t=0;t<e.length;t++){var r=e[t],a=r.dItem,s=" ";if(n)a.value?r.text(a.value):r.text("");else{if(void 0!==a.type){var o=a.currentDataItem,h=this.periodValueText;a.legendPeriodValueText&&(h=a.legendPeriodValueText),o?(s=this.valueText,a.legendValueText&&(s=a.legendValueText),s=i.formatString(s,o)):h&&(s=i.formatPeriodString(h,a))}else s=i.formatString(this.valueText,a);(o=a.legendLabel)&&o.text(a.legendTextReal),r.text(s)}}},renderFix:function(){if(!AmCharts.VML){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",AmCharts.remove(this.set)}}),AmCharts.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var i=e.getMilliseconds(),n=String(i);10>i&&(n="00"+i),i>=10&&100>i&&(n="0"+i),t=t.replace(/fff/g,n)}return t},AmCharts.extractPeriod=function(t){var e=AmCharts.stripNumbers(t),i=1;return e!=t&&(i=Number(t.slice(0,t.indexOf(e)))),{period:e,count:i}},AmCharts.resetDateToMin=function(t,e,i,n){void 0===n&&(n=1);var r,a,s,o,h,l,c;switch(AmCharts.useUTC?(r=t.getUTCFullYear(),a=t.getUTCMonth(),s=t.getUTCDate(),o=t.getUTCHours(),h=t.getUTCMinutes(),l=t.getUTCSeconds(),c=t.getUTCMilliseconds(),t=t.getUTCDay()):(r=t.getFullYear(),a=t.getMonth(),s=t.getDate(),o=t.getHours(),h=t.getMinutes(),l=t.getSeconds(),c=t.getMilliseconds(),t=t.getDay()),e){case"YYYY":r=Math.floor(r/i)*i,a=0,s=1,c=l=h=o=0;break;case"MM":a=Math.floor(a/i)*i,s=1,c=l=h=o=0;break;case"WW":0===t&&n>0&&(t=7),s=s-t+n,c=l=h=o=0;break;case"DD":c=l=h=o=0;break;case"hh":o=Math.floor(o/i)*i,c=l=h=0;break;case"mm":h=Math.floor(h/i)*i,c=l=0;break;case"ss":l=Math.floor(l/i)*i,c=0;break;case"fff":c=Math.floor(c/i)*i}return AmCharts.useUTC?(t=new Date,t.setUTCFullYear(r,a,s),t.setUTCHours(o,h,l,c)):t=new Date(r,a,s,o,h,l,c),t},AmCharts.getPeriodDuration=function(t,e){void 0===e&&(e=1);var i;switch(t){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*e},AmCharts.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},AmCharts.getMaxInterval=function(t,e){var i=AmCharts.intervals;return t>=i[e].contains?(t=Math.round(t/i[e].contains),e=i[e].nextInterval,AmCharts.getMaxInterval(t,e)):"ss"==e?i[e].nextInterval:e},AmCharts.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),AmCharts.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),AmCharts.monthNames="January February March April May June July August September October November December".split(" "),AmCharts.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),AmCharts.getWeekNumber=function(t){t=new Date(t),t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},AmCharts.stringToDate=function(t,e){var i={},n=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],r=!0,a=e.indexOf("AA");-1!=a&&(t.substr(a,2),"pm"==t.toLowerCase&&(r=!1));var s,o,h,a=e;for(h=0;h<n.length;h++)o=n[h].period,i[o]=0,"date"==o&&(i[o]=1);for(h=0;h<n.length;h++)if(s=n[h].pattern,o=n[h].period,-1!=e.indexOf(s)){var l=AmCharts.getFromDateString(s,t,a);e=e.replace(s,""),("KK"==s||"K"==s||"LL"==s||"L"==s)&&(r||(l+=12)),i[o]=l}return new Date(i.year,i.month,i.date,i.hours,i.minutes,i.seconds,i.milliseconds)},AmCharts.getFromDateString=function(t,e,i){return i=i.indexOf(t),e=e.substr(i,t.length),"0"==e.charAt(0)&&(e=e.substr(1,e.length-1)),e=Number(e),isNaN(e)&&(e=0),-1!=t.indexOf("M")&&e--,e},AmCharts.formatDate=function(t,e){var i,n,r,a,s,o,h,l,c=AmCharts.getWeekNumber(t);AmCharts.useUTC?(i=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDate(),a=t.getUTCDay(),s=t.getUTCHours(),o=t.getUTCMinutes(),h=t.getUTCSeconds(),l=t.getUTCMilliseconds()):(i=t.getFullYear(),n=t.getMonth(),r=t.getDate(),a=t.getDay(),s=t.getHours(),o=t.getMinutes(),h=t.getSeconds(),l=t.getMilliseconds());var u=String(i).substr(2,2),d=n+1;9>n&&(d="0"+d);var f=r;10>r&&(f="0"+r);var p="0"+a;e=e.replace(/W/g,c),c=s,24==c&&(c=0);var m=c;return 10>m&&(m="0"+m),e=e.replace(/JJ/g,m),e=e.replace(/J/g,c),c=s,0===c&&(c=24),m=c,10>m&&(m="0"+m),e=e.replace(/HH/g,m),e=e.replace(/H/g,c),c=s,c>11&&(c-=12),m=c,10>m&&(m="0"+m),e=e.replace(/KK/g,m),e=e.replace(/K/g,c),c=s,0===c&&(c=12),c>12&&(c-=12),m=c,10>m&&(m="0"+m),e=e.replace(/LL/g,m),e=e.replace(/L/g,c),c=o,10>c&&(c="0"+c),e=e.replace(/NN/g,c),e=e.replace(/N/g,o),o=h,10>o&&(o="0"+o),e=e.replace(/SS/g,o),e=e.replace(/S/g,h),h=l,10>h&&(h="00"+h),100>h&&(h="0"+h),o=l,10>o&&(o="00"+o),e=e.replace(/QQQ/g,h),e=e.replace(/QQ/g,o),e=e.replace(/Q/g,l),e=12>s?e.replace(/A/g,"am"):e.replace(/A/g,"pm"),e=e.replace(/YYYY/g,"@IIII@"),e=e.replace(/YY/g,"@II@"),e=e.replace(/MMMM/g,"@XXXX@"),e=e.replace(/MMM/g,"@XXX@"),e=e.replace(/MM/g,"@XX@"),e=e.replace(/M/g,"@X@"),e=e.replace(/DD/g,"@RR@"),e=e.replace(/D/g,"@R@"),e=e.replace(/EEEE/g,"@PPPP@"),e=e.replace(/EEE/g,"@PPP@"),e=e.replace(/EE/g,"@PP@"),e=e.replace(/E/g,"@P@"),e=e.replace(/@IIII@/g,i),e=e.replace(/@II@/g,u),e=e.replace(/@XXXX@/g,AmCharts.monthNames[n]),e=e.replace(/@XXX@/g,AmCharts.shortMonthNames[n]),e=e.replace(/@XX@/g,d),e=e.replace(/@X@/g,n+1),e=e.replace(/@RR@/g,f),e=e.replace(/@R@/g,r),e=e.replace(/@PPPP@/g,AmCharts.dayNames[a]),e=e.replace(/@PPP@/g,AmCharts.shortDayNames[a]),e=e.replace(/@PP@/g,p),e=e.replace(/@P@/g,a)},AmCharts.changeDate=function(t,e,i,n,r){var a=-1;switch(void 0===n&&(n=!0),void 0===r&&(r=!1),!0===n&&(a=1),e){case"YYYY":t.setFullYear(t.getFullYear()+i*a),n||r||t.setDate(t.getDate()+1);break;case"MM":e=t.getMonth(),t.setMonth(t.getMonth()+i*a),t.getMonth()>e+i*a&&t.setDate(t.getDate()-1),n||r||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+i*a);break;case"WW":t.setDate(t.getDate()+i*a*7);break;case"hh":t.setHours(t.getHours()+i*a);break;case"mm":t.setMinutes(t.getMinutes()+i*a);break;case"ss":t.setSeconds(t.getSeconds()+i*a);break;case"fff":t.setMilliseconds(t.getMilliseconds()+i*a)}return t},AmCharts.AmExport=AmCharts.Class({construct:function(t,e){var i=this;i.DEBUG=!1,i.chart=t,i.canvas=null,i.svgs=[],i.cfg={menuTop:"auto",menuLeft:"auto",menuRight:"0px",menuBottom:"0px",menuItems:[{textAlign:"center",icon:i.chart.pathToImages+"export.png",iconTitle:"Save chart as an image",format:"png"}],menuItemStyle:{backgroundColor:"transparent",rollOverBackgroundColor:"#EFEFEF",color:"#000000",rollOverColor:"#CC0000",paddingTop:"6px",paddingRight:"6px",paddingBottom:"6px",paddingLeft:"6px",marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px",textAlign:"left",textDecoration:"none",fontFamily:i.chart.fontFamily,fontSize:i.chart.fontSize+"px"},menuItemOutput:{backgroundColor:"#FFFFFF",fileName:"amChart",format:"png",output:"dataurlnewwindow",render:"browser",dpi:90,onclick:function(t,e,i){i.preventDefault(),t.polifySVG(),t.output(e)}},removeImagery:!1},i.processing={buffer:[],drawn:0,timer:0},"undefined"!=typeof window.canvg&&"undefined"!=typeof window.RGBColor&&(i.cfg.menuItemOutput.render="canvg"),"undefined"!=typeof window.saveAs&&(i.cfg.menuItemOutput.output="save"),AmCharts.isIE&&AmCharts.IEversion<10&&(i.cfg.menuItemOutput.output="dataurlnewwindow"),e&&(e.menuItemOutput=AmCharts.extend(i.cfg.menuItemOutput,e.menuItemOutput||{}),e.menuItemStyle=AmCharts.extend(i.cfg.menuItemStyle,e.menuItemStyle||{}),i.cfg=AmCharts.extend(i.cfg,e)),i.chart.AmExport=i,i.chart.addListener("rendered",function(){i.setup()}),i.DEBUG&&(window.AmExport=i)},log:function(){console.log("AmExport: ",arguments)},setup:function(){var t=this;10==t.DEBUG&&t.log("SETUP START"),!AmCharts.isIE||AmCharts.isIE&&AmCharts.IEversion>9?(t.generateButtons(),10==t.DEBUG&&t.log("SETUP END")):10==t.DEBUG&&t.log("< IE10 NOT SUPPORTED")},/* PUBLIC
	Decodes base64 string to binary array
	@param base64_string
	@copyright Eli Grey, http://eligrey.com and Devin Samarin, https://github.com/eboyjr
	*/
generateBinaryArray:function(t){for(var e,i,n,r=t.length,a=new Uint8Array(r/4*3|0),s=0,o=0,h=[0,0],l=0,c=0,u=new Uint8Array([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]);r--;)i=t.charCodeAt(s++),e=u[i-43],255!==e&&e!==n&&(h[1]=h[0],h[0]=i,c=c<<6|e,l++,4===l&&(a[o++]=c>>>16,61!==h[1]&&(a[o++]=c>>>8),61!==h[0]&&(a[o++]=c),l=0));return a},generateBlob:function(t,e){var i=this,n=t.indexOf(",")+1,r=t.substring(0,n),a=t,s=new Blob;return-1!=r.indexOf("base64")&&(a=i.generateBinaryArray(t.substring(n))),AmCharts.isIE&&AmCharts.IEversion<10?(s.data=a,s.size=a.length,s.type=e,s.encoding="base64"):s=new Blob([a],{type:e}),s},generatePDF:function(t){var e=this,i={output:function(){return""}},n=e.canvas.toDataURL("image/jpeg"),r=25.4*e.canvas.width/t.dpi,a=25.4*e.canvas.height/t.dpi;return window.jsPDF?(i=new jsPDF,i.addImage?i.addImage(n,"JPEG",0,0,r,a):alert("Missing jsPDF plugin; Please add the 'addImage' plugin.")):alert("Missing jsPDF lib; Don't forget to add the addImage plugin."),i},output:function(t,e){function i(){var i,r=null;if(10==n.DEBUG&&n.log("OUTPUT",format),"image/svg+xml"==t.format||"svg"==t.format)for(var a=0;a<n.processing.buffer.length;a++)r=(new XMLSerializer).serializeToString(n.processing.buffer[a][0]),i=n.generateBlob(r,"image/svg+xml"),"save"==t.output?saveAs(i,t.fileName+".svg"):"datastring"==t.output||"datauristring"==t.output||"dataurlstring"==t.output?i="data:image/svg+xml;base64,"+btoa(r):"dataurlnewwindow"==t.output?window.open("data:image/svg+xml;base64,"+btoa(r)):"datauri"==t.output||"dataurl"==t.output?location.href="data:image/svg+xml;base64,"+btoa(r):"datastream"==t.output&&(location.href="data:image/octet-stream;base64,"+btoa(r)),e&&e.apply(n,[i]);else"application/pdf"==t.format||"pdf"==t.format?(r=n.generatePDF(t).output("dataurlstring"),i=n.generateBlob(r,"application/pdf"),"save"==t.output?saveAs(i,t.fileName+".pdf"):"datastring"==t.output||"datauristring"==t.output||"dataurlstring"==t.output?i=r:"dataurlnewwindow"==t.output?window.open(r):"datauri"==t.output||"dataurl"==t.output?location.href=r:"datastream"==t.output&&(location.href=r.replace("application/pdf","application/octet-stream")),e&&e.apply(n,[i])):"image/png"==t.format||"png"==t.format?(r=n.canvas.toDataURL("image/png"),i=n.generateBlob(r,"image/png"),"save"==t.output?saveAs(i,t.fileName+".png"):"datastring"==t.output||"datauristring"==t.output||"dataurlstring"==t.output?i=r:"dataurlnewwindow"==t.output?window.open(r):"datauri"==t.output||"dataurl"==t.output?location.href=r:"datastream"==t.output&&(location.href=r.replace("image/png","image/octet-stream")),e&&e.apply(n,[i])):("image/jpeg"==t.format||"jpeg"==t.format||"jpg"==t.format)&&(r=n.canvas.toDataURL("image/jpeg"),i=n.generateBlob(r,"image/jpeg"),"save"==t.output?saveAs(i,t.fileName+".jpg"):"datastring"==t.output||"datauristring"==t.output||"dataurlstring"==t.output?i=r:"dataurlnewwindow"==t.output?window.open(r):"datauri"==t.output||"dataurl"==t.output?location.href=r:"datastream"==t.output&&(location.href=r.replace("image/jpeg","image/octet-stream")),e&&e.apply(n,[i]))}var n=this;return t=AmCharts.extend(AmCharts.extend({},n.cfg.menuItemOutput),t||{}),n.generateOutput(t,i)},polifySVG:function(){function t(t,i){for(var n=t.getElementsByTagName(i),r=0;r<n.length;r++){if(e.cfg.removeImagery)n[r].parentNode.removeChild(n[r]);else{var a=document.createElement("img"),s=document.createElement("canvas"),o=s.getContext("2d");s.width=n[r].getAttribute("width"),s.height=n[r].getAttribute("height"),a.src=n[r].getAttribute("xlink:href"),a.width=n[r].getAttribute("width"),a.height=n[r].getAttribute("height");try{o.drawImage(a,0,0,a.width,a.height),datastring=s.toDataURL()}catch(h){throw datastring=a.src,e.log("Tainted canvas, reached browser CORS security; origin from imagery must be equal to the server!"),new Error(h)}n[r].setAttribute("xlink:href",datastring)}10==e.DEBUG&&e.log("POLIFIED",n[r])}}var e=this,i=e.chart;i.prepareForExport&&i.prepareForExport();for(var n=e.chart.div.getElementsByTagName("svg"),r=0;r<n.length;r++){{n[r].parentNode}10==e.DEBUG&&e.log("POLIFIED",n[r]),t(n[r],"pattern"),t(n[r],"image"),e.svgs.push(n[r])}return n},generateOutput:function(t,e){function i(){var r,o,h,l;return n.processing.buffer.length==n.processing.drawn?(10==n.DEBUG&&n.log("END DRAWING"),e()):(10==n.DEBUG&&n.log("DRAW",n.processing.drawn+1,"OF",n.processing.buffer.length),o=n.processing.buffer[n.processing.drawn],l=(new XMLSerializer).serializeToString(o[0]),h=o[1],10==n.DEBUG&&n.log("SOURCE",l),"browser"==t.render?(r=new Image,r.id=AmCharts.getUniqueId(),l="data:image/svg+xml;base64,"+btoa(l),r.onload=function(){s.drawImage(this,o[1].x,o[1].y),n.processing.drawn++,10==n.DEBUG&&n.log("ONLOAD",this),i()},r.onerror=function(){10==n.DEBUG&&n.log("ONERROR",this),s.drawImage(this,o[1].x,o[1].y),n.processing.drawn++,i()},r.src=l,10==n.DEBUG&&n.log("ADD",r),(r.complete||"undefined"==typeof r.complete||void 0===r.complete)&&(10==n.DEBUG&&n.log("FORCE ONLOAD",r),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",r.src=l)):"canvg"==t.render&&canvg(a,l,{offsetX:h.x,offsetY:h.y,ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,renderCallback:function(){n.processing.drawn++,i()}}),void 0)}var n=this,r=n.chart.div.getElementsByTagName("svg"),a=document.createElement("canvas"),s=a.getContext("2d"),o={y:0,x:0},h={};n.processing.buffer=[],n.processing.drawn=0,n.canvas=a,10==n.DEBUG&&n.log("START EXPORT"),10==n.DEBUG&&n.log("START BUFFERING");for(var l=0;l<r.length;l++){var c=r[l].parentNode,u=Number(c.style.left.slice(0,-2)),d=Number(c.style.top.slice(0,-2));h=AmCharts.extend({},o),o.x=u?u:o.x,o.y=d?d:o.y,n.processing.buffer.push([r[l],AmCharts.extend({},o)]),d&&u?o=h:o.y+=d?0:c.offsetHeight,10==n.DEBUG&&n.log("BUFFERED",r[l],o)}return 10==n.DEBUG&&n.log("END BUFFERING"),10==n.DEBUG&&n.log("START DRAWING",t.render),10==n.DEBUG&&n.log("FILL BACKGROUND"),a.id=AmCharts.getUniqueId(),a.width=n.chart.divRealWidth,a.height=n.chart.divRealHeight,(t.backgroundColor||"image/jpeg"==format)&&(s.fillStyle=t.backgroundColor||"#FFFFFF",s.fillRect(0,0,a.width,a.height)),i()},generateButtons:function(){function t(i){var r=document.createElement("ul");r.setAttribute("style","list-style: none; margin: 0; padding: 0;");for(var a=0;a<i.length;a++){var s=document.createElement("li"),o=document.createElement("img"),h=document.createElement("a"),l=i[a],c=null,u=AmCharts.extend(AmCharts.extend({},e.cfg.menuItemStyle),i[a]);l=AmCharts.extend(AmCharts.extend({},e.cfg.menuItemOutput),l),l.icon&&(o.alt="",o.src=l.icon,o.setAttribute("style","margin: 0 auto;border: none;outline: none"),l.iconTitle&&(o.title=l.iconTitle),h.appendChild(o)),h.href="#",l.title&&(o.setAttribute("style","margin-right: 5px;"),h.innerHTML+=l.title),h.setAttribute("style","display: block;"),AmCharts.extend(h.style,u),h.onclick=l.onclick.bind(h,e,l),s.appendChild(h),l.items&&(c=t(l.items),s.appendChild(c),s.onmouseover=function(){c.style.display="block"},s.onmouseout=function(){c.style.display="none"},c.style.display="none"),r.appendChild(s),h.onmouseover=function(){this.style.backgroundColor=u.rollOverBackgroundColor,this.style.color=u.rollOverColor,this.style.borderColor=u.rollOverBorderColor},h.onmouseout=function(){this.style.backgroundColor=u.backgroundColor,this.style.color=u.color,this.style.borderColor=u.borderColor}}return n++,10==e.DEBUG&&e.log("MENU",r),r}var e=this,i=document.createElement("div"),n=0;i.setAttribute("style","position: absolute;top:"+e.cfg.menuTop+";right:"+e.cfg.menuRight+";bottom:"+e.cfg.menuBottom+";left:"+e.cfg.menuLeft+";box-shadow:0px 0px 1px 0px rgba(0,0,0,0);"),i.appendChild(t(e.cfg.menuItems)),e.chart.containerDiv.appendChild(i)}}),function(){function t(){var t={};return t.FRAMERATE=30,t.MAX_VIRTUAL_PIXELS=3e4,t.init=function(e){var i=0;t.UniqueId=function(){return i++,"canvg"+i},t.Definitions={},t.Styles={},t.Animations=[],t.Images=[],t.ctx=e,t.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},t.init(),t.ImagesLoaded=function(){for(var e=0;e<t.Images.length;e++)if(!t.Images[e].loaded)return!1;return!0},t.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},t.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},t.ajax=function(t){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e?(e.open("GET",t,!1),e.send(null),e.responseText):null},t.parseXml=function(t){if(window.DOMParser){var e=new DOMParser;return e.parseFromString(t,"text/xml")}t=t.replace(/<!DOCTYPE svg[^>]*>/,"");var i=new ActiveXObject("Microsoft.XMLDOM");return i.async="false",i.loadXML(t),i},t.Property=function(t,e){this.name=t,this.value=e},t.Property.prototype.getValue=function(){return this.value},t.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},t.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},t.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},t.Property.prototype.addOpacity=function(e){var i=this.value;if(null!=e&&""!=e&&"string"==typeof this.value){var n=new RGBColor(this.value);n.ok&&(i="rgba("+n.r+", "+n.g+", "+n.b+", "+e+")")}return new t.Property(this.name,i)},t.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),t.Definitions[e]},t.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},t.Property.prototype.getFillStyleDefinition=function(e,i){var n=this.getDefinition();if(null!=n&&n.createGradient)return n.createGradient(t.ctx,e,i);if(null!=n&&n.createPattern){if(n.getHrefAttribute().hasValue()){var r=n.attribute("patternTransform");n=n.getHrefAttribute().getDefinition(),r.hasValue()&&(n.attribute("patternTransform",!0).value=r.value)}return n.createPattern(t.ctx,e)}return null},t.Property.prototype.getDPI=function(){return 96},t.Property.prototype.getEM=function(e){var i=12,n=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);return n.hasValue()&&(i=n.toPixels(e)),i},t.Property.prototype.getUnits=function(){var t=this.value+"";return t.replace(/[0-9\.\-]/g,"")},t.Property.prototype.toPixels=function(e,i){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(e);if(n.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(e);if(n.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(e);var r=this.numValue();return i&&1>r?r*t.ViewPort.ComputeSize(e):r},t.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():t.match(/ms$/)?this.numValue():this.numValue()},t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},t.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,i,n,r,a,s){var o=null!=s?this.Parse(s):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:a||o.fontFamily,fontSize:r||o.fontSize,fontStyle:e||o.fontStyle,fontWeight:n||o.fontWeight,fontVariant:i||o.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(i){for(var n={},r=t.trim(t.compressSpaces(i||"")).split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},s="",o=0;o<r.length;o++)a.fontStyle||-1==e.Styles.indexOf(r[o])?a.fontVariant||-1==e.Variants.indexOf(r[o])?a.fontWeight||-1==e.Weights.indexOf(r[o])?a.fontSize?"inherit"!=r[o]&&(s+=r[o]):("inherit"!=r[o]&&(n.fontSize=r[o].split("/")[0]),a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=!0):("inherit"!=r[o]&&(n.fontWeight=r[o]),a.fontStyle=a.fontVariant=a.fontWeight=!0):("inherit"!=r[o]&&(n.fontVariant=r[o]),a.fontStyle=a.fontVariant=!0):("inherit"!=r[o]&&(n.fontStyle=r[o]),a.fontStyle=!0);return""!=s&&(n.fontFamily=s),n}},t.ToNumberArray=function(e){for(var i=t.trim(t.compressSpaces((e||"").replace(/,/g," "))).split(" "),n=0;n<i.length;n++)i[n]=parseFloat(i[n]);return i},t.Point=function(t,e){this.x=t,this.y=e},t.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},t.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],i=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=i},t.CreatePoint=function(e){var i=t.ToNumberArray(e);return new t.Point(i[0],i[1])},t.CreatePath=function(e){for(var i=t.ToNumberArray(e),n=[],r=0;r<i.length;r+=2)n.push(new t.Point(i[r],i[r+1]));return n},t.BoundingBox=function(t,e,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,i,n,r,a){var s=t+2/3*(i-t),o=e+2/3*(n-e),h=s+1/3*(r-t),l=o+1/3*(a-e);this.addBezierCurve(t,e,s,h,o,l,r,a)},this.addBezierCurve=function(t,e,n,r,a,s,o,h){var l=[t,e],c=[n,r],u=[a,s],d=[o,h];for(this.addPoint(l[0],l[1]),this.addPoint(d[0],d[1]),i=0;1>=i;i++){var f=function(t){return Math.pow(1-t,3)*l[i]+3*Math.pow(1-t,2)*t*c[i]+3*(1-t)*Math.pow(t,2)*u[i]+Math.pow(t,3)*d[i]},p=6*l[i]-12*c[i]+6*u[i],m=-3*l[i]+9*c[i]-9*u[i]+3*d[i],g=3*c[i]-3*l[i];if(0!=m){var v=Math.pow(p,2)-4*g*m;if(!(0>v)){var y=(-p+Math.sqrt(v))/(2*m);y>0&&1>y&&(0==i&&this.addX(f(y)),1==i&&this.addY(f(y)));var b=(-p-Math.sqrt(v))/(2*m);b>0&&1>b&&(0==i&&this.addX(f(b)),1==i&&this.addY(f(b)))}}else{if(0==p)continue;var C=-g/p;C>0&&1>C&&(0==i&&this.addX(f(C)),1==i&&this.addY(f(C)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,r)},t.Transform=function(e){var i=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var i=t.ToNumberArray(e);this.angle=new t.Property("angle",i[0]),this.cx=i[1]||0,this.cy=i[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=i.Type.matrix,this.base(e),this.angle=new t.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=i.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=i.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var n=t.trim(t.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),r=0;r<n.length;r++){var a=t.trim(n[r].split("(")[0]),s=n[r].split("(")[1].replace(")",""),o=new this.Type[a](s);o.type=a,this.transforms.push(o)}},t.AspectRatio=function(e,i,n,r,a,s,o,h,l,c){i=t.compressSpaces(i),i=i.replace(/^defer\s/,"");var u=i.split(" ")[0]||"xMidYMid",d=i.split(" ")[1]||"meet",f=n/r,p=a/s,m=Math.min(f,p),g=Math.max(f,p);"meet"==d&&(r*=m,s*=m),"slice"==d&&(r*=g,s*=g),l=new t.Property("refX",l),c=new t.Property("refY",c),l.hasValue()&&c.hasValue()?e.translate(-m*l.toPixels("x"),-m*c.toPixels("y")):(u.match(/^xMid/)&&("meet"==d&&m==p||"slice"==d&&g==p)&&e.translate(n/2-r/2,0),u.match(/YMid$/)&&("meet"==d&&m==f||"slice"==d&&g==f)&&e.translate(0,a/2-s/2),u.match(/^xMax/)&&("meet"==d&&m==p||"slice"==d&&g==p)&&e.translate(n-r,0),u.match(/YMax$/)&&("meet"==d&&m==f||"slice"==d&&g==f)&&e.translate(0,a-s)),"none"==u?e.scale(f,p):"meet"==d?e.scale(m,m):"slice"==d&&e.scale(g,g),e.translate(null==o?0:-o,null==h?0:-h)},t.Element={},t.EmptyProperty=new t.Property("EMPTY",""),t.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,i){var n=this.attributes[e];return null!=n?n:(1==i&&(n=new t.Property(e,""),this.attributes[e]=n),n||t.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if(e.match(/:href$/))return this.attributes[e];return t.EmptyProperty},this.style=function(e,i){var n=this.styles[e];if(null!=n)return n;var r=this.attribute(e);if(null!=r&&r.hasValue())return this.styles[e]=r,r;var a=this.parent;if(null!=a){var s=a.style(e);if(null!=s&&s.hasValue())return s}return 1==i&&(n=new t.Property(e,""),this.styles[e]=n),n||t.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(t.save(),this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var i=this.style("filter").getDefinition();null!=i&&i.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(e,i){var n=e;i&&(n=t.CreateElement(e)),n.parent=this,this.children.push(n)},null!=e&&1==e.nodeType){for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1==n.nodeType&&this.addChild(n,!0),this.captureTextNodes&&3==n.nodeType){var r=n.nodeValue||n.text||"";""!=t.trim(t.compressSpaces(r))&&this.addChild(new t.Element.tspan(n),!1)}}for(var i=0;i<e.attributes.length;i++){var a=e.attributes[i];this.attributes[a.nodeName]=new t.Property(a.nodeName,a.nodeValue)}var s=t.Styles[e.nodeName];if(null!=s)for(var o in s)this.styles[o]=s[o];if(this.attribute("class").hasValue())for(var h=t.compressSpaces(this.attribute("class").value).split(" "),l=0;l<h.length;l++){if(s=t.Styles["."+h[l]],null!=s)for(var o in s)this.styles[o]=s[o];if(s=t.Styles[e.nodeName+"."+h[l]],null!=s)for(var o in s)this.styles[o]=s[o]}if(this.attribute("id").hasValue()){var s=t.Styles["#"+this.attribute("id").value];if(null!=s)for(var o in s)this.styles[o]=s[o]}if(this.attribute("style").hasValue())for(var s=this.attribute("style").value.split(";"),i=0;i<s.length;i++)if(""!=t.trim(s[i])){var c=s[i].split(":"),o=t.trim(c[0]),u=t.trim(c[1]);this.styles[o]=new t.Property(o,u)}this.attribute("id").hasValue()&&null==t.Definitions[this.attribute("id").value]&&(t.Definitions[this.attribute("id").value]=this)}},t.Element.RenderedElementBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var i=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=i&&(e.fillStyle=i)}else if(this.style("fill").hasValue()){var n=this.style("fill");"currentColor"==n.value&&(n.value=this.style("color").value),e.fillStyle="none"==n.value?"rgba(0,0,0,0)":n.value}if(this.style("fill-opacity").hasValue()){var n=new t.Property("fill",e.fillStyle);n=n.addOpacity(this.style("fill-opacity").value),e.fillStyle=n.value}if(this.style("stroke").isUrlDefinition()){var i=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=i&&(e.strokeStyle=i)}else if(this.style("stroke").hasValue()){var r=this.style("stroke");"currentColor"==r.value&&(r.value=this.style("color").value),e.strokeStyle="none"==r.value?"rgba(0,0,0,0)":r.value}if(this.style("stroke-opacity").hasValue()){var r=new t.Property("stroke",e.strokeStyle);r=r.addOpacity(this.style("stroke-opacity").value),e.strokeStyle=r.value}if(this.style("stroke-width").hasValue()){var a=this.style("stroke-width").toPixels();e.lineWidth=0==a?.001:a}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()){var s=t.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(s):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=s:"undefined"!=typeof e.mozDash&&(e.mozDash=s);var o=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=o:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=o:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=o)}if("undefined"!=typeof e.font&&(e.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var h=new t.Transform(this.attribute("transform").value);h.apply(e)}if(this.style("clip-path").hasValue()){var l=this.style("clip-path").getDefinition();null!=l&&l.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},t.Element.RenderedElementBase.prototype=new t.Element.ElementBase,t.Element.PathElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new t.BoundingBox},this.renderChildren=function(e){this.path(e),t.Mouse.checkPath(this,e),""!=e.fillStyle&&(this.attribute("fill-rule").hasValue()?e.fill(this.attribute("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var i=this.getMarkers();if(null!=i){if(this.style("marker-start").isUrlDefinition()){var n=this.style("marker-start").getDefinition();n.render(e,i[0][0],i[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),r=1;r<i.length-1;r++)n.render(e,i[r][0],i[r][1]);if(this.style("marker-end").isUrlDefinition()){var n=this.style("marker-end").getDefinition();n.render(e,i[i.length-1][0],i[i.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase,t.Element.svg=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var i=t.ViewPort.width(),n=t.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){i=this.attribute("width").toPixels("x"),n=this.attribute("height").toPixels("y");var r=0,a=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(r=-this.attribute("refX").toPixels("x"),a=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(r,a),e.lineTo(i,a),e.lineTo(i,n),e.lineTo(r,n),e.closePath(),e.clip()}if(t.ViewPort.SetCurrent(i,n),this.attribute("viewBox").hasValue()){var s=t.ToNumberArray(this.attribute("viewBox").value),o=s[0],h=s[1];i=s[2],n=s[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),i,t.ViewPort.height(),n,o,h,this.attribute("refX").value,this.attribute("refY").value),t.ViewPort.RemoveCurrent(),t.ViewPort.SetCurrent(s[2],s[3])}}},t.Element.svg.prototype=new t.Element.RenderedElementBase,t.Element.rect=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var i=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),s=this.attribute("rx").toPixels("x"),o=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(o=s),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(s=o),s=Math.min(s,r/2),o=Math.min(o,a/2),null!=e&&(e.beginPath(),e.moveTo(i+s,n),e.lineTo(i+r-s,n),e.quadraticCurveTo(i+r,n,i+r,n+o),e.lineTo(i+r,n+a-o),e.quadraticCurveTo(i+r,n+a,i+r-s,n+a),e.lineTo(i+s,n+a),e.quadraticCurveTo(i,n+a,i,n+a-o),e.lineTo(i,n+o),e.quadraticCurveTo(i,n,i+s,n),e.closePath()),new t.BoundingBox(i,n,i+r,n+a)}},t.Element.rect.prototype=new t.Element.PathElementBase,t.Element.circle=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var i=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),r=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(i,n,r,0,2*Math.PI,!0),e.closePath()),new t.BoundingBox(i-r,n-r,i+r,n+r)}},t.Element.circle.prototype=new t.Element.PathElementBase,t.Element.ellipse=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var i=4*((Math.sqrt(2)-1)/3),n=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),s=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(a,s-r),e.bezierCurveTo(a+i*n,s-r,a+n,s-i*r,a+n,s),e.bezierCurveTo(a+n,s+i*r,a+i*n,s+r,a,s+r),e.bezierCurveTo(a-i*n,s+r,a-n,s+i*r,a-n,s),e.bezierCurveTo(a-n,s-i*r,a-i*n,s-r,a,s-r),e.closePath()),new t.BoundingBox(a-n,s-r,a+n,s+r)}},t.Element.ellipse.prototype=new t.Element.PathElementBase,t.Element.line=function(e){this.base=t.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var i=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(i[0].x,i[0].y),e.lineTo(i[1].x,i[1].y)),new t.BoundingBox(i[0].x,i[0].y,i[1].x,i[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},t.Element.line.prototype=new t.Element.PathElementBase,t.Element.polyline=function(e){this.base=t.Element.PathElementBase,this.base(e),this.points=t.CreatePath(this.attribute("points").value),this.path=function(e){var i=new t.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)i.addPoint(this.points[n].x,this.points[n].y),null!=e&&e.lineTo(this.points[n].x,this.points[n].y);return i},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},t.Element.polyline.prototype=new t.Element.PathElementBase,t.Element.polygon=function(e){this.base=t.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},t.Element.polygon.prototype=new t.Element.polyline,t.Element.path=function(e){this.base=t.Element.PathElementBase,this.base(e);var i=this.attribute("d").value;i=i.replace(/,/gm," "),i=i.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),i=i.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),i=i.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),i=i.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),i=i.replace(/([0-9])([+\-])/gm,"$1 $2"),i=i.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),i=i.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),i=t.compressSpaces(i),i=t.trim(i),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new t.Point(0,0),this.control=new t.Point(0,0),this.current=new t.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,i){null!=i&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(i)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(i),this.path=function(e){var i=this.PathParser;i.reset();var n=new t.BoundingBox;for(null!=e&&e.beginPath();!i.isEnd();)switch(i.nextCommand(),i.command){case"M":case"m":var r=i.getAsCurrentPoint();
for(i.addMarker(r),n.addPoint(r.x,r.y),null!=e&&e.moveTo(r.x,r.y),i.start=i.current;!i.isCommandOrEnd();){var r=i.getAsCurrentPoint();i.addMarker(r,i.start),n.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y)}break;case"L":case"l":for(;!i.isCommandOrEnd();){var a=i.current,r=i.getAsCurrentPoint();i.addMarker(r,a),n.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y)}break;case"H":case"h":for(;!i.isCommandOrEnd();){var s=new t.Point((i.isRelativeCommand()?i.current.x:0)+i.getScalar(),i.current.y);i.addMarker(s,i.current),i.current=s,n.addPoint(i.current.x,i.current.y),null!=e&&e.lineTo(i.current.x,i.current.y)}break;case"V":case"v":for(;!i.isCommandOrEnd();){var s=new t.Point(i.current.x,(i.isRelativeCommand()?i.current.y:0)+i.getScalar());i.addMarker(s,i.current),i.current=s,n.addPoint(i.current.x,i.current.y),null!=e&&e.lineTo(i.current.x,i.current.y)}break;case"C":case"c":for(;!i.isCommandOrEnd();){var o=i.current,h=i.getPoint(),l=i.getAsControlPoint(),c=i.getAsCurrentPoint();i.addMarker(c,l,h),n.addBezierCurve(o.x,o.y,h.x,h.y,l.x,l.y,c.x,c.y),null!=e&&e.bezierCurveTo(h.x,h.y,l.x,l.y,c.x,c.y)}break;case"S":case"s":for(;!i.isCommandOrEnd();){var o=i.current,h=i.getReflectedControlPoint(),l=i.getAsControlPoint(),c=i.getAsCurrentPoint();i.addMarker(c,l,h),n.addBezierCurve(o.x,o.y,h.x,h.y,l.x,l.y,c.x,c.y),null!=e&&e.bezierCurveTo(h.x,h.y,l.x,l.y,c.x,c.y)}break;case"Q":case"q":for(;!i.isCommandOrEnd();){var o=i.current,l=i.getAsControlPoint(),c=i.getAsCurrentPoint();i.addMarker(c,l,l),n.addQuadraticCurve(o.x,o.y,l.x,l.y,c.x,c.y),null!=e&&e.quadraticCurveTo(l.x,l.y,c.x,c.y)}break;case"T":case"t":for(;!i.isCommandOrEnd();){var o=i.current,l=i.getReflectedControlPoint();i.control=l;var c=i.getAsCurrentPoint();i.addMarker(c,l,l),n.addQuadraticCurve(o.x,o.y,l.x,l.y,c.x,c.y),null!=e&&e.quadraticCurveTo(l.x,l.y,c.x,c.y)}break;case"A":case"a":for(;!i.isCommandOrEnd();){var o=i.current,u=i.getScalar(),d=i.getScalar(),f=i.getScalar()*(Math.PI/180),p=i.getScalar(),m=i.getScalar(),c=i.getAsCurrentPoint(),g=new t.Point(Math.cos(f)*(o.x-c.x)/2+Math.sin(f)*(o.y-c.y)/2,-Math.sin(f)*(o.x-c.x)/2+Math.cos(f)*(o.y-c.y)/2),v=Math.pow(g.x,2)/Math.pow(u,2)+Math.pow(g.y,2)/Math.pow(d,2);v>1&&(u*=Math.sqrt(v),d*=Math.sqrt(v));var y=(p==m?-1:1)*Math.sqrt((Math.pow(u,2)*Math.pow(d,2)-Math.pow(u,2)*Math.pow(g.y,2)-Math.pow(d,2)*Math.pow(g.x,2))/(Math.pow(u,2)*Math.pow(g.y,2)+Math.pow(d,2)*Math.pow(g.x,2)));isNaN(y)&&(y=0);var b=new t.Point(y*u*g.y/d,y*-d*g.x/u),C=new t.Point((o.x+c.x)/2+Math.cos(f)*b.x-Math.sin(f)*b.y,(o.y+c.y)/2+Math.sin(f)*b.x+Math.cos(f)*b.y),x=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},A=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(x(t)*x(e))},w=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(A(t,e))},S=w([1,0],[(g.x-b.x)/u,(g.y-b.y)/d]),T=[(g.x-b.x)/u,(g.y-b.y)/d],N=[(-g.x-b.x)/u,(-g.y-b.y)/d],E=w(T,N);A(T,N)<=-1&&(E=Math.PI),A(T,N)>=1&&(E=0);var D=1-m?1:-1,k=S+D*(E/2),M=new t.Point(C.x+u*Math.cos(k),C.y+d*Math.sin(k));if(i.addMarkerAngle(M,k-D*Math.PI/2),i.addMarkerAngle(c,k-D*Math.PI),n.addPoint(c.x,c.y),null!=e){var A=u>d?u:d,R=u>d?1:u/d,B=u>d?d/u:1;e.translate(C.x,C.y),e.rotate(f),e.scale(R,B),e.arc(0,0,A,S,S+E,1-m),e.scale(1/R,1/B),e.rotate(-f),e.translate(-C.x,-C.y)}}break;case"Z":case"z":null!=e&&e.closePath(),i.current=i.start}return n},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),i=[],n=0;n<t.length;n++)i.push([t[n],e[n]]);return i}},t.Element.path.prototype=new t.Element.PathElementBase,t.Element.pattern=function(e){this.base=t.Element.ElementBase,this.base(e),this.createPattern=function(e){var i=this.attribute("width").toPixels("x",!0),n=this.attribute("height").toPixels("y",!0),r=new t.Element.svg;r.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),r.attributes.width=new t.Property("width",i+"px"),r.attributes.height=new t.Property("height",n+"px"),r.attributes.transform=new t.Property("transform",this.attribute("patternTransform").value),r.children=this.children;var a=document.createElement("canvas");a.width=i,a.height=n;var s=a.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var o=-1;1>=o;o++)for(var h=-1;1>=h;h++)s.save(),s.translate(o*a.width,h*a.height),r.render(s),s.restore();var l=e.createPattern(a,"repeat");return l}},t.Element.pattern.prototype=new t.Element.ElementBase,t.Element.marker=function(e){this.base=t.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,i,n){e.translate(i.x,i.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var r=new t.Element.svg;r.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),r.attributes.refX=new t.Property("refX",this.attribute("refX").value),r.attributes.refY=new t.Property("refY",this.attribute("refY").value),r.attributes.width=new t.Property("width",this.attribute("markerWidth").value),r.attributes.height=new t.Property("height",this.attribute("markerHeight").value),r.attributes.fill=new t.Property("fill",this.attribute("fill").valueOrDefault("black")),r.attributes.stroke=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none")),r.children=this.children,r.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-n),e.translate(-i.x,-i.y)}},t.Element.marker.prototype=new t.Element.ElementBase,t.Element.defs=function(e){this.base=t.Element.ElementBase,this.base(e),this.render=function(){}},t.Element.defs.prototype=new t.Element.ElementBase,t.Element.GradientBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var i=0;i<this.children.length;i++){var n=this.children[i];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.createGradient=function(e,i,n){var r=this;this.getHrefAttribute().hasValue()&&(r=this.getHrefAttribute().getDefinition());var a=function(e){if(n.hasValue()){var i=new t.Property("color",e);return i.addOpacity(n.value).value}return e},s=this.getGradient(e,i);if(null==s)return a(r.stops[r.stops.length-1].color);for(var o=0;o<r.stops.length;o++)s.addColorStop(r.stops[o].offset,a(r.stops[o].color));if(this.attribute("gradientTransform").hasValue()){var h=t.ViewPort.viewPorts[0],l=new t.Element.rect;l.attributes.x=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3),l.attributes.y=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3),l.attributes.width=new t.Property("width",t.MAX_VIRTUAL_PIXELS),l.attributes.height=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var c=new t.Element.g;c.attributes.transform=new t.Property("transform",this.attribute("gradientTransform").value),c.children=[l];var u=new t.Element.svg;u.attributes.x=new t.Property("x",0),u.attributes.y=new t.Property("y",0),u.attributes.width=new t.Property("width",h.width),u.attributes.height=new t.Property("height",h.height),u.children=[c];var d=document.createElement("canvas");d.width=h.width,d.height=h.height;var f=d.getContext("2d");return f.fillStyle=s,u.render(f),f.createPattern(d,"no-repeat")}return s}},t.Element.GradientBase.prototype=new t.Element.ElementBase,t.Element.linearGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var i=e.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var n="objectBoundingBox"==this.gradientUnits?i.x()+i.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?i.y()+i.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits?i.x()+i.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),s="objectBoundingBox"==this.gradientUnits?i.y()+i.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return n==a&&r==s?null:t.createLinearGradient(n,r,a,s)}},t.Element.linearGradient.prototype=new t.Element.GradientBase,t.Element.radialGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var i=e.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var n="objectBoundingBox"==this.gradientUnits?i.x()+i.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?i.y()+i.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=n,s=r;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?i.x()+i.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(s="objectBoundingBox"==this.gradientUnits?i.y()+i.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var o="objectBoundingBox"==this.gradientUnits?(i.width()+i.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(a,s,0,n,r,o)}},t.Element.radialGradient.prototype=new t.Element.GradientBase,t.Element.stop=function(e){this.base=t.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var i=this.style("stop-color");this.style("stop-opacity").hasValue()&&(i=i.addOpacity(this.style("stop-opacity").value)),this.color=i.value},t.Element.stop.prototype=new t.Element.ElementBase,t.Element.AnimateBase=function(e){this.base=t.Element.ElementBase,this.base(e),t.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var i=this.calcValue();if(this.attribute("type").hasValue()){var n=this.attribute("type").value;i=n+"("+i+")"}this.getProperty().value=i,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var i=e.progress*(this.values.value.length-1),n=Math.floor(i),r=Math.ceil(i);e.from=new t.Property("from",parseFloat(this.values.value[n])),e.to=new t.Property("to",parseFloat(this.values.value[r])),e.progress=(i-n)/(r-n)}else e.from=this.from,e.to=this.to;return e}},t.Element.AnimateBase.prototype=new t.Element.ElementBase,t.Element.animate=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return e+this.initialUnits}},t.Element.animate.prototype=new t.Element.AnimateBase,t.Element.animateColor=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=new RGBColor(t.from.value),i=new RGBColor(t.to.value);if(e.ok&&i.ok){var n=e.r+(i.r-e.r)*t.progress,r=e.g+(i.g-e.g)*t.progress,a=e.b+(i.b-e.b)*t.progress;return"rgb("+parseInt(n,10)+","+parseInt(r,10)+","+parseInt(a,10)+")"}return this.attribute("from").value}},t.Element.animateColor.prototype=new t.Element.AnimateBase,t.Element.animateTransform=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),i=t.ToNumberArray(e.from.value),n=t.ToNumberArray(e.to.value),r="",a=0;a<i.length;a++)r+=i[a]+(n[a]-i[a])*e.progress+" ";return r}},t.Element.animateTransform.prototype=new t.Element.animate,t.Element.font=function(e){this.base=t.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var i=0;i<this.children.length;i++){var n=this.children[i];"font-face"==n.type?(this.fontFace=n,n.style("font-family").hasValue()&&(t.Definitions[n.style("font-family").value]=this)):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},t.Element.font.prototype=new t.Element.ElementBase,t.Element.fontface=function(e){this.base=t.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},t.Element.fontface.prototype=new t.Element.ElementBase,t.Element.missingglyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=0},t.Element.missingglyph.prototype=new t.Element.path,t.Element.glyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},t.Element.glyph.prototype=new t.Element.path,t.Element.text=function(e){this.captureTextNodes=!0,this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.style("dominant-baseline").hasValue()&&(t.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(t.textBaseline=this.style("alignment-baseline").value)},this.getBoundingBox=function(){return new t.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.x+=this.getAnchorDelta(t,this,0);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,e)},this.getAnchorDelta=function(t,e,i){var n=this.style("text-anchor").valueOrDefault("start");if("start"!=n){for(var r=0,a=i;a<e.children.length;a++){var s=e.children[a];if(a>i&&s.attribute("x").hasValue())break;r+=s.measureTextRecursive(t)}return-1*("end"==n?r:r/2)}return 0},this.renderChild=function(t,e,i){var n=e.children[i];n.attribute("x").hasValue()?n.x=n.attribute("x").toPixels("x")+this.getAnchorDelta(t,e,i):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),n.attribute("dx").hasValue()&&(this.x+=n.attribute("dx").toPixels("x")),n.x=this.x),this.x=n.x+n.measureText(t),n.attribute("y").hasValue()?n.y=n.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),n.attribute("dy").hasValue()&&(this.y+=n.attribute("dy").toPixels("y")),n.y=this.y),this.y=n.y,n.render(t);for(var i=0;i<n.children.length;i++)this.renderChild(t,n,i)}},t.Element.text.prototype=new t.Element.RenderedElementBase,t.Element.TextElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getGlyph=function(t,e,i){var n=e[i],r=null;if(t.isArabic){var a="isolated";(0==i||" "==e[i-1])&&i<e.length-2&&" "!=e[i+1]&&(a="terminal"),i>0&&" "!=e[i-1]&&i<e.length-2&&" "!=e[i+1]&&(a="medial"),i>0&&" "!=e[i-1]&&(i==e.length-1||" "==e[i+1])&&(a="initial"),"undefined"!=typeof t.glyphs[n]&&(r=t.glyphs[n][a],null==r&&"glyph"==t.glyphs[n].type&&(r=t.glyphs[n]))}else r=t.glyphs[n];return null==r&&(r=t.missingGlyph),r},this.renderChildren=function(e){var i=this.parent.style("font-family").getDefinition();if(null==i)""!=e.fillStyle&&e.fillText(t.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(t.compressSpaces(this.getText()),this.x,this.y);else{var n=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),r=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle),a=this.getText();i.isRTL&&(a=a.split("").reverse().join(""));for(var s=t.ToNumberArray(this.parent.attribute("dx").value),o=0;o<a.length;o++){var h=this.getGlyph(i,a,o),l=n/i.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(l,-l);var c=e.lineWidth;e.lineWidth=e.lineWidth*i.fontFace.unitsPerEm/n,"italic"==r&&e.transform(1,0,.4,1,0,0),h.render(e),"italic"==r&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/l,-1/l),e.translate(-this.x,-this.y),this.x+=n*(h.horizAdvX||i.horizAdvX)/i.fontFace.unitsPerEm,"undefined"==typeof s[o]||isNaN(s[o])||(this.x+=s[o])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),i=0;i<this.children.length;i++)e+=this.children[i].measureTextRecursive(t);return e},this.measureText=function(e){var i=this.parent.style("font-family").getDefinition();if(null!=i){var n=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),r=0,a=this.getText();i.isRTL&&(a=a.split("").reverse().join(""));for(var s=t.ToNumberArray(this.parent.attribute("dx").value),o=0;o<a.length;o++){var h=this.getGlyph(i,a,o);r+=(h.horizAdvX||i.horizAdvX)*n/i.fontFace.unitsPerEm,"undefined"==typeof s[o]||isNaN(s[o])||(r+=s[o])}return r}var l=t.compressSpaces(this.getText());if(!e.measureText)return 10*l.length;e.save(),this.setContext(e);var c=e.measureText(l).width;return e.restore(),c}},t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase,t.Element.tspan=function(e){this.captureTextNodes=!0,this.base=t.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},t.Element.tspan.prototype=new t.Element.TextElementBase,t.Element.tref=function(e){this.base=t.Element.TextElementBase,this.base(e),this.getText=function(){var t=this.getHrefAttribute().getDefinition();return null!=t?t.children[0].getText():void 0}},t.Element.tref.prototype=new t.Element.TextElementBase,t.Element.a=function(e){this.base=t.Element.TextElementBase,this.base(e),this.hasText=!0;for(var i=0;i<e.childNodes.length;i++)3!=e.childNodes[i].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var i=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-i.toPixels("y"),this.x+this.measureText(e),this.y))}else{var n=new t.Element.g;n.children=this.children,n.parent=this,n.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}},t.Element.a.prototype=new t.Element.TextElementBase,t.Element.image=function(e){this.base=t.Element.RenderedElementBase,this.base(e);var i=this.getHrefAttribute().value,n=i.match(/\.svg$/);if(t.Images.push(this),this.loaded=!1,n)this.img=t.ajax(i),this.loaded=!0;else{this.img=document.createElement("img");var r=this;this.img.onload=function(){r.loaded=!0},this.img.onerror=function(){"undefined"!=typeof console&&(console.log('ERROR: image "'+i+'" not found'),r.loaded=!0)},this.img.src=i}this.renderChildren=function(e){var i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");0!=a&&0!=s&&(e.save(),n?e.drawSvg(this.img,i,r,a,s):(e.translate(i,r),t.AspectRatio(e,this.attribute("preserveAspectRatio").value,a,this.img.width,s,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");return new t.BoundingBox(e,i,e+n,i+r)}},t.Element.image.prototype=new t.Element.RenderedElementBase,t.Element.g=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new t.BoundingBox,i=0;i<this.children.length;i++)e.addBoundingBox(this.children[i].getBoundingBox());return e}},t.Element.g.prototype=new t.Element.RenderedElementBase,t.Element.symbol=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){if(this.baseSetContext(e),this.attribute("viewBox").hasValue()){var i=t.ToNumberArray(this.attribute("viewBox").value),n=i[0],r=i[1];width=i[2],height=i[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,n,r),t.ViewPort.SetCurrent(i[2],i[3])}}},t.Element.symbol.prototype=new t.Element.RenderedElementBase,t.Element.style=function(e){this.base=t.Element.ElementBase,this.base(e);for(var i="",n=0;n<e.childNodes.length;n++)i+=e.childNodes[n].nodeValue;i=i.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),i=t.compressSpaces(i);for(var r=i.split("}"),n=0;n<r.length;n++)if(""!=t.trim(r[n]))for(var a=r[n].split("{"),s=a[0].split(","),o=a[1].split(";"),h=0;h<s.length;h++){var l=t.trim(s[h]);if(""!=l){for(var c={},u=0;u<o.length;u++){var d=o[u].indexOf(":"),f=o[u].substr(0,d),p=o[u].substr(d+1,o[u].length-d);null!=f&&null!=p&&(c[t.trim(f)]=new t.Property(t.trim(f),t.trim(p)))}if(t.Styles[l]=c,"@font-face"==l)for(var m=c["font-family"].value.replace(/"/g,""),g=c.src.value.split(","),v=0;v<g.length;v++)if(g[v].indexOf('format("svg")')>0)for(var y=g[v].indexOf("url"),b=g[v].indexOf(")",y),C=g[v].substr(y+5,b-y-6),x=t.parseXml(t.ajax(C)),A=x.getElementsByTagName("font"),w=0;w<A.length;w++){var S=t.CreateElement(A[w]);t.Definitions[m]=S}}}},t.Element.style.prototype=new t.Element.ElementBase,t.Element.use=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var t=this.getHrefAttribute().getDefinition();return this.attribute("width").hasValue()&&(t.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(t.attribute("height",!0).value=this.attribute("height").value),t},this.path=function(t){var e=this.getDefinition();null!=e&&e.path(t)},this.getBoundingBox=function(){var t=this.getDefinition();return null!=t?t.getBoundingBox():void 0},this.renderChildren=function(t){var e=this.getDefinition();if(null!=e){var i=e.parent;e.parent=null,e.render(t),e.parent=i}}},t.Element.use.prototype=new t.Element.RenderedElementBase,t.Element.mask=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,i){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");if(0==a&&0==s){for(var o=new t.BoundingBox,h=0;h<this.children.length;h++)o.addBoundingBox(this.children[h].getBoundingBox());var n=Math.floor(o.x1),r=Math.floor(o.y1),a=Math.floor(o.width()),s=Math.floor(o.height())}var l=i.attribute("mask").value;i.attribute("mask").value="";var c=document.createElement("canvas");c.width=n+a,c.height=r+s;var u=c.getContext("2d");this.renderChildren(u);var d=document.createElement("canvas");d.width=n+a,d.height=r+s;var f=d.getContext("2d");i.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=u.createPattern(c,"no-repeat"),f.fillRect(0,0,n+a,r+s),e.fillStyle=f.createPattern(d,"no-repeat"),e.fillRect(0,0,n+a,r+s),i.attribute("mask").value=l},this.render=function(){}},t.Element.mask.prototype=new t.Element.ElementBase,t.Element.clipPath=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e){for(var i=0;i<this.children.length;i++){var n=this.children[i];if("undefined"!=typeof n.path){var r=null;n.attribute("transform").hasValue()&&(r=new t.Transform(n.attribute("transform").value),r.apply(e)),n.path(e),e.clip(),r&&r.unapply(e)}}},this.render=function(){}},t.Element.clipPath.prototype=new t.Element.ElementBase,t.Element.filter=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e){var i=e.getBoundingBox(),n=Math.floor(i.x1),r=Math.floor(i.y1),a=Math.floor(i.width()),s=Math.floor(i.height()),o=e.style("filter").value;e.style("filter").value="";for(var h=0,l=0,c=0;c<this.children.length;c++){var u=this.children[c].extraFilterDistance||0;h=Math.max(h,u),l=Math.max(l,u)}var d=document.createElement("canvas");d.width=a+2*h,d.height=s+2*l;var f=d.getContext("2d");f.translate(-n+h,-r+l),e.render(f);for(var c=0;c<this.children.length;c++)this.children[c].apply(f,0,0,a+2*h,s+2*l);t.drawImage(d,0,0,a+2*h,s+2*l,n-h,r-l,a+2*h,s+2*l),e.style("filter",!0).value=o},this.render=function(){}},t.Element.filter.prototype=new t.Element.ElementBase,t.Element.feMorphology=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(){}},t.Element.feMorphology.prototype=new t.Element.ElementBase,t.Element.feColorMatrix=function(e){function i(t,e,i,n,r,a){return t[i*n*4+4*e+a]}function n(t,e,i,n,r,a,s){t[i*n*4+4*e+a]=s}this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,r,a,s){for(var o=t.getImageData(0,0,a,s),r=0;s>r;r++)for(var e=0;a>e;e++){var h=i(o.data,e,r,a,s,0),l=i(o.data,e,r,a,s,1),c=i(o.data,e,r,a,s,2),u=(h+l+c)/3;n(o.data,e,r,a,s,0,u),n(o.data,e,r,a,s,1,u),n(o.data,e,r,a,s,2,u)}t.clearRect(0,0,a,s),t.putImageData(o,0,0)}},t.Element.feColorMatrix.prototype=new t.Element.ElementBase,t.Element.feGaussianBlur=function(e){this.base=t.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,i,n,r,a){return"undefined"==typeof stackBlurCanvasRGBA?("undefined"!=typeof console&&console.log("ERROR: StackBlur.js must be included for blur to work"),void 0):(e.canvas.id=t.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),stackBlurCanvasRGBA(e.canvas.id,i,n,r,a,this.blurRadius),document.body.removeChild(e.canvas),void 0)}},t.Element.feGaussianBlur.prototype=new t.Element.ElementBase,t.Element.title=function(){},t.Element.title.prototype=new t.Element.ElementBase,t.Element.desc=function(){},t.Element.desc.prototype=new t.Element.ElementBase,t.Element.MISSING=function(t){"undefined"!=typeof console&&console.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},t.Element.MISSING.prototype=new t.Element.ElementBase,t.CreateElement=function(e){var i=e.nodeName.replace(/^[^:]+:/,"");i=i.replace(/\-/g,"");var n=null;return n="undefined"!=typeof t.Element[i]?new t.Element[i](e):new t.Element.MISSING(e),n.type=e.nodeName,n},t.load=function(e,i){t.loadXml(e,t.ajax(i))},t.loadXml=function(e,i){t.loadXmlDoc(e,t.parseXml(i))},t.loadXmlDoc=function(e,i){t.init(e);var n=function(t){for(var i=e.canvas;i;)t.x-=i.offsetLeft,t.y-=i.offsetTop,i=i.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=t.opts.ignoreMouse&&(e.canvas.onclick=function(e){var i=n(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onclick(i.x,i.y)},e.canvas.onmousemove=function(e){var i=n(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onmousemove(i.x,i.y)});var r=t.CreateElement(i.documentElement);r.root=!0;var a=!0,s=function(){t.ViewPort.Clear(),e.canvas.parentNode&&t.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=t.opts.ignoreDimensions&&(r.style("width").hasValue()&&(e.canvas.width=r.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),r.style("height").hasValue()&&(e.canvas.height=r.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var n=e.canvas.clientWidth||e.canvas.width,s=e.canvas.clientHeight||e.canvas.height;if(1==t.opts.ignoreDimensions&&r.style("width").hasValue()&&r.style("height").hasValue()&&(n=r.style("width").toPixels("x"),s=r.style("height").toPixels("y")),t.ViewPort.SetCurrent(n,s),null!=t.opts.offsetX&&(r.attribute("x",!0).value=t.opts.offsetX),null!=t.opts.offsetY&&(r.attribute("y",!0).value=t.opts.offsetY),null!=t.opts.scaleWidth&&null!=t.opts.scaleHeight){var o=1,h=1,l=t.ToNumberArray(r.attribute("viewBox").value);r.attribute("width").hasValue()?o=r.attribute("width").toPixels("x")/t.opts.scaleWidth:isNaN(l[2])||(o=l[2]/t.opts.scaleWidth),r.attribute("height").hasValue()?h=r.attribute("height").toPixels("y")/t.opts.scaleHeight:isNaN(l[3])||(h=l[3]/t.opts.scaleHeight),r.attribute("width",!0).value=t.opts.scaleWidth,r.attribute("height",!0).value=t.opts.scaleHeight,r.attribute("viewBox",!0).value="0 0 "+n*o+" "+s*h,r.attribute("preserveAspectRatio",!0).value="none"}1!=t.opts.ignoreClear&&e.clearRect(0,0,n,s),r.render(e),a&&(a=!1,"function"==typeof t.opts.renderCallback&&t.opts.renderCallback(i))},o=!0;t.ImagesLoaded()&&(o=!1,s()),t.intervalID=setInterval(function(){var e=!1;if(o&&t.ImagesLoaded()&&(o=!1,e=!0),1!=t.opts.ignoreMouse&&(e|=t.Mouse.hasEvents()),1!=t.opts.ignoreAnimation)for(var i=0;i<t.Animations.length;i++)e|=t.Animations[i].update(1e3/t.FRAMERATE);"function"==typeof t.opts.forceRedraw&&1==t.opts.forceRedraw()&&(e=!0),e&&(s(),t.Mouse.runEvents())},1e3/t.FRAMERATE)},t.stop=function(){t.intervalID&&clearInterval(t.intervalID)},t.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var i=0;i<this.events.length;i++){var n=this.events[i];e.isPointInPath&&e.isPointInPath(n.x,n.y)&&(this.eventElements[i]=t)}},this.checkBoundingBox=function(t,e){for(var i=0;i<this.events.length;i++){var n=this.events[i];e.isPointInBox(n.x,n.y)&&(this.eventElements[i]=t)}},this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var i=this.events[e],n=this.eventElements[e];n;)i.run(n),n=n.parent;this.events=[],this.eventElements=[]}},t}this.canvg=function(e,i,n){if(null!=e||null!=i||null!=n){n=n||{},"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var r=t();(1!=e.childNodes.length||"OBJECT"!=e.childNodes[0].nodeName)&&(e.svg=r),r.opts=n;var a=e.getContext("2d");"undefined"!=typeof i.documentElement?r.loadXmlDoc(a,i):"<"==i.substr(0,1)?r.loadXml(a,i):r.load(a,i)}else for(var s=document.getElementsByTagName("svg"),o=0;o<s.length;o++){var h=s[o],l=document.createElement("canvas");l.width=h.clientWidth,l.height=h.clientHeight,h.parentNode.insertBefore(l,h),h.parentNode.removeChild(h);var c=document.createElement("div");c.appendChild(h),canvg(l,c.innerHTML)}}}(),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,i,n,r){canvg(this.canvas,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:i,scaleWidth:n,scaleHeight:r})});var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=t.URL||t.webkitURL||t,r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),a=!t.externalHost&&"download"in r,s=t.webkitRequestFileSystem,o=t.requestFileSystem||s||t.mozRequestFileSystem,h=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",c=0,u=[],d=function(){for(var t=u.length;t--;){var e=u[t];
"string"==typeof e?n.revokeObjectURL(e):e.remove()}u.length=0},f=function(t,e,i){e=[].concat(e);for(var n=e.length;n--;){var r=t["on"+e[n]];if("function"==typeof r)try{r.call(t,i||t)}catch(a){h(a)}}},p=function(n,h){var d,p,m,g=this,v=n.type,y=!1,b=function(){var t=i().createObjectURL(n);return u.push(t),t},C=function(){f(g,"writestart progress write writeend".split(" "))},x=function(){(y||!d)&&(d=b(n)),p?p.location.href=d:window.open(d,"_blank"),g.readyState=g.DONE,C()},A=function(t){return function(){return g.readyState!==g.DONE?t.apply(this,arguments):void 0}},w={create:!0,exclusive:!1};if(g.readyState=g.INIT,h||(h="download"),a){d=b(n),e=t.document,r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r.href=d,r.download=h;var S=e.createEvent("MouseEvents");return S.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(S),g.readyState=g.DONE,C(),void 0}return t.chrome&&v&&v!==l&&(m=n.slice||n.webkitSlice,n=m.call(n,0,n.size,l),y=!0),s&&"download"!==h&&(h+=".download"),(v===l||s)&&(p=t),o?(c+=n.size,o(t.TEMPORARY,c,A(function(t){t.root.getDirectory("saved",w,A(function(t){var e=function(){t.getFile(h,w,A(function(t){t.createWriter(A(function(e){e.onwriteend=function(e){p.location.href=t.toURL(),u.push(t),g.readyState=g.DONE,f(g,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=g["on"+t]}),e.write(n),g.abort=function(){e.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),x)}),x)};t.getFile(h,{create:!1},A(function(t){t.remove(),e()}),A(function(t){t.code===t.NOT_FOUND_ERR?e():x()}))}),x)}),x),void 0):(x(),void 0)},m=p.prototype,g=function(t,e){return new p(t,e)};return m.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,t.addEventListener("unload",d,!1),g}(this.self||this.window||this.content);"undefined"!=typeof module&&(module.exports=saveAs);/** @preserve jsPDF 0.9.0rc2 ( ${buildDate} ${commitID} )
Copyright (c) 2010-2012 James Hall, james@snapshotmedia.co.uk, https://github.com/MrRio/jsPDF
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
MIT license.
*/
/*
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
var jsPDF=function(){"use strict";function t(n,r,a,s){n="undefined"==typeof n?"p":n.toString().toLowerCase(),"undefined"==typeof r&&(r="mm"),"undefined"==typeof a&&(a="a4"),"undefined"==typeof s&&"undefined"==typeof zpipe&&(s=!1);var o,h,l,c,u,d,f,p,m,g=a.toString().toLowerCase(),v="0.9.0rc2",y=[],b=0,C=s,x="1.3",A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224]},w="0 g",S="0 G",T=0,N=[],E=2,D=!1,k=[],M={},R={},B=16,O=.200025,P=1.15,L={title:"",subject:"",author:"",keywords:"",creator:""},F=0,I=0,z={},_=new i(z),H=function(t){return t.toFixed(2)},V=function(t){return t.toFixed(3)},W=function(t){var e=t.toFixed(0);return 10>t?"0"+e:e},j=function(t){var e=t.toFixed(0);return e.length<10?new Array(11-e.length).join("0")+e:e},G=function(t){D?N[T].push(t):(y.push(t),b+=t.length+1)},Y=function(){return E++,k[E]=b,G(E+" 0 obj"),E},X=function(t){G("stream"),G(t),G("endstream")},U=function(){f=l*c,p=h*c;var t,e,i,n,r,a;for(t=1;T>=t;t++){if(Y(),G("<</Type /Page"),G("/Parent 1 0 R"),G("/Resources 2 0 R"),G("/Contents "+(E+1)+" 0 R>>"),G("endobj"),e=N[t].join("\n"),Y(),C){for(i=[],n=0;n<e.length;++n)i[n]=e.charCodeAt(n);a=adler32cs.from(e),r=new Deflater(6),r.append(new Uint8Array(i)),e=r.flush(),i=[new Uint8Array([120,156]),new Uint8Array(e),new Uint8Array([255&a,a>>8&255,a>>16&255,a>>24&255])],e="";for(n in i)i.hasOwnProperty(n)&&(e+=String.fromCharCode.apply(null,i[n]));G("<</Length "+e.length+" /Filter [/FlateDecode]>>")}else G("<</Length "+e.length+">>");X(e),G("endobj")}for(k[1]=b,G("1 0 obj"),G("<</Type /Pages"),m="/Kids [",n=0;T>n;n++)m+=3+2*n+" 0 R ";G(m+"]"),G("/Count "+T),G("/MediaBox [0 0 "+H(f)+" "+H(p)+"]"),G(">>"),G("endobj")},q=function(t){t.objectNumber=Y(),G("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&G("/Encoding/"+t.encoding),G("/Subtype/Type1>>"),G("endobj")},$=function(){var t;for(t in M)M.hasOwnProperty(t)&&q(M[t])},Z=function(){_.publish("putXobjectDict")},K=function(){G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),G("/Font <<");var t;for(t in M)M.hasOwnProperty(t)&&G("/"+t+" "+M[t].objectNumber+" 0 R");G(">>"),G("/XObject <<"),Z(),G(">>")},Q=function(){$(),_.publish("putResources"),k[2]=b,G("2 0 obj"),G("<<"),K(),G(">>"),G("endobj"),_.publish("postPutResources")},J=function(t,e,i){var n;R[e]===n&&(R[e]={}),R[e][i]=t},te=function(t,i,n,r){var a="F"+(e(M)+1).toString(10),s=M[a]={id:a,PostScriptName:t,fontName:i,fontStyle:n,encoding:r,metadata:{}};return J(a,i,n),_.publish("addFont",s),a},ee=function(){var t,e,i,n,r="helvetica",a="times",s="courier",o="normal",h="bold",l="italic",c="bolditalic",u="StandardEncoding",d=[["Helvetica",r,o],["Helvetica-Bold",r,h],["Helvetica-Oblique",r,l],["Helvetica-BoldOblique",r,c],["Courier",s,o],["Courier-Bold",s,h],["Courier-Oblique",s,l],["Courier-BoldOblique",s,c],["Times-Roman",a,o],["Times-Bold",a,h],["Times-Italic",a,l],["Times-BoldItalic",a,c]];for(t=0,e=d.length;e>t;t++)i=te(d[t][0],d[t][1],d[t][2],u),n=d[t][0].split("-"),J(i,n[0],n[1]||"");_.publish("addFonts",{fonts:M,dictionary:R})},ie=function(t,e){var i,n,r,a,s,h,l,c,u,d;if(e===r&&(e={}),a=e.sourceEncoding?a:"Unicode",h=e.outputEncoding,(e.autoencode||h)&&M[o].metadata&&M[o].metadata[a]&&M[o].metadata[a].encoding&&(s=M[o].metadata[a].encoding,!h&&M[o].encoding&&(h=M[o].encoding),!h&&s.codePages&&(h=s.codePages[0]),"string"==typeof h&&(h=s[h]),h)){for(c=!1,l=[],i=0,n=t.length;n>i;i++)u=h[t.charCodeAt(i)],u?l.push(String.fromCharCode(u)):l.push(t[i]),l[i].charCodeAt(0)>>8&&(c=!0);t=l.join("")}for(i=t.length;c===r&&0!==i;)t.charCodeAt(i-1)>>8&&(c=!0),i--;if(c){for(l=e.noBOM?[]:[254,255],i=0,n=t.length;n>i;i++){if(u=t.charCodeAt(i),d=u>>8,d>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");l.push(d),l.push(u-(d<<8))}return String.fromCharCode.apply(r,l)}return t},ne=function(t,e){return ie(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},re=function(){G("/Producer (jsPDF "+v+")"),L.title&&G("/Title ("+ne(L.title)+")"),L.subject&&G("/Subject ("+ne(L.subject)+")"),L.author&&G("/Author ("+ne(L.author)+")"),L.keywords&&G("/Keywords ("+ne(L.keywords)+")"),L.creator&&G("/Creator ("+ne(L.creator)+")");var t=new Date;G("/CreationDate (D:"+[t.getFullYear(),W(t.getMonth()+1),W(t.getDate()),W(t.getHours()),W(t.getMinutes()),W(t.getSeconds())].join("")+")")},ae=function(){G("/Type /Catalog"),G("/Pages 1 0 R"),G("/OpenAction [3 0 R /FitH null]"),G("/PageLayout /OneColumn"),_.publish("putCatalog")},se=function(){G("/Size "+(E+1)),G("/Root "+E+" 0 R"),G("/Info "+(E-1)+" 0 R")},oe=function(){T++,D=!0,N[T]=[]},he=function(){oe(),G(H(O*c)+" w"),G(S),0!==F&&G(F.toString(10)+" J"),0!==I&&G(I.toString(10)+" j"),_.publish("addPage",{pageNumber:T})},le=function(t,e){var i,n;t===n&&(t=M[o].fontName),e===n&&(e=M[o].fontStyle);try{i=R[t][e]}catch(r){i=n}if(!i)throw new Error("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts.");return i},ce=function(){D=!1,y=[],k=[],G("%PDF-"+x),U(),Q(),Y(),G("<<"),re(),G(">>"),G("endobj"),Y(),G("<<"),ae(),G(">>"),G("endobj");var t,e=b;for(G("xref"),G("0 "+(E+1)),G("0000000000 65535 f "),t=1;E>=t;t++)G(j(k[t])+" 00000 n ");return G("trailer"),G("<<"),se(),G(">>"),G("startxref"),G(e),G("%%EOF"),D=!0,y.join("\n")},ue=function(t){var e="S";return"F"===t?e="f":("FD"===t||"DF"===t)&&(e="B"),e},de=function(t,e){var i,n,r,a,s,o;switch(t){case i:return ce();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return z.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return z.output("dataurlnewwindow")}for(n=ce(),r=n.length,a=new Uint8Array(new ArrayBuffer(r)),s=0;r>s;s++)a[s]=n.charCodeAt(s);o=new Blob([a],{type:"application/pdf"}),saveAs(o,e);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(ce());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(ce());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(ce()));break;default:throw new Error('Output type "'+t+'" is not supported.')}};if("pt"===r)c=1;else if("mm"===r)c=72/25.4;else if("cm"===r)c=72/2.54;else{if("in"!==r)throw"Invalid unit: "+r;c=72}if(A.hasOwnProperty(g))h=A[g][1]/c,l=A[g][0]/c;else try{h=a[1],l=a[0]}catch(fe){throw"Invalid format: "+a}if("p"===n||"portrait"===n)n="p",l>h&&(u=l,l=h,h=u);else{if("l"!==n&&"landscape"!==n)throw"Invalid orientation: "+n;n="l",h>l&&(u=l,l=h,h=u)}z.internal={pdfEscape:ne,getStyle:ue,getFont:function(){return M[le.apply(z,arguments)]},getFontSize:function(){return B},getLineHeight:function(){return B*P},btoa:btoa,write:function(t){G(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return H(t*c)},getVerticalCoordinateString:function(t){return H((h-t)*c)},collections:{},newObject:Y,putStream:X,events:_,scaleFactor:c,pageSize:{width:l,height:h},output:function(t,e){return de(t,e)},getNumberOfPages:function(){return N.length-1},pages:N},z.addPage=function(){return he(),this},z.text=function(t,e,i,n){var r,a,s,l,u,d,f;if("number"==typeof t&&(a=i,s=t,l=e,t=a,e=s,i=l),"string"==typeof t&&t.match(/[\n\r]/)&&(t=t.split(/\r\n|\r|\n/g)),"undefined"==typeof n?n={noBOM:!0,autoencode:!0}:(n.noBOM===r&&(n.noBOM=!0),n.autoencode===r&&(n.autoencode=!0)),"string"==typeof t)d=ne(t,n);else{if(!(t instanceof Array))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(u=t.concat(),f=u.length-1;-1!==f;f--)u[f]=ne(u[f],n);d=u.join(") Tj\nT* (")}return G("BT\n/"+o+" "+B+" Tf\n"+B*P+" TL\n"+w+"\n"+H(e*c)+" "+H((h-i)*c)+" Td\n("+d+") Tj\nET"),this},z.line=function(t,e,i,n){return G(H(t*c)+" "+H((h-e)*c)+" m "+H(i*c)+" "+H((h-n)*c)+" l S"),this},z.lines=function(t,e,i,n,r,a){var s,o,l,u,d,f,p,m,g,v,y,b,C,x,A;for("number"==typeof t&&(o=i,l=t,u=e,t=o,e=l,i=u),r=ue(r),n=n===s?[1,1]:n,G(V(e*c)+" "+V((h-i)*c)+" m "),d=n[0],f=n[1],m=t.length,x=e,A=i,p=0;m>p;p++)g=t[p],2===g.length?(x=g[0]*d+x,A=g[1]*f+A,G(V(x*c)+" "+V((h-A)*c)+" l")):(v=g[0]*d+x,y=g[1]*f+A,b=g[2]*d+x,C=g[3]*f+A,x=g[4]*d+x,A=g[5]*f+A,G(V(v*c)+" "+V((h-y)*c)+" "+V(b*c)+" "+V((h-C)*c)+" "+V(x*c)+" "+V((h-A)*c)+" c"));return 1==a&&G(" h"),G(r),this},z.rect=function(t,e,i,n,r){var a=ue(r);return G([H(t*c),H((h-e)*c),H(i*c),H(-n*c),"re",a].join(" ")),this},z.triangle=function(t,e,i,n,r,a,s){return this.lines([[i-t,n-e],[r-i,a-n],[t-r,e-a]],t,e,[1,1],s,!0),this},z.roundedRect=function(t,e,i,n,r,a,s){var o=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*o,0,r,a-a*o,r,a],[0,n-2*a],[0,a*o,-(r*o),a,-r,a],[-i+2*r,0],[-(r*o),0,-r,-(a*o),-r,-a],[0,-n+2*a],[0,-(a*o),r*o,-a,r,-a]],t+r,e,[1,1],s),this},z.ellipse=function(t,e,i,n,r){var a=ue(r),s=4/3*(Math.SQRT2-1)*i,o=4/3*(Math.SQRT2-1)*n;return G([H((t+i)*c),H((h-e)*c),"m",H((t+i)*c),H((h-(e-o))*c),H((t+s)*c),H((h-(e-n))*c),H(t*c),H((h-(e-n))*c),"c"].join(" ")),G([H((t-s)*c),H((h-(e-n))*c),H((t-i)*c),H((h-(e-o))*c),H((t-i)*c),H((h-e)*c),"c"].join(" ")),G([H((t-i)*c),H((h-(e+o))*c),H((t-s)*c),H((h-(e+n))*c),H(t*c),H((h-(e+n))*c),"c"].join(" ")),G([H((t+s)*c),H((h-(e+n))*c),H((t+i)*c),H((h-(e+o))*c),H((t+i)*c),H((h-e)*c),"c",a].join(" ")),this},z.circle=function(t,e,i,n){return this.ellipse(t,e,i,i,n)},z.setProperties=function(t){var e;for(e in L)L.hasOwnProperty(e)&&t[e]&&(L[e]=t[e]);return this},z.setFontSize=function(t){return B=t,this},z.setFont=function(t,e){return o=le(t,e),this},z.setFontStyle=z.setFontType=function(t){var e;return o=le(e,t),this},z.getFontList=function(){var t,e,i,n={};for(t in R)if(R.hasOwnProperty(t)){n[t]=i=[];for(e in R[t])R[t].hasOwnProperty(e)&&i.push(e)}return n},z.setLineWidth=function(t){return G((t*c).toFixed(2)+" w"),this},z.setDrawColor=function(t,e,i,n){var r;return r=void 0===e||void 0===n&&t===e===i?"string"==typeof t?t+" G":H(t/255)+" G":void 0===n?"string"==typeof t?[t,e,i,"RG"].join(" "):[H(t/255),H(e/255),H(i/255),"RG"].join(" "):"string"==typeof t?[t,e,i,n,"K"].join(" "):[H(t),H(e),H(i),H(n),"K"].join(" "),G(r),this},z.setFillColor=function(t,e,i,n){var r;return r=void 0===e||void 0===n&&t===e===i?"string"==typeof t?t+" g":H(t/255)+" g":void 0===n?"string"==typeof t?[t,e,i,"rg"].join(" "):[H(t/255),H(e/255),H(i/255),"rg"].join(" "):"string"==typeof t?[t,e,i,n,"k"].join(" "):[H(t),H(e),H(i),H(n),"k"].join(" "),G(r),this},z.setTextColor=function(t,e,i){var n=/#[0-9A-Fa-f]{6}/;if("string"==typeof t&&n.test(t)){var r=t.replace("#",""),a=parseInt(r,16);t=a>>16&255,e=a>>8&255,i=255&a}return w=0===t&&0===e&&0===i||"undefined"==typeof e?V(t/255)+" g":[V(t/255),V(e/255),V(i/255),"rg"].join(" "),this},z.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},z.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return F=e,G(e.toString(10)+" J"),this},z.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return I=e,G(e.toString(10)+" j"),this},z.output=de,z.save=function(t){z.output("save",t)};for(d in t.API)t.API.hasOwnProperty(d)&&("events"===d&&t.API.events.length?!function(t,e){var i,n,r;for(r=e.length-1;-1!==r;r--)i=e[r][0],n=e[r][1],t.subscribe.apply(t,[i].concat("function"==typeof n?[n]:n))}(_,t.API.events):z[d]=t.API[d]);return ee(),o="F1",he(),_.publish("initialized"),z}"undefined"==typeof btoa&&(window.btoa=function(t){var e,i,n,r,a,s,o,h,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=c.split(""),d=0,f=0,p="",m=[];do e=t.charCodeAt(d++),i=t.charCodeAt(d++),n=t.charCodeAt(d++),h=e<<16|i<<8|n,r=h>>18&63,a=h>>12&63,s=h>>6&63,o=63&h,m[f++]=u[r]+u[a]+u[s]+u[o];while(d<t.length);return p=m.join(""),l=t.length%3,(l?p.slice(0,l-3):p)+"===".slice(l||3)}),"undefined"==typeof atob&&(window.atob=function(t){var e,i,n,r,a,s,o,h,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,u=0,d="",f=[];if(!t)return t;t+="";do r=l.indexOf(t.charAt(c++)),a=l.indexOf(t.charAt(c++)),s=l.indexOf(t.charAt(c++)),o=l.indexOf(t.charAt(c++)),h=r<<18|a<<12|s<<6|o,e=h>>16&255,i=h>>8&255,n=255&h,f[u++]=64===s?String.fromCharCode(e):64===o?String.fromCharCode(e,i):String.fromCharCode(e,i,n);while(c<t.length);return d=f.join("")});var e="function"==typeof Object.keys?function(t){return Object.keys(t).length}:function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i},i=function(t){this.topics={},this.context=t,this.publish=function(t,e){if(this.topics[t]){var i,n,r,a,s=this.topics[t],o=[],h=function(){};for(e=Array.prototype.slice.call(arguments,1),n=0,r=s.length;r>n;n++)a=s[n],i=a[0],a[1]&&(a[0]=h,o.push(n)),i.apply(this.context,e);for(n=0,r=o.length;r>n;n++)s.splice(o[n],1)}},this.subscribe=function(t,e,i){return this.topics[t]?this.topics[t].push([e,i]):this.topics[t]=[[e,i]],{topic:t,callback:e}},this.unsubscribe=function(t){if(this.topics[t.topic]){var e,i,n=this.topics[t.topic];for(e=0,i=n.length;i>e;e++)n[e][0]===t.callback&&n.splice(e,1)}}};return t.API={events:[]},t}();!function(t){"use strict";var e="addImage_",i=function(t){var e,i;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),r=4,a=t.length;a>r;){if(r+=n,255!==t.charCodeAt(r))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(r+1)||193===t.charCodeAt(r+1)||194===t.charCodeAt(r+1)||195===t.charCodeAt(r+1)||196===t.charCodeAt(r+1)||197===t.charCodeAt(r+1)||198===t.charCodeAt(r+1)||199===t.charCodeAt(r+1))return i=256*t.charCodeAt(r+5)+t.charCodeAt(r+6),e=256*t.charCodeAt(r+7)+t.charCodeAt(r+8),[e,i];r+=2,n=256*t.charCodeAt(r)+t.charCodeAt(r+1)}},n=function(t){var e=this.internal.newObject(),i=this.internal.write,n=this.internal.putStream;if(t.n=e,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+t.w),i("/Height "+t.h),"Indexed"===t.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+(e+1)+" 0 R]"):(i("/ColorSpace /"+t.cs),"DeviceCMYK"===t.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+t.bpc),"f"in t&&i("/Filter /"+t.f),"dp"in t&&i("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array)for(var r="",a=0;a<t.trns.length;a++)r+=t[r][a]+" "+t.trns[a]+" ",i("/Mask ["+r+"]");"smask"in t&&i("/SMask "+(e+1)+" 0 R"),i("/Length "+t.data.length+">>"),n(t.data),i("endobj")},r=function(){var t=this.internal.collections[e+"images"];for(var i in t)n.call(this,t[i])},a=function(){var t,i=this.internal.collections[e+"images"],n=this.internal.write;for(var r in i)t=i[r],n("/I"+t.i,t.n,"0","R")};t.addImage=function(t,n,s,o,h,l){if("object"==typeof t&&1===t.nodeType){var c=document.createElement("canvas");c.width=t.clientWidth,c.height=t.clientHeight;var u=c.getContext("2d");if(!u)throw"addImage requires canvas to be supported by browser.";u.drawImage(t,0,0,c.width,c.height),t=c.toDataURL("image/jpeg"),n="JPEG"}if("JPEG"!==n.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+n+"'");var d,f=this.internal.collections[e+"images"],p=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===t.substring(0,23)&&(t=atob(t.replace("data:image/jpeg;base64,",""))),f?d=Object.keys?Object.keys(f).length:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e}(f):(d=0,this.internal.collections[e+"images"]=f={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",a));var g=i(t),v={w:g[0],h:g[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:d,data:t};return f[d]=v,h||l||(h=-96,l=-96),0>h&&(h=-1*v.w*72/h/this.internal.scaleFactor),0>l&&(l=-1*v.h*72/l/this.internal.scaleFactor),0===h&&(h=l*v.w/v.h),0===l&&(l=h*v.h/v.w),this.internal.write("q",p(h),"0 0",p(l),p(s),m(o+l),"cm /I"+v.i,"Do Q"),this}}(jsPDF.API),AmCharts.AmFunnelChart=AmCharts.Class({inherits:AmCharts.AmSlicedChart,construct:function(t){this.type="funnel",AmCharts.AmFunnelChart.base.construct.call(this,t),this.cname="AmFunnelChart",this.startX=this.startY=0,this.baseWidth="100%",this.neckHeight=this.neckWidth=0,this.rotate=!1,this.valueRepresents="height",this.pullDistance=30,this.labelPosition="center",this.labelText="[[title]]: [[value]]",this.balloonText="[[title]]: [[value]]\n[[description]]",AmCharts.applyTheme(this,t,this.cname)},drawChart:function(){AmCharts.AmFunnelChart.base.drawChart.call(this);var t=this.chartData;if(AmCharts.ifArray(t))if(0<this.realWidth&&0<this.realHeight){var e=this.container,i=this.startDuration,n=this.rotate,r=this.updateWidth();this.realWidth=r;var a=this.updateHeight();this.realHeight=a;var s=AmCharts.toCoordinate,o=s(this.marginLeft,r),h=s(this.marginRight,r),l=s(this.marginTop,a)+this.getTitleHeight(),s=s(this.marginBottom,a),h=r-o-h,c=AmCharts.toCoordinate(this.baseWidth,h),u=AmCharts.toCoordinate(this.neckWidth,h),d=a-s-l,f=AmCharts.toCoordinate(this.neckHeight,d),p=l+d-f;n&&(l=a-s,p=l-d+f),this.firstSliceY=l,AmCharts.VML&&(this.startAlpha=1);for(var m=h/2+o,g=(d-f)/((c-u)/2),v=c/2,c=(d-f)*(c+u)/2+u*f,f=l,y=0,b=0;b<t.length;b++){var C=t[b];if(!0!==C.hidden){var x,A=[],w=[];if("height"==this.valueRepresents)x=d*C.percents/100;else{var S=-c*C.percents/100/2,T=v,N=-1/(2*g);x=Math.pow(T,2)-4*N*S,0>x&&(x=0),x=(Math.sqrt(x)-T)/(2*N),!n&&l>=p||n&&p>=l?x=2*-S/u:(!n&&l+x>p||n&&p>l-x)&&(N=n?Math.round(x+(l-x-p)):Math.round(x-(l+x-p)),x=N/g,x=N+2*(-S-(T-x/2)*N)/u)}if(S=v-x/g,T=!1,!n&&l+x>p||n&&p>l-x?(S=u/2,A.push(m-v,m+v,m+S,m+S,m-S,m-S),n?(N=x+(l-x-p),w.push(l,l,l-N,l-x,l-x,l-N,l)):(N=x-(l+x-p),w.push(l,l,l+N,l+x,l+x,l+N,l)),T=!0):(A.push(m-v,m+v,m+S,m-S),n?w.push(l,l,l-x,l-x):w.push(l,l,l+x,l+x)),e.set(),N=e.set(),A=AmCharts.polygon(e,A,w,C.color,C.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha),N.push(A),this.graphsSet.push(N),C.wedge=N,C.index=b,w=this.gradientRatio){var E,D=[];for(E=0;E<w.length;E++)D.push(AmCharts.adjustLuminosity(C.color,w[E]));0<D.length&&A.gradient("linearGradient",D),C.pattern&&A.pattern(C.pattern)}i>0&&(A=this.startAlpha,this.chartCreated&&(A=C.alpha),N.setAttr("opacity",A)),this.addEventListeners(N,C),this.labelsEnabled&&this.labelText&&C.percents>=this.hideLabelsPercent&&(w=this.formatString(this.labelText,C),D=C.labelColor,D||(D=this.color),A=this.labelPosition,E="left","center"==A&&(E="middle"),"left"==A&&(E="right"),w=AmCharts.text(e,w,D,this.fontFamily,this.fontSize,E),N.push(w),D=m,n?(E=l-x/2,C.ty0=E):(E=l+x/2,C.ty0=E,f+y+5>E&&(E=f+y+5),E>a-s&&(E=a-s)),"right"==A&&(D=h+10+o,C.tx0=m+(v-x/2/g),T&&(C.tx0=m+S)),"left"==A&&(C.tx0=m-(v-x/2/g),T&&(C.tx0=m-S),D=o),C.label=w,C.labelX=D,C.labelY=E,C.labelHeight=w.getBBox().height,w.translate(D,E),(0===C.alpha||i>0&&!this.chartCreated)&&N.hide(),l=n?l-x:l+x,v=S,y=w.getBBox().height,f=E),C.startX=AmCharts.toCoordinate(this.startX,r),C.startY=AmCharts.toCoordinate(this.startY,a),C.pullX=AmCharts.toCoordinate(this.pullDistance,r),C.pullY=0,C.balloonX=m,C.balloonY=C.ty0}}this.arrangeLabels(),this.initialStart(),(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},arrangeLabels:function(){var t,e=this.rotate;t=e?0:this.realHeight;for(var i,n=0,r=this.chartData,a=r.length,s=0;a>s;s++){i=r[a-s-1];var o=i.label,h=i.labelY,l=i.labelX,c=i.labelHeight,u=h;e?t+n+5>h&&(u=t+n+5):h+c+5>t&&(u=t-5-c),t=u,n=c,o.translate(l,u),i.labelY=u,i.tx=l,i.ty=u,i.tx2=l}"center"!=this.labelPosition&&this.drawTicks()}}),AmCharts.GaugeAxis=AmCharts.Class({construct:function(t){this.cname="GaugeAxis",this.radius="95%",this.startAngle=-120,this.endAngle=120,this.startValue=0,this.endValue=200,this.valueInterval=20,this.minorTickInterval=5,this.tickLength=10,this.minorTickLength=5,this.tickColor="#555555",this.labelFrequency=this.tickThickness=this.tickAlpha=1,this.inside=!0,this.labelOffset=15,this.showLastLabel=this.showFirstLabel=!0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridInside=!0,this.topTextYOffset=0,this.topTextBold=!0,this.bottomTextYOffset=0,this.bottomTextBold=!0,this.centerY=this.centerX="0%",this.bandOutlineAlpha=this.bandOutlineThickness=0,this.bandOutlineColor="#000000",this.bandAlpha=1,AmCharts.applyTheme(this,t,"GaugeAxis")},value2angle:function(t){return this.startAngle+this.singleValueAngle*t},setTopText:function(t){if(void 0!==t){this.topText=t;var e=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var i=this.topTextFontSize;i||(i=e.fontSize);var n=this.topTextColor;n||(n=e.color),t=AmCharts.text(e.container,t,n,e.fontFamily,i,void 0,this.topTextBold),t.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset),this.chart.graphsSet.push(t),this.topTF=t}}},setBottomText:function(t){if(void 0!==t){this.bottomText=t;var e=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var i=this.bottomTextFontSize;i||(i=e.fontSize);var n=this.bottomTextColor;n||(n=e.color),t=AmCharts.text(e.container,t,n,e.fontFamily,i,void 0,this.bottomTextBold),t.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset),this.bottomTF=t,this.chart.graphsSet.push(t)}}},draw:function(){var t=this.chart,e=t.graphsSet,i=this.startValue,n=this.valueInterval,r=this.startAngle,a=this.endAngle,s=this.tickLength,o=(this.endValue-i)/n+1,h=(a-r)/(o-1),l=h/n;this.singleValueAngle=l;var c=t.container,u=this.tickColor,d=this.tickAlpha,f=this.tickThickness,p=n/this.minorTickInterval,m=h/p,g=this.minorTickLength,v=this.labelFrequency,y=this.radiusReal;this.inside||(y-=15);var b=t.centerX+AmCharts.toCoordinate(this.centerX,t.realWidth),C=t.centerY+AmCharts.toCoordinate(this.centerY,t.realHeight);this.centerXReal=b,this.centerYReal=C;var x,A,w={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0};this.gridInside?A=x=y:(x=y-s,A=x+g);var S=this.axisThickness/2,a=AmCharts.wedge(c,b,C,r,a-r,x+S,x+S,x-S,0,w);for(e.push(a),a=AmCharts.doNothing,AmCharts.isModern||(a=Math.round),w=AmCharts.getDecimals(n),x=0;o>x;x++){var T=i+x*n,S=r+x*h,N=a(b+y*Math.sin(S/180*Math.PI)),E=a(C-y*Math.cos(S/180*Math.PI)),D=a(b+(y-s)*Math.sin(S/180*Math.PI)),k=a(C-(y-s)*Math.cos(S/180*Math.PI)),N=AmCharts.line(c,[N,D],[E,k],u,d,f,0,!1,!1,!0);if(e.push(N),E=this.labelOffset,this.inside||(E=-E-s),N=b+(y-s-E)*Math.sin(S/180*Math.PI),E=C-(y-s-E)*Math.cos(S/180*Math.PI),D=this.fontSize,isNaN(D)&&(D=t.fontSize),v>0&&x/v==Math.round(x/v)&&(this.showLastLabel||x!=o-1)&&(this.showFirstLabel||0!==x)&&(T=AmCharts.formatNumber(T,t.numberFormatter,w),(k=this.unit)&&(T="left"==this.unitPosition?k+T:T+k),T=AmCharts.text(c,T,t.color,t.fontFamily,D),T.translate(N,E),e.push(T)),o-1>x)for(T=1;p>T;T++)k=S+m*T,N=a(b+A*Math.sin(k/180*Math.PI)),E=a(C-A*Math.cos(k/180*Math.PI)),D=a(b+(A-g)*Math.sin(k/180*Math.PI)),k=a(C-(A-g)*Math.cos(k/180*Math.PI)),N=AmCharts.line(c,[N,D],[E,k],u,d,f,0,!1,!1,!0),e.push(N)}if(e=this.bands)for(i=0;i<e.length;i++)(n=e[i])&&(u=n.startValue,d=n.endValue,s=AmCharts.toCoordinate(n.radius,y),isNaN(s)&&(s=A),o=AmCharts.toCoordinate(n.innerRadius,y),isNaN(o)&&(o=s-g),h=r+l*u,d=l*(d-u),f=n.outlineColor,void 0==f&&(f=this.bandOutlineColor),p=n.outlineThickness,isNaN(p)&&(p=this.bandOutlineThickness),m=n.outlineAlpha,isNaN(m)&&(m=this.bandOutlineAlpha),u=n.alpha,isNaN(u)&&(u=this.bandAlpha),n=AmCharts.wedge(c,b,C,h,d,s,s,o,0,{fill:n.color,stroke:f,"stroke-width":p,"stroke-opacity":m}),n.setAttr("opacity",u),t.gridSet.push(n));this.axisCreated=!0,this.setTopText(this.topText),this.setBottomText(this.bottomText),t=t.graphsSet.getBBox(),this.width=t.width,this.height=t.height}}),AmCharts.GaugeArrow=AmCharts.Class({construct:function(t){this.cname="GaugeArrow",this.color="#000000",this.nailAlpha=this.alpha=1,this.startWidth=this.nailRadius=8,this.endWidth=0,this.borderAlpha=1,this.radius="90%",this.nailBorderAlpha=this.innerRadius=0,this.nailBorderThickness=1,this.frame=0,AmCharts.applyTheme(this,t,"GaugeArrow")},setValue:function(t){var e=this.chart;e?e.setValue(this,t):this.previousValue=this.value=t}}),AmCharts.GaugeBand=AmCharts.Class({construct:function(){this.cname="GaugeBand"}}),AmCharts.AmAngularGauge=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(t){this.cname="AmAngularGauge",AmCharts.AmAngularGauge.base.construct.call(this,t),this.theme=t,this.type="gauge",this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10,this.faceColor="#FAFAFA",this.faceAlpha=0,this.faceBorderWidth=1,this.faceBorderColor="#555555",this.faceBorderAlpha=0,this.arrows=[],this.axes=[],this.startDuration=1,this.startEffect="easeOutSine",this.adjustSize=!0,this.extraHeight=this.extraWidth=0,AmCharts.applyTheme(this,t,this.cname)},addAxis:function(t){this.axes.push(t)},formatString:function(t,e){return t=AmCharts.formatValue(t,e,["value"],this.numberFormatter,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){AmCharts.AmAngularGauge.base.initChart.call(this);var t;0===this.axes.length&&(t=new AmCharts.GaugeAxis(this.theme),this.addAxis(t));var e;for(e=0;e<this.axes.length;e++)t=this.axes[e],t=AmCharts.processObject(t,AmCharts.GaugeAxis,this.theme),t.chart=this,this.axes[e]=t;var i=this.arrows;for(e=0;e<i.length;e++){t=i[e],t=AmCharts.processObject(t,AmCharts.GaugeArrow,this.theme),t.chart=this,i[e]=t;var n=t.axis;AmCharts.isString(n)&&(t.axis=AmCharts.getObjById(this.axes,n)),t.axis||(t.axis=this.axes[0]),isNaN(t.value)&&t.setValue(t.axis.startValue),isNaN(t.previousValue)&&(t.previousValue=t.axis.startValue)}this.setLegendData(i),this.drawChart(),this.totalFrames=1e3*this.startDuration/AmCharts.updateRate},drawChart:function(){AmCharts.AmAngularGauge.base.drawChart.call(this);var t=this.container,e=this.updateWidth();this.realWidth=e;var i=this.updateHeight();this.realHeight=i;var n=AmCharts.toCoordinate,r=n(this.marginLeft,e),a=n(this.marginRight,e),s=n(this.marginTop,i)+this.getTitleHeight(),o=n(this.marginBottom,i),h=n(this.radius,e,i),n=e-r-a,l=i-s-o+this.extraHeight;h||(h=Math.min(n,l)/2),h<this.minRadius&&(h=this.minRadius),this.radiusReal=h,this.centerX=(e-r-a)/2+r,this.centerY=(i-s-o)/2+s+this.extraHeight/2,isNaN(this.gaugeX)||(this.centerX=this.gaugeX),isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var c,e=this.faceAlpha,i=this.faceBorderAlpha;for((e>0||i>0)&&(c=AmCharts.circle(t,h,this.faceColor,e,this.faceBorderWidth,this.faceBorderColor,i,!1),c.translate(this.centerX,this.centerY),c.toBack(),(t=this.facePattern)&&c.pattern(t)),e=h=t=0;e<this.axes.length;e++)i=this.axes[e],i.radiusReal=AmCharts.toCoordinate(i.radius,this.radiusReal),i.draw(),i.width>t&&(t=i.width),i.height>h&&(h=i.height);(e=this.legend)&&e.invalidateSize(),this.adjustSize&&!this.chartCreated&&(c&&(c=c.getBBox(),c.width>t&&(t=c.width),c.height>h&&(h=c.height)),c=0,(l>h||n>t)&&(c=Math.min(l-h,n-t)),c>0&&(this.extraHeight=l-h,this.chartCreated=!0,this.validateNow())),this.dispDUpd(),this.chartCreated=!0},validateSize:function(){this.extraHeight=this.extraWidth=0,this.chartCreated=!1,AmCharts.AmAngularGauge.base.validateSize.call(this)},addArrow:function(t){this.arrows.push(t)},removeArrow:function(t){AmCharts.removeFromArray(this.arrows,t),this.validateNow()},removeAxis:function(t){AmCharts.removeFromArray(this.axes,t),this.validateNow()},drawArrow:function(t,e){t.set&&t.set.remove();var i=this.container;if(t.set=i.set(),!t.hidden){var n=t.axis,r=n.radiusReal,a=n.centerXReal,s=n.centerYReal,o=t.startWidth,h=t.endWidth,l=AmCharts.toCoordinate(t.innerRadius,n.radiusReal),c=AmCharts.toCoordinate(t.radius,n.radiusReal);n.inside||(c-=15);var u=t.nailColor;u||(u=t.color);var d=t.nailColor;d||(d=t.color),u=AmCharts.circle(i,t.nailRadius,u,t.nailAlpha,t.nailBorderThickness,u,t.nailBorderAlpha),t.set.push(u),u.translate(a,s),isNaN(c)&&(c=r-n.tickLength);var n=Math.sin(e/180*Math.PI),r=Math.cos(e/180*Math.PI),u=Math.sin((e+90)/180*Math.PI),f=Math.cos((e+90)/180*Math.PI),i=AmCharts.polygon(i,[a-o/2*u+l*n,a+c*n-h/2*u,a+c*n+h/2*u,a+o/2*u+l*n],[s+o/2*f-l*r,s-c*r+h/2*f,s-c*r-h/2*f,s-o/2*f-l*r],t.color,t.alpha,1,d,t.borderAlpha,void 0,!0);t.set.push(i),this.graphsSet.push(t.set)}},setValue:function(t,e){t.axis&&(t.axis.value2angle(e),t.frame=0,t.previousValue=t.value),t.value=e;var i=this.legend;i&&i.updateValues()},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem,!this.legend.data&&t)switch(e){case"hideItem":this.hideArrow(t);break;case"showItem":this.showArrow(t)}},hideArrow:function(t){t.set.hide(),t.hidden=!0},showArrow:function(t){t.set.show(),t.hidden=!1},updateAnimations:function(){AmCharts.AmAngularGauge.base.updateAnimations.call(this);for(var t,e=this.arrows.length,i=0;e>i;i++){t=this.arrows[i];var n;t.frame>=this.totalFrames?n=t.value:(t.frame++,t.clockWiseOnly&&t.value<t.previousValue&&(n=t.axis,t.previousValue-=n.endValue-n.startValue),n=AmCharts.getEffect(this.startEffect),n=AmCharts[n](0,t.frame,t.previousValue,t.value-t.previousValue,this.totalFrames),isNaN(n)&&(n=t.value)),n=t.axis.value2angle(n),this.drawArrow(t,n)}}}),AmCharts.AmPieChart=AmCharts.Class({inherits:AmCharts.AmSlicedChart,construct:function(t){this.type="pie",AmCharts.AmPieChart.base.construct.call(this,t),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,AmCharts.applyTheme(this,t,this.cname)},drawChart:function(){AmCharts.AmPieChart.base.drawChart.call(this);var t=this.chartData;if(AmCharts.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){AmCharts.VML&&(this.startAlpha=1);var e=this.startDuration,i=this.container,n=this.updateWidth();this.realWidth=n;var r=this.updateHeight();this.realHeight=r;var a,s,o,h=AmCharts.toCoordinate,l=h(this.marginLeft,n),c=h(this.marginRight,n),u=h(this.marginTop,r)+this.getTitleHeight(),d=h(this.marginBottom,r),f=AmCharts.toNumber(this.labelRadius),p=this.measureMaxLabel();for(this.labelText&&this.labelsEnabled||(f=p=0),a=void 0===this.pieX?(n-l-c)/2+l:h(this.pieX,this.realWidth),s=void 0===this.pieY?(r-u-d)/2+u:h(this.pieY,r),o=h(this.radius,n,r),o||(n=f>=0?n-l-c-2*p:n-l-c,r=r-u-d,o=Math.min(n,r),n>r&&(o/=1-this.angle/90,o>n&&(o=n)),r=AmCharts.toCoordinate(this.pullOutRadius,o),o=(f>=0?o-1.8*(f+r):o-1.8*r)/2),o<this.minRadius&&(o=this.minRadius),r=h(this.pullOutRadius,o),u=AmCharts.toCoordinate(this.startRadius,o),h=h(this.innerRadius,o),h>=o&&(h=o-1),d=AmCharts.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(d=d>=270?270:90),d-=90,n=o-o*this.angle/90,l=0;l<t.length;l++)if(c=t[l],!0!==c.hidden&&0<c.percents){var m=360*c.percents/100,p=Math.sin((d+m/2)/180*Math.PI),g=-Math.cos((d+m/2)/180*Math.PI)*(n/o),v=this.outlineColor;if(v||(v=c.color),v={fill:c.color,stroke:v,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":this.alpha},c.url&&(v.cursor="pointer"),v=AmCharts.wedge(i,a,s,d,m,o,n,h,this.depth3D,v,this.gradientRatio,c.pattern),this.addEventListeners(v,c),c.startAngle=d,t[l].wedge=v,c.ix=p,c.iy=g,c.wedge=v,c.index=l,this.labelsEnabled&&this.labelText&&c.percents>=this.hideLabelsPercent){var y=d+m/2,m=f;isNaN(c.labelRadius)||(m=c.labelRadius);var b,C=a+p*(o+m),x=s+g*(o+m),A=0;if(m>=0){var w;90>=y&&y>=0?(w=0,b="start",A=8):y>=90&&180>y?(w=1,b="start",A=8):y>=180&&270>y?(w=2,b="end",A=-8):y>=270&&360>y&&(w=3,b="end",A=-8),c.labelQuarter=w}else b="middle";var y=this.formatString(this.labelText,c),S=c.labelColor;S||(S=this.color),y=AmCharts.text(i,y,S,this.fontFamily,this.fontSize,b),y.translate(C+1.5*A,x),c.tx=C+1.5*A,c.ty=x,x=h+(o-h)/2,c.pulled&&(x+=this.pullOutRadiusReal),c.balloonX=p*x+a,c.balloonY=g*x+s,m>=0?v.push(y):this.freeLabelsSet.push(y),c.label=y,c.tx=C,c.tx2=C+A,c.tx0=a+p*o,c.ty0=s+g*o
}c.startX=Math.round(p*u),c.startY=Math.round(g*u),c.pullX=Math.round(p*r),c.pullY=Math.round(g*r),this.graphsSet.push(v),(0===c.alpha||e>0&&!this.chartCreated)&&v.hide(),d+=360*c.percents/100}f>0&&!this.labelRadiusField&&this.arrangeLabels(),this.pieXReal=a,this.pieYReal=s,this.radiusReal=o,this.innerRadiusReal=h,f>0&&this.drawTicks(),this.initialStart(),this.setDepths()}(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},setDepths:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t],n=i.wedge,i=i.startAngle;i>=0&&180>i?n.toFront():i>=180&&n.toBack()}},arrangeLabels:function(){var t,e,i=this.chartData,n=i.length;for(e=n-1;e>=0;e--)t=i[e],0!==t.labelQuarter||t.hidden||this.checkOverlapping(e,t,0,!0,0);for(e=0;n>e;e++)t=i[e],1!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,1,!1,0);for(e=n-1;e>=0;e--)t=i[e],2!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,2,!0,0);for(e=0;n>e;e++)t=i[e],3!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,3,!1,0)},checkOverlapping:function(t,e,i,n,r){var a,s,o=this.chartData,h=o.length,l=e.label;if(l){if(!0===n)for(s=t+1;h>s;s++)o[s].labelQuarter==i&&(a=this.checkOverlappingReal(e,o[s],i))&&(s=h);else for(s=t-1;s>=0;s--)o[s].labelQuarter==i&&(a=this.checkOverlappingReal(e,o[s],i))&&(s=0);!0===a&&100>r&&(a=e.ty+3*e.iy,e.ty=a,l.translate(e.tx2,a),this.checkOverlapping(t,e,i,n,r+1))}},checkOverlappingReal:function(t,e,i){var n=!1,r=t.label,a=e.label;return t.labelQuarter!=i||t.hidden||e.hidden||!a||(r=r.getBBox(),i={},i.width=r.width,i.height=r.height,i.y=t.ty,i.x=t.tx,t=a.getBBox(),a={},a.width=t.width,a.height=t.height,a.y=e.ty,a.x=e.tx,AmCharts.hitTest(i,a)&&(n=!0)),n}}),AmCharts.AmRadarChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(t){this.type="radar",AmCharts.AmRadarChart.base.construct.call(this,t),this.cname="AmRadarChart",this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=0,this.radius="35%",AmCharts.applyTheme(this,t,this.cname)},initChart:function(){AmCharts.AmRadarChart.base.initChart.call(this),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),this.drawChart()},updateData:function(){this.parseData();var t,e=this.graphs;for(t=0;t<e.length;t++)e[t].data=this.chartData},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.index=t,i.width=this.realRadius,i.height=this.realRadius,i.x=this.marginLeftReal,i.y=this.marginTopReal}},parseData:function(){AmCharts.AmRadarChart.base.parseData.call(this),this.parseSerialData()},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];i.axisRenderer=AmCharts.RadAxis,i.guideFillRenderer=AmCharts.RadarFill,i.axisItemRenderer=AmCharts.RadItem,i.autoGridCount=!1,i.x=this.marginLeftReal,i.y=this.marginTopReal,i.width=this.realRadius,i.height=this.realRadius}},drawChart:function(){AmCharts.AmRadarChart.base.drawChart.call(this);var t=this.updateWidth(),e=this.updateHeight(),i=this.marginTop+this.getTitleHeight(),n=this.marginLeft,e=e-i-this.marginBottom;if(this.marginLeftReal=n+(t-n-this.marginRight)/2,this.marginTopReal=i+e/2,this.realRadius=AmCharts.toCoordinate(this.radius,t,e),this.updateValueAxes(),this.updateGraphs(),t=this.chartData,AmCharts.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){for(t=t.length-1,n=this.valueAxes,i=0;i<n.length;i++)n[i].zoom(0,t);for(n=this.graphs,i=0;i<n.length;i++)n[i].zoom(0,t);(t=this.legend)&&t.invalidateSize()}}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},formatString:function(t,e,i){var n=e.graph;return-1!=t.indexOf("[[category]]")&&(t=t.replace(/\[\[category\]\]/g,String(e.serialDataItem.category))),n=n.numberFormatter,n||(n=this.numberFormatter),t=AmCharts.formatValue(t,e.values,["value"],n,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=t.indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),t=AmCharts.AmRadarChart.base.formatString.call(this,t,e,i)},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs])}}),AmCharts.RadAxis=AmCharts.Class({construct:function(t){var e=t.chart,i=t.axisThickness,n=t.axisColor,r=t.axisAlpha,a=t.x,s=t.y;this.set=e.container.set(),e.axesSet.push(this.set);var o=t.axisTitleOffset,h=t.radarCategoriesEnabled,l=t.chart.fontFamily,c=t.fontSize;void 0===c&&(c=t.chart.fontSize);var u=t.color;if(void 0===u&&(u=t.chart.color),e){this.axisWidth=t.height,t=e.chartData;var d,f=t.length;for(d=0;f>d;d++){var p=180-360/f*d,m=a+this.axisWidth*Math.sin(p/180*Math.PI),g=s+this.axisWidth*Math.cos(p/180*Math.PI);if(r>0&&(m=AmCharts.line(e.container,[a,m],[s,g],n,r,i),this.set.push(m)),h){var v="start",m=a+(this.axisWidth+o)*Math.sin(p/180*Math.PI),g=s+(this.axisWidth+o)*Math.cos(p/180*Math.PI);(180==p||0===p)&&(v="middle",m-=5),0>p&&(v="end",m-=10),180==p&&(g-=5),0===p&&(g+=5),p=AmCharts.text(e.container,t[d].category,u,l,c,v),p.translate(m+5,g),this.set.push(p),p.getBBox()}}}}}),AmCharts.RadItem=AmCharts.Class({construct:function(t,e,i,n,r,a,s){void 0===i&&(i="");var o=t.chart.fontFamily,h=t.fontSize;void 0===h&&(h=t.chart.fontSize);var l=t.color;void 0===l&&(l=t.chart.color);var c=t.chart.container;this.set=n=c.set();var u=t.axisColor,d=t.axisAlpha,f=t.tickLength,p=t.gridAlpha,m=t.gridThickness,g=t.gridColor,v=t.dashLength,y=t.fillColor,b=t.fillAlpha,C=t.labelsEnabled;r=t.counter;var x,A=t.inside,w=t.gridType;e-=t.height;var S;a=t.x;var T=t.y;s?(C=!0,isNaN(s.tickLength)||(f=s.tickLength),void 0!=s.lineColor&&(g=s.lineColor),isNaN(s.lineAlpha)||(p=s.lineAlpha),isNaN(s.dashLength)||(v=s.dashLength),isNaN(s.lineThickness)||(m=s.lineThickness),!0===s.inside&&(A=!0)):i||(p/=3,f/=2);var N="end",E=-1;A&&(N="start",E=1);var D;if(C&&(D=AmCharts.text(c,i,l,o,h,N),D.translate(a+(f+3)*E,e),n.push(D),this.label=D,S=AmCharts.line(c,[a,a+f*E],[e,e],u,d,m),n.push(S)),e=Math.round(t.y-e),o=[],h=[],p>0){if("polygons"==w){for(x=t.data.length,l=0;x>l;l++)u=180-360/x*l,o.push(e*Math.sin(u/180*Math.PI)),h.push(e*Math.cos(u/180*Math.PI));o.push(o[0]),h.push(h[0]),p=AmCharts.line(c,o,h,g,p,m,v)}else p=AmCharts.circle(c,e,"#FFFFFF",0,m,g,p);p.translate(a,T),n.push(p)}if(1==r&&b>0&&!s&&""!==i){if(s=t.previousCoord,"polygons"==w){for(l=x;l>=0;l--)u=180-360/x*l,o.push(s*Math.sin(u/180*Math.PI)),h.push(s*Math.cos(u/180*Math.PI));x=AmCharts.polygon(c,o,h,y,b)}else x=AmCharts.wedge(c,0,0,0,360,e,e,s,0,{fill:y,"fill-opacity":b,stroke:"#000","stroke-opacity":0,"stroke-width":1});n.push(x),x.translate(a,T)}!1===t.visible&&(S&&S.hide(),D&&D.hide()),""!==i&&(t.counter=0===r?1:0,t.previousCoord=e)},graphics:function(){return this.set},getLabel:function(){return this.label}}),AmCharts.RadarFill=AmCharts.Class({construct:function(t,e,i,n){e-=t.axisWidth,i-=t.axisWidth;var r=Math.max(e,i);e=i=Math.min(e,i),i=t.chart.container;var a=n.fillAlpha,s=n.fillColor,r=Math.abs(r-t.y);e=Math.abs(e-t.y);var o=Math.max(r,e);if(e=Math.min(r,e),r=o,o=n.angle+90,n=n.toAngle+90,isNaN(o)&&(o=0),isNaN(n)&&(n=360),this.set=i.set(),void 0===s&&(s="#000000"),isNaN(a)&&(a=0),"polygons"==t.gridType){n=[];var h,l=[],c=t.data.length;for(h=0;c>h;h++)o=180-360/c*h,n.push(r*Math.sin(o/180*Math.PI)),l.push(r*Math.cos(o/180*Math.PI));for(n.push(n[0]),l.push(l[0]),h=c;h>=0;h--)o=180-360/c*h,n.push(e*Math.sin(o/180*Math.PI)),l.push(e*Math.cos(o/180*Math.PI));this.fill=AmCharts.polygon(i,n,l,s,a)}else this.fill=AmCharts.wedge(i,0,0,o,n-o,r,r,e,0,{fill:s,"fill-opacity":a,stroke:"#000","stroke-opacity":0,"stroke-width":1});this.set.push(this.fill),this.fill.translate(t.x,t.y)},graphics:function(){return this.set},getLabel:function(){}}),AmCharts.AmSerialChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(t){this.type="serial",AmCharts.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.createEvents("changed"),this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8,this.updateScrollbar=!0;var e=new AmCharts.CategoryAxis(t);e.chart=this,this.categoryAxis=e,this.zoomOutOnDataUpdate=!0,this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,AmCharts.applyTheme(this,t,this.cname)},initChart:function(){AmCharts.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);var t=this.chartCursor;t&&t.updateData();var e,t=this.countColumns(),i=this.graphs;for(e=0;e<i.length;e++)i[e].columnCount=t;this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins()),this.mouseWheelScrollEnabled&&this.addMouseWheel()},handleWheelReal:function(t){if(!this.wheelBusy){var e=this.categoryAxis,i=e.parseDates,e=e.minDuration();0>t?i?this.endTime<this.lastTime&&this.zoomToDates(new Date(this.startTime+e),new Date(this.endTime+e)):this.end<this.chartData.length-1&&this.zoomToIndexes(this.start+1,this.end+1):i?this.startTime>this.firstTime&&this.zoomToDates(new Date(this.startTime-e),new Date(this.endTime-e)):0<this.start&&this.zoomToIndexes(this.start-1,this.end-1)}},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=0/0),AmCharts.AmSerialChart.base.validateData.call(this)},drawChart:function(){AmCharts.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(AmCharts.ifArray(t)){var e=this.chartScrollbar;if(e&&e.draw(),0<this.realWidth&&0<this.realHeight){var i,t=t.length-1,e=this.categoryAxis;e.parseDates&&!e.equalSpacing?(e=this.startTime,i=this.endTime,(isNaN(e)||isNaN(i))&&(e=this.firstTime,i=this.lastTime)):(e=this.start,i=this.end,(isNaN(e)||isNaN(i))&&(e=0,i=t)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(e,i)}}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(t,e,i){t.chart=this,t.id=i,t.rotate=e,t.axisRenderer=AmCharts.RecAxis,t.guideFillRenderer=AmCharts.RecFill,t.axisItemRenderer=AmCharts.RecItem,t.setOrientation(!this.rotate),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.viW=this.plotAreaWidth-1,t.viH=this.plotAreaHeight-1,t.viX=this.marginLeftReal,t.viY=this.marginTopReal,t.marginsChanged=!0},updateValueAxes:function(){AmCharts.AmSerialChart.base.updateValueAxes.call(this);var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t],n=this.rotate;i.rotate=n,i.setOrientation(n),n=this.categoryAxis,(!n.startOnAxis||n.parseDates)&&(i.expandMinMax=!0)}},updateData:function(){this.parseData();var t,e=this.graphs,i=this.chartData;for(t=0;t<e.length;t++)e[t].data=i;0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time))},getStartTime:function(t){var e=this.categoryAxis;return AmCharts.resetDateToMin(new Date(t),e.minPeriod,1,e.firstDayOfWeek).getTime()},getEndTime:function(t){var e=AmCharts.extractPeriod(this.categoryAxis.minPeriod);return AmCharts.changeDate(new Date(t),e.period,e.count,!0).getTime()-1},updateMargins:function(){AmCharts.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate))},updateScrollbars:function(){AmCharts.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(t,e){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?this.timeZoom(t,e):this.indexZoom(t,e),this.updateLegendValues()},timeZoom:function(t,e){var i=this.maxSelectedTime;isNaN(i)||(e!=this.endTime&&e-t>i&&(t=e-i,this.updateScrollbar=!0),t!=this.startTime&&e-t>i&&(e=t+i,this.updateScrollbar=!0));var n=this.minSelectedTime;if(n>0&&n>e-t){var r=Math.round(t+(e-t)/2),n=Math.round(n/2);t=r-n,e=r+n}var a=this.chartData,r=this.categoryAxis;if(AmCharts.ifArray(a)&&(t!=this.startTime||e!=this.endTime)){var s=r.minDuration(),n=this.firstTime,o=this.lastTime;t||(t=n,isNaN(i)||(t=o-i)),e||(e=o),t>o&&(t=o),n>e&&(e=n),n>t&&(t=n),e>o&&(e=o),t>e&&(e=t+s),s/5>e-t&&(o>e?e=t+s/5:t=e-s/5),this.startTime=t,this.endTime=e,i=a.length-1,s=this.getClosestIndex(a,"time",t,!0,0,i),a=this.getClosestIndex(a,"time",e,!1,s,i),r.timeZoom(t,e),r.zoom(s,a),this.start=AmCharts.fitToBounds(s,0,i),this.end=AmCharts.fitToBounds(a,0,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),t!=n||e!=o?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},indexZoom:function(t,e){var i=this.maxSelectedSeries;if(isNaN(i)||(e!=this.end&&e-t>i&&(t=e-i,this.updateScrollbar=!0),t!=this.start&&e-t>i&&(e=t+i,this.updateScrollbar=!0)),t!=this.start||e!=this.end){var n=this.chartData.length-1;isNaN(t)&&(t=0,isNaN(i)||(t=n-i)),isNaN(e)&&(e=n),t>e&&(e=t),e>n&&(e=n),t>n&&(t=n-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchIndexZoomEvent()}},updateGraphs:function(){AmCharts.AmSerialChart.base.updateGraphs.call(this);var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.columnWidthReal=this.columnWidth,i.categoryAxis=this.categoryAxis,AmCharts.isString(i.fillToGraph)&&(i.fillToGraph=this.getGraphById(i.fillToGraph))}},updateColumnsDepth:function(){var t,e,i=this.graphs;for(AmCharts.remove(this.columnsSet),this.columnsArray=[],t=0;t<i.length;t++){e=i[t];var n=e.columnsArray;if(n){var r;for(r=0;r<n.length;r++)this.columnsArray.push(n[r])}}if(this.columnsArray.sort(this.compareDepth),0<this.columnsArray.length){for(i=this.container.set(),this.columnSet.push(i),t=0;t<this.columnsArray.length;t++)i.push(this.columnsArray[t].column.set);e&&i.translate(e.x,e.y),this.columnsSet=i}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;t&&this.updateScrollbar&&(e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.TrendLine,this.theme);e[t]=i,i.chart=this,AmCharts.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);this.zoomTrendLines(),(t=this.chartCursor)&&t.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var t,e,i,n,r=0,a=this.valueAxes.length,s=this.graphs.length,o=!1;for(n=0;a>n;n++){e=this.valueAxes[n];var h=e.stackType;if("100%"==h||"regular"==h)for(o=!1,i=0;s>i;i++)t=this.graphs[i],t.hidden||t.valueAxis!=e||"column"!=t.type||(!o&&t.stackable&&(r++,o=!0),!t.stackable&&t.clustered&&r++,t.columnIndex=r-1,t.clustered||(t.columnIndex=0));if("none"==h||"3d"==h)for(i=0;s>i;i++)t=this.graphs[i],!t.hidden&&t.valueAxis==e&&"column"==t.type&&t.clustered&&(t.columnIndex=r,r++);if("3d"==h){for(n=0;s>n;n++)t=this.graphs[n],t.depthCount=r;r=1}}return r},parseData:function(){AmCharts.AmSerialChart.base.parseData.call(this),this.parseSerialData()},getCategoryIndexByValue:function(t){var e,i,n=this.chartData;for(i=0;i<n.length;i++)n[i].category==t&&(e=i);return e},handleCursorChange:function(t){this.updateLegendValues(t.index)},handleCursorZoom:function(t){this.updateScrollbar=!0,this.zoom(t.start,t.end)},handleScrollbarZoom:function(t){this.updateScrollbar=!1,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var e=this.categoryAxis,i=AmCharts.extractPeriod(e.minPeriod).period,e=e.dateFormatsObject[i];t.startValue=AmCharts.formatDate(t.startDate,e),t.endValue=AmCharts.formatDate(t.endDate,e),t.chart=this,t.target=this,this.fire(t.type,t)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(AmCharts.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var e={chart:this,target:this,type:"zoomed"};e.startIndex=this.start,e.endIndex=this.end,e.startValue=t[this.start].category,e.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(e.type,e)}}},updateLegendValues:function(t){var e,i=this.graphs;for(e=0;e<i.length;e++){var n=i[e];n.currentDataItem=isNaN(t)?void 0:this.chartData[t].axes[n.valueAxis.id].graphs[n.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,i,n,r,a){0>r&&(r=0),a>t.length-1&&(a=t.length-1);var s=r+Math.round((a-r)/2),o=t[s][e];return 1>=a-r?n?r:(n=t[a][e],Math.abs(t[r][e]-i)<Math.abs(n-i)?r:a):i==o?s:o>i?this.getClosestIndex(t,e,i,n,r,s):this.getClosestIndex(t,e,i,n,s,a)},zoomToIndexes:function(t,e){this.updateScrollbar=!0;var i=this.chartData;if(i){var n=i.length;n>0&&(0>t&&(t=0),e>n-1&&(e=n-1),n=this.categoryAxis,n.parseDates&&!n.equalSpacing?this.zoom(i[t].time,this.getEndTime(i[e].time)):this.zoom(t,e))}},zoomToDates:function(t,e){this.updateScrollbar=!0;var i=this.chartData;if(this.categoryAxis.equalSpacing){var n=this.getClosestIndex(i,"time",t.getTime(),!0,0,i.length),i=this.getClosestIndex(i,"time",e.getTime(),!1,0,i.length);this.zoom(n,i)}else this.zoom(t.getTime(),e.getTime())},zoomToCategoryValues:function(t,e){this.updateScrollbar=!0,this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(t,e){if(e){var i=["value","open","low","high","close"],n="value open low high close average sum count".split(" "),r=e.valueAxis,a=this.chartData,s=e.numberFormatter;s||(s=this.numberFormatter);for(var o=0;o<i.length;o++){for(var h,l,c,u,d,f,p,m,g,v,y=i[o],b=0,C=0,x=0,A=0,w=this.start;w<=this.end;w++){var S=a[w];if(S&&(S=S.axes[r.id].graphs[e.id])){if(S.values){var T=S.values[y];isNaN(T)||(isNaN(h)&&(h=T),l=T,(isNaN(c)||c>T)&&(c=T),(isNaN(u)||T>u)&&(u=T),b+=T,C++,d=b/C)}S.percents&&(S=S.percents[y],!isNaN(S))&&(isNaN(f)&&(f=S),p=S,(isNaN(m)||m>S)&&(m=S),(isNaN(g)||S>g)&&(g=S),x+=S,A++,v=x/A)}}x={open:f,close:p,high:g,low:m,average:v,sum:x,count:A},t=AmCharts.formatValue(t,{open:h,close:l,high:u,low:c,average:d,sum:b,count:C},n,s,y+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=AmCharts.formatValue(t,x,n,this.percentFormatter,"percents\\."+y+"\\.")}}return t},formatString:function(t,e,i){var n=e.graph;if(-1!=t.indexOf("[[category]]")){var r=e.serialDataItem.category;if(this.categoryAxis.parseDates){var a=this.balloonDateFormat,s=this.chartCursor;s&&(a=s.categoryBalloonDateFormat),-1!=t.indexOf("[[category]]")&&(a=AmCharts.formatDate(r,a),-1!=a.indexOf("fff")&&(a=AmCharts.formatMilliseconds(a,r)),r=a)}t=t.replace(/\[\[category\]\]/g,String(r))}return n=n.numberFormatter,n||(n=this.numberFormatter),r=e.graph.valueAxis,(a=r.duration)&&!isNaN(e.values.value)&&(r=AmCharts.formatDuration(e.values.value,a,"",r.durationUnits,r.maxInterval,n),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),r)),r="value open low high close total".split(" "),a=this.percentFormatter,t=AmCharts.formatValue(t,e.percents,r,a,"percents\\."),t=AmCharts.formatValue(t,e.values,r,n,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=AmCharts.formatValue(t,e.values,["percents"],a),-1!=t.indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),t=AmCharts.AmSerialChart.base.formatString.call(this,t,e,i)},addChartScrollbar:function(t){AmCharts.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),this.chartScrollbar=t},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},handleReleaseOutside:function(t){AmCharts.AmSerialChart.base.handleReleaseOutside.call(this,t),AmCharts.callMethod("handleReleaseOutside",[this.chartScrollbar])}}),AmCharts.Cuboid=AmCharts.Class({construct:function(t,e,i,n,r,a,s,o,h,l,c,u,d,f,p){this.set=t.set(),this.container=t,this.h=Math.round(i),this.w=Math.round(e),this.dx=n,this.dy=r,this.colors=a,this.alpha=s,this.bwidth=o,this.bcolor=h,this.balpha=l,this.colors=a,this.dashLength=f,this.pattern=p,d?0>e&&0===c&&(c=180):0>i&&270==c&&(c=90),this.gradientRotation=c,0===n&&0===r&&(this.cornerRadius=u),this.draw()},draw:function(){var t=this.set;t.clear();var e=this.container,i=this.w,n=this.h,r=this.dx,a=this.dy,s=this.colors,o=this.alpha,h=this.bwidth,l=this.bcolor,c=this.balpha,u=this.gradientRotation,d=this.cornerRadius,f=this.dashLength,p=this.pattern,m=s,g=s;"object"==typeof s&&(m=s[0],g=s[s.length-1]);var v,y,b,C,x,A,w,S,T,N=o;for(p&&(o=0),(r>0||a>0)&&(w=g,g=AmCharts.adjustLuminosity(m,-.2),g=AmCharts.adjustLuminosity(m,-.2),v=AmCharts.polygon(e,[0,r,i+r,i,0],[0,a,a,0,0],g,o,1,l,0,u),c>0&&(T=AmCharts.line(e,[0,r,i+r],[0,a,a],l,c,h,f)),y=AmCharts.polygon(e,[0,0,i,i,0],[0,n,n,0,0],g,o,1,l,0,u),y.translate(r,a),c>0&&(b=AmCharts.line(e,[r,r],[a,a+n],l,c,h,f)),C=AmCharts.polygon(e,[0,0,r,r,0],[0,n,n+a,a,0],g,o,1,l,0,u),x=AmCharts.polygon(e,[i,i,i+r,i+r,i],[0,n,n+a,a,0],g,o,1,l,0,u),c>0&&(A=AmCharts.line(e,[i,i+r,i+r,i],[0,a,n+a,n],l,c,h,f)),g=AmCharts.adjustLuminosity(w,.2),w=AmCharts.polygon(e,[0,r,i+r,i,0],[n,n+a,n+a,n,n],g,o,1,l,0,u),c>0&&(S=AmCharts.line(e,[0,r,i+r],[n,n+a,n+a],l,c,h,f))),o=N,1>Math.abs(n)&&(n=0),1>Math.abs(i)&&(i=0),e=0===n?AmCharts.line(e,[0,i],[0,0],l,c,h,f):0===i?AmCharts.line(e,[0,0],[0,n],l,c,h,f):d>0?AmCharts.rect(e,i,n,s,o,h,l,c,d,u,f):AmCharts.polygon(e,[0,0,i,i,0],[0,n,n,0,0],s,o,h,l,c,u,!1,f),n=0>n?[v,T,y,b,C,x,A,w,S,e]:[w,S,y,b,C,x,v,T,A,e],v=0;v<n.length;v++)(y=n[v])&&t.push(y);p&&e.pattern(p)},width:function(t){this.w=t,this.draw()},height:function(t){this.h=t,this.draw()},animateHeight:function(t,e){var i=this;i.easing=e,i.totalFrames=1e3*t/AmCharts.updateRate,i.rh=i.h,i.frame=0,i.height(1),setTimeout(function(){i.updateHeight.call(i)},AmCharts.updateRate)},updateHeight:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e&&(e=t.easing(0,t.frame,1,t.rh-1,e),t.height(e),setTimeout(function(){t.updateHeight.call(t)},AmCharts.updateRate))},animateWidth:function(t,e){var i=this;i.easing=e,i.totalFrames=1e3*t/AmCharts.updateRate,i.rw=i.w,i.frame=0,i.width(1),setTimeout(function(){i.updateWidth.call(i)},AmCharts.updateRate)},updateWidth:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e&&(e=t.easing(0,t.frame,1,t.rw-1,e),t.width(e),setTimeout(function(){t.updateWidth.call(t)},AmCharts.updateRate))}}),AmCharts.CategoryAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(t){this.cname="CategoryAxis",AmCharts.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.firstDayOfWeek=1,this.gridPosition="middle",this.markPeriodChange=this.boldPeriodBeginning=!0,this.safeDistance=30,this.centerLabelOnFullPeriod=!0,this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={},this.nextPeriod.fff="ss",this.nextPeriod.ss="mm",this.nextPeriod.mm="hh",this.nextPeriod.hh="DD",this.nextPeriod.DD="MM",this.nextPeriod.MM="YYYY",AmCharts.applyTheme(this,t,this.cname)},draw:function(){AmCharts.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,AmCharts.ifArray(t)){var e,i=this.chart,n=this.start,r=this.labelFrequency,a=0;e=this.end-n+1;var s,o=this.gridCountR,h=this.showFirstLabel,l=this.showLastLabel,c="",u=AmCharts.extractPeriod(this.minPeriod);s=AmCharts.getPeriodDuration(u.period,u.count);var d,f,p,m,g;d=this.rotate;var v,y=this.firstDayOfWeek,b=this.boldPeriodBeginning,t=AmCharts.resetDateToMin(new Date(t[t.length-1].time+1.05*s),this.minPeriod,1,y).getTime();this.endTime>t&&(this.endTime=t),v=this.minorGridEnabled;var C,x,t=this.gridAlpha;if(this.parseDates&&!this.equalSpacing){this.timeDifference=this.endTime-this.startTime,n=this.choosePeriod(0),r=n.period,d=n.count,f=AmCharts.getPeriodDuration(r,d),s>f&&(r=u.period,d=u.count,f=s),p=r,"WW"==p&&(p="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var o=Math.ceil(this.timeDifference/f)+5,A=c=AmCharts.resetDateToMin(new Date(this.startTime-f),r,d,y).getTime();p==r&&1==d&&this.centerLabelOnFullPeriod&&(m=f*this.stepWidth),this.cellWidth=s*this.stepWidth,e=Math.round(c/f),n=-1,e/2==Math.round(e/2)&&(n=-2,c-=f);var w=i.firstTime,S=0;if(v&&d>1&&(C=this.chooseMinorFrequency(d),x=AmCharts.getPeriodDuration(r,C)),0<this.gridCountR)for(e=n;o>=e;e++){if(u=w+f*(e+Math.floor((A-w)/f))-S,"DD"==r&&(u+=36e5),u=AmCharts.resetDateToMin(new Date(u),r,d,y).getTime(),"MM"==r&&(v=(u-c)/f,(u-c)/f>=1.5&&(u=u-(v-1)*f+AmCharts.getPeriodDuration("DD",3),u=AmCharts.resetDateToMin(new Date(u),r,1).getTime(),S+=f)),s=(u-this.startTime)*this.stepWidth,g=!1,this.nextPeriod[p]&&(g=this.checkPeriodChange(this.nextPeriod[p],1,u,c,p)),v=!1,g&&this.markPeriodChange?(c=this.dateFormatsObject[this.nextPeriod[p]],v=!0):c=this.dateFormatsObject[p],b||(v=!1),c=AmCharts.formatDate(new Date(u),c),(e==n&&!h||e==o&&!l)&&(c=" "),this.labelFunction&&(c=this.labelFunction(c,new Date(u),this).toString()),c=new this.axisItemRenderer(this,s,c,!1,m,0,!1,v),this.pushAxisItem(c),c=u,!isNaN(C))for(s=1;d>s;s+=C)this.gridAlpha=this.minorGridAlpha,v=u+x*s,v=AmCharts.resetDateToMin(new Date(v),r,C,y).getTime(),v=new this.axisItemRenderer(this,(v-this.startTime)*this.stepWidth),this.pushAxisItem(v);this.gridAlpha=t}}else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(a=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,n=this.choosePeriod(0),r=n.period,d=n.count,f=AmCharts.getPeriodDuration(r,d),s>f&&(r=u.period,d=u.count,f=s),p=r,"WW"==p&&(p="DD"),this.stepWidth=this.getStepWidth(e),o=Math.ceil(this.timeDifference/f)+1,c=AmCharts.resetDateToMin(new Date(this.startTime-f),r,d,y).getTime(),this.cellWidth=this.getStepWidth(e),e=Math.round(c/f),n=-1,e/2==Math.round(e/2)&&(n=-2,c-=f),s=this.start,s/2==Math.round(s/2)&&s--,0>s&&(s=0),m=this.end+2,m>=this.data.length&&(m=this.data.length),x=!1,x=!h,this.previousPos=-1e3,20<this.labelRotation&&(this.safeDistance=5),f=s,this.data[s].time!=AmCharts.resetDateToMin(new Date(this.data[s].time),r,d,y).getTime())for(y=0,w=c,e=s;m>e;e++)u=this.data[e].time,this.checkPeriodChange(r,d,u,w)&&(y++,y>=2&&(f=e,e=m),w=u);for(v&&d>1&&(C=this.chooseMinorFrequency(d),AmCharts.getPeriodDuration(r,C)),e=s;m>e;e++)u=this.data[e].time,this.checkPeriodChange(r,d,u,c)&&e>=f?(s=this.getCoordinate(e-this.start),g=!1,this.nextPeriod[p]&&(g=this.checkPeriodChange(this.nextPeriod[p],1,u,c,p)),v=!1,g&&this.markPeriodChange?(c=this.dateFormatsObject[this.nextPeriod[p]],v=!0):c=this.dateFormatsObject[p],c=AmCharts.formatDate(new Date(u),c),(e==n&&!h||e==o&&!l)&&(c=" "),x?x=!1:(b||(v=!1),s-this.previousPos>this.safeDistance*Math.cos(this.labelRotation*Math.PI/180)&&(this.labelFunction&&(c=this.labelFunction(c,new Date(u),this)),c=new this.axisItemRenderer(this,s,c,void 0,void 0,void 0,void 0,v),y=c.graphics(),this.pushAxisItem(c),y=y.getBBox().width,AmCharts.isModern||(y-=s),this.previousPos=s+y)),c=u):isNaN(C)||(this.checkPeriodChange(r,C,u,A)&&(this.gridAlpha=this.minorGridAlpha,s=this.getCoordinate(e-this.start),v=new this.axisItemRenderer(this,s),this.pushAxisItem(v),A=u),this.gridAlpha=t)}}else if(this.cellWidth=this.getStepWidth(e),o>e&&(o=e),a+=this.start,this.stepWidth=this.getStepWidth(e),o>0)for(b=Math.floor(e/o),C=this.chooseMinorFrequency(b),s=a,s/2==Math.round(s/2)&&s--,0>s&&(s=0),o=0,e=s;e<=this.end+2;e++){if(y=!1,e>=0&&e<this.data.length?(p=this.data[e],c=p.category,y=p.forceShow):c="",v&&!isNaN(C)){if(e/C!=Math.round(e/C)&&!y)continue;e/b==Math.round(e/b)||y||(this.gridAlpha=this.minorGridAlpha,c=void 0)}else if(e/b!=Math.round(e/b)&&!y)continue;s=this.getCoordinate(e-a),y=0,"start"==this.gridPosition&&(s-=this.cellWidth/2,y=this.cellWidth/2),(e==n&&!h||e==this.end&&!l)&&(c=void 0),Math.round(o/r)!=o/r&&(c=void 0),o++,A=this.cellWidth,d&&(A=0/0),this.labelFunction&&p&&(c=this.labelFunction(c,p,this)),c=AmCharts.fixBrakes(c),c=new this.axisItemRenderer(this,s,c,!0,A,y,void 0,!1,y),this.pushAxisItem(c),this.gridAlpha=t}for(e=0;e<this.data.length;e++)(h=this.data[e])&&(l=this.parseDates&&!this.equalSpacing?Math.round((h.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(e-a),h.x[this.id]=l);for(h=this.guides.length,e=0;h>e;e++)l=this.guides[e],b=b=b=t=n=0/0,C=l.above,l.toCategory&&(b=i.getCategoryIndexByValue(l.toCategory),isNaN(b)||(n=this.getCoordinate(b-a),c=new this.axisItemRenderer(this,n,"",!0,0/0,0/0,l),this.pushAxisItem(c,C))),l.category&&(b=i.getCategoryIndexByValue(l.category),isNaN(b)||(t=this.getCoordinate(b-a),b=(n-t)/2,c=new this.axisItemRenderer(this,t,l.label,!0,0/0,b,l),this.pushAxisItem(c,C))),l.toDate&&(this.equalSpacing?(b=i.getClosestIndex(this.data,"time",l.toDate.getTime(),!1,0,this.data.length-1),isNaN(b)||(n=this.getCoordinate(b-a))):n=(l.toDate.getTime()-this.startTime)*this.stepWidth,c=new this.axisItemRenderer(this,n,"",!0,0/0,0/0,l),this.pushAxisItem(c,C)),l.date&&(this.equalSpacing?(b=i.getClosestIndex(this.data,"time",l.date.getTime(),!1,0,this.data.length-1),isNaN(b)||(t=this.getCoordinate(b-a))):t=(l.date.getTime()-this.startTime)*this.stepWidth,b=(n-t)/2,c="H"==this.orientation?new this.axisItemRenderer(this,t,l.label,!1,2*b,0/0,l):new this.axisItemRenderer(this,t,l.label,!1,0/0,b,l),this.pushAxisItem(c,C)),n=new this.guideFillRenderer(this,t,n,l),t=n.graphics(),this.pushAxisItem(n,C),l.graphics=t,t.index=e,l.balloonText&&this.addEventListeners(t,l)}this.axisCreated=!0,i=this.x,a=this.y,this.set.translate(i,a),this.labelsSet.translate(i,a),this.positionTitle(),(i=this.axisLine.set)&&i.toFront()},chooseMinorFrequency:function(t){for(var e=10;e>0;e--)if(t/e==Math.round(t/e))return t/e},choosePeriod:function(t){var e=AmCharts.getPeriodDuration(this.periods[t].period,this.periods[t].count),i=Math.ceil(this.timeDifference/e),n=this.periods;return this.timeDifference<e&&t>0?n[t-1]:i<=this.gridCountR?n[t]:t+1<n.length?this.choosePeriod(t+1):n[t]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var t=AmCharts.extractPeriod(this.minPeriod);return AmCharts.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,e,i,n,r){i=new Date(i);var a=new Date(n),s=this.firstDayOfWeek;return n=e,"DD"==t&&(e=1),i=AmCharts.resetDateToMin(i,t,e,s).getTime(),e=AmCharts.resetDateToMin(a,t,e,s).getTime(),"DD"==t&&"hh"!=r&&i-e<=AmCharts.getPeriodDuration(t,n)?!1:i!=e?!0:!1},generateDFObject:function(){this.dateFormatsObject={};var t;for(t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},xToIndex:function(t){var e=this.data,i=this.chart,n=i.rotate,r=this.stepWidth;
this.parseDates&&!this.equalSpacing?(t=this.startTime+Math.round(t/r)-this.minDuration()/2,i=i.getClosestIndex(e,"time",t,!1,this.start,this.end+1)):(this.startOnAxis||(t-=r/2),i=this.start+Math.round(t/r));var a,i=AmCharts.fitToBounds(i,0,e.length-1);return e[i]&&(a=e[i].x[this.id]),n?a>this.height+1&&i--:a>this.width+1&&i--,0>a&&i++,i=AmCharts.fitToBounds(i,0,e.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):0/0},categoryToCoordinate:function(t){return this.chart?(t=this.chart.getCategoryIndexByValue(t),this.getCoordinate(t-this.start)):0/0},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)}}),AmCharts.themes.chalk={themeName:"chalk",AmChart:{color:"#e7e7e7",fontFamily:"Covered By Your Grace",fontSize:20,handDrawn:!0},AmCoordinateChart:{colors:["#FFFFFF","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"]},AmSlicedChart:{outlineAlpha:1,labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#FFFFFF","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"]},AmStockChart:{colors:["#FFFFFF","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite.png"},AxisBase:{axisColor:"#FFFFFF",gridColor:"#FFFFFF"},ChartScrollbar:{backgroundColor:"#FFFFFF",backgroundAlpha:.2,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#000000",selectedBackgroundAlpha:.25,fontSize:15,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000"},AmLegend:{color:"#e7e7e7",markerSize:20},AmGraph:{lineAlpha:.8},GaugeArrow:{color:"#FFFFFF",alpha:.1,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:.8,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:.8,bandAlpha:.4},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AmMap:{handDrawn:!1},AreasSettings:{alpha:.8,color:"#FFFFFF",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#FFFFFF",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#4d90d6",rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",selectedColor:"#e384a6",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#FFFFFF",alpha:.8},ImagesSettings:{alpha:.8,labelFontSize:16,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#4d90d6"},ZoomControl:{buttonRollOverColor:"#4d90d6",buttonFillColor:"#e384a6",buttonFillAlpha:.8,buttonBorderColor:"#FFFFFF",gridBackgroundColor:"#FFFFFF",gridAlpha:.8},SmallMap:{mapColor:"#FFFFFF",rectangleColor:"#e384a6",backgroundColor:"#000000",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#e7e7e7",fontFamily:"Covered By Your Grace",fontSize:"20px"},PeriodButton:{color:"#000000",fontFamily:"Covered By Your Grace",fontSize:"20px",backgroundColor:"#EEEEEE",borderStyle:"solid",borderColor:"#CCCCCC",borderWidth:"1px",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",opacity:.7,outline:"none"},PeriodButtonSelected:{color:"#000000",fontFamily:"Covered By Your Grace",fontSize:"20px",backgroundColor:"#e384a6",borderStyle:"solid",borderColor:"#e384a6",borderWidth:"1px",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",opacity:.7,outline:"none"},PeriodInputField:{color:"#e7e7e7",background:"transparent",fontFamily:"Covered By Your Grace",fontSize:"20px",borderStyle:"solid",borderColor:"#e7e7e7",borderWidth:"1px",outline:"none"},DataSetSelector:{color:"#e7e7e7",fontFamily:"Covered By Your Grace",fontSize:"20px",selectedBackgroundColor:"#9d6478",rollOverBackgroundColor:"#000000",listCheckBoxSize:20},DataSetCompareList:{color:"#e7e7e7",fontFamily:"Covered By Your Grace",fontSize:"20px",borderStyle:"solid",borderColor:"#e7e7e7",borderWidth:"1px"},DataSetSelect:{color:"#e7e7e7",background:"#000000",fontFamily:"Covered By Your Grace",fontSize:"20px",borderStyle:"solid",borderColor:"#CCCCCC",borderWidth:"1px",outline:"none"}},AmCharts.themes.dark={themeName:"dark",AmChart:{color:"#e7e7e7"},AmCoordinateChart:{colors:["#ae85c9","#aab9f7","#b6d2ff","#c9e6f2","#c9f0e1","#e8d685","#e0ad63","#d48652","#d27362","#495fba","#7a629b","#8881cc"]},AmStockChart:{colors:["#495fba","#e8d685","#ae85c9","#c9f0e1","#d48652","#629b6d","#719dc3","#719dc3"]},AmSlicedChart:{outlineAlpha:1,outlineThickness:2,labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#495fba","#e8d685","#ae85c9","#c9f0e1","#d48652","#629b6d","#719dc3","#719dc3"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite.png"},AxisBase:{axisColor:"#FFFFFF",axisAlpha:.3,gridAlpha:.1,gridColor:"#FFFFFF",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.2,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.1,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000",cursorAlpha:.5},AmLegend:{color:"#e7e7e7"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#FFFFFF",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#FFFFFF",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#FFFFFF",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",selectedColor:"#f15135",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#FFFFFF",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#f15135",buttonFillAlpha:.8,buttonBorderColor:"#FFFFFF",gridBackgroundColor:"#FFFFFF",gridAlpha:.8},SmallMap:{mapColor:"#FFFFFF",rectangleColor:"#f15135",backgroundColor:"#000000",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#e7e7e7"},PeriodButton:{color:"#e7e7e7",backgroundColor:"#282828",borderStyle:"solid",borderColor:"#585858",borderWidth:"1px",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none"},PeriodButtonSelected:{color:"#FFFFFF",backgroundColor:"#414c7b",borderStyle:"solid",borderColor:"#3f4b80",borderWidth:"1px",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none"},PeriodInputField:{color:"#e7e7e7",background:"transparent",borderStyle:"solid",borderColor:"#585858",borderWidth:"1px",outline:"none"},DataSetSelector:{color:"#e7e7e7",selectedBackgroundColor:"#414c7b",rollOverBackgroundColor:"#000000"},DataSetCompareList:{color:"#e7e7e7",borderStyle:"solid",borderColor:"#585858",borderWidth:"1px"},DataSetSelect:{borderStyle:"solid",borderColor:"#585858",borderWidth:"1px",outline:"none"}},AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#d96a6b","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#d96a6b","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3,colors:["#67b7dc","#fdd400","#84b761","#d96a6b","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens.png"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.13,graphFillAlpha:.4,selectedGraphFillAlpha:.7,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.9,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#000000",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#f15135",buttonFillAlpha:.8,buttonBorderColor:"#000000",gridBackgroundColor:"#000000",gridAlpha:.8},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",backgroundColor:"#FFFFFF",borderStyle:"solid",borderColor:"#a9a9a9",borderWidth:"1px",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",borderStyle:"solid",borderColor:"#b9cdf5",borderWidth:"1px",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none"},PeriodInputField:{background:"transparent",borderStyle:"solid",borderColor:"#a9a9a9",borderWidth:"1px",outline:"none"},DataSetSelector:{selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{borderStyle:"solid",borderColor:"#a9a9a9",borderWidth:"1px"},DataSetSelect:{borderStyle:"solid",borderColor:"#a9a9a9",borderWidth:"1px",outline:"none"}},AmCharts.AmXYChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(t){this.type="xy",AmCharts.AmXYChart.base.construct.call(this,t),this.cname="AmXYChart",this.theme=t,this.createEvents("zoomed"),this.maxZoomFactor=20,AmCharts.applyTheme(this,t,this.cname)},initChart:function(){AmCharts.AmXYChart.base.initChart.call(this),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins());var t=this.marginLeftReal,e=this.marginTopReal,i=this.plotAreaWidth,n=this.plotAreaHeight;this.graphsSet.clipRect(t,e,i,n),this.bulletSet.clipRect(t,e,i,n),this.trendLinesSet.clipRect(t,e,i,n)},prepareForExport:function(){var t=this.bulletSet;t.clipPath&&this.container.remove(t.clipPath)},createValueAxes:function(){var t=[],e=[];this.xAxes=t,this.yAxes=e;var i,n,r=this.valueAxes;for(n=0;n<r.length;n++){i=r[n];var a=i.position;("top"==a||"bottom"==a)&&(i.rotate=!0),i.setOrientation(i.rotate),a=i.orientation,"V"==a&&e.push(i),"H"==a&&t.push(i)}for(0===e.length&&(i=new AmCharts.ValueAxis(this.theme),i.rotate=!1,i.setOrientation(!1),r.push(i),e.push(i)),0===t.length&&(i=new AmCharts.ValueAxis(this.theme),i.rotate=!0,i.setOrientation(!0),r.push(i),t.push(i)),n=0;n<r.length;n++)this.processValueAxis(r[n],n);for(t=this.graphs,n=0;n<t.length;n++)this.processGraph(t[n],n)},drawChart:function(){if(AmCharts.AmXYChart.base.drawChart.call(this),AmCharts.ifArray(this.chartData)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart(),this.hideXScrollbar){var t=this.scrollbarH;t&&(this.removeListener(t,"zoomed",this.handleHSBZoom),t.destroy()),this.scrollbarH=null}this.hideYScrollbar&&((t=this.scrollbarV)&&(this.removeListener(t,"zoomed",this.handleVSBZoom),t.destroy()),this.scrollbarV=null),(!this.autoMargins||this.marginsUpdated)&&(this.dispDUpd(),this.chartCreated=!0,this.zoomScrollbars())},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.toggleZoomOutButton(),this.zoomObjects(this.valueAxes),this.zoomObjects(this.graphs),this.zoomTrendLines(),this.dispatchAxisZoom()},toggleZoomOutButton:function(){1==this.heightMultiplier&&1==this.widthMultiplier?this.showZB(!1):this.showZB(!0)},dispatchAxisZoom:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];if(!isNaN(i.min)&&!isNaN(i.max)){var n,r;if("V"==i.orientation?(n=i.coordinateToValue(-this.verticalPosition),r=i.coordinateToValue(-this.verticalPosition+this.plotAreaHeight)):(n=i.coordinateToValue(-this.horizontalPosition),r=i.coordinateToValue(-this.horizontalPosition+this.plotAreaWidth)),!isNaN(n)&&!isNaN(r)){if(n>r){var a=r;r=n,n=a}i.dispatchZoomEvent(n,r)}}}},zoomObjects:function(t){var e,i=t.length;for(e=0;i>e;e++){var n=t[e];this.updateObjectSize(n),n.zoom(0,this.chartData.length-1)}},updateData:function(){this.parseData();var t,e,i=this.chartData,n=i.length-1,r=this.graphs,a=this.dataProvider,s=0;for(t=0;t<r.length;t++)if(e=r[t],e.data=i,e.zoom(0,n),e=e.valueField){var o;for(o=0;o<a.length;o++){var h=a[o][e];h>s&&(s=h)}}for(t=0;t<r.length;t++)e=r[t],e.maxValue=s;(i=this.chartCursor)&&(i.updateData(),i.type="crosshair",i.valueBalloonsEnabled=!1)},zoomOut:function(){this.verticalPosition=this.horizontalPosition=0,this.heightMultiplier=this.widthMultiplier=1,this.zoomChart(),this.zoomScrollbars()},processValueAxis:function(t){t.chart=this,t.minMaxField="H"==t.orientation?"x":"y",t.minTemp=0/0,t.maxTemp=0/0,this.listenTo(t,"axisSelfZoomed",this.handleAxisSelfZoom)},processGraph:function(t){AmCharts.isString(t.xAxis)&&(t.xAxis=this.getValueAxisById(t.xAxis)),AmCharts.isString(t.yAxis)&&(t.yAxis=this.getValueAxisById(t.yAxis)),t.xAxis||(t.xAxis=this.xAxes[0]),t.yAxis||(t.yAxis=this.yAxes[0]),t.valueAxis=t.yAxis},parseData:function(){AmCharts.AmXYChart.base.parseData.call(this),this.chartData=[];var t,e=this.dataProvider,i=this.valueAxes,n=this.graphs;for(t=0;t<e.length;t++){var r,a={axes:{},x:{},y:{}},s=e[t];for(r=0;r<i.length;r++){var o=i[r].id;a.axes[o]={},a.axes[o].graphs={};var h;for(h=0;h<n.length;h++){var l=n[h],c=l.id;if(l.xAxis.id==o||l.yAxis.id==o){var u={};u.serialDataItem=a,u.index=t;var d={},f=Number(s[l.valueField]);isNaN(f)||(d.value=f),f=Number(s[l.xField]),isNaN(f)||(d.x=f),f=Number(s[l.yField]),isNaN(f)||(d.y=f),f=Number(s[l.errorField]),isNaN(f)||(d.error=f),u.values=d,this.processFields(l,u,s),u.serialDataItem=a,u.graph=l,a.axes[o].graphs[c]=u}}}this.chartData[t]=a}},formatString:function(t,e,i){var n=e.graph.numberFormatter;return n||(n=this.numberFormatter),t=AmCharts.formatValue(t,e.values,["value","x","y"],n),-1!=t.indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),t=AmCharts.AmXYChart.base.formatString.call(this,t,e,i)},addChartScrollbar:function(t){if(AmCharts.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]),t){this.chartScrollbar=t,this.scrollbarHeight=t.scrollbarHeight;var e="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var i=new AmCharts.SimpleChartScrollbar(this.theme);i.skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleVSBZoom),AmCharts.copyProperties(t,i,e),i.rotate=!0,this.scrollbarV=i}this.hideXScrollbar||(i=new AmCharts.SimpleChartScrollbar(this.theme),i.skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleHSBZoom),AmCharts.copyProperties(t,i,e),i.rotate=!1,this.scrollbarH=i)}},updateTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.TrendLine,this.theme);e[t]=i,i.chart=this;var n=i.valueAxis;AmCharts.isString(n)&&(i.valueAxis=this.getValueAxisById(n)),n=i.valueAxisX,AmCharts.isString(n)&&(i.valueAxisX=this.getValueAxisById(n)),i.valueAxis||(i.valueAxis=this.yAxes[0]),i.valueAxisX||(i.valueAxisX=this.xAxes[0])}},updateMargins:function(){AmCharts.AmXYChart.base.updateMargins.call(this);var t=this.scrollbarV;t&&(this.getScrollbarPosition(t,!0,this.yAxes[0].position),this.adjustMargins(t,!0)),(t=this.scrollbarH)&&(this.getScrollbarPosition(t,!1,this.xAxes[0].position),this.adjustMargins(t,!1))},updateScrollbars:function(){AmCharts.AmXYChart.base.updateScrollbars.call(this);var t=this.scrollbarV;t&&(this.updateChartScrollbar(t,!0),t.draw()),(t=this.scrollbarH)&&(this.updateChartScrollbar(t,!1),t.draw())},zoomScrollbars:function(){var t=this.scrollbarH;t&&t.relativeZoom(this.widthMultiplier,-this.horizontalPosition/this.widthMultiplier),(t=this.scrollbarV)&&t.relativeZoom(this.heightMultiplier,-this.verticalPosition/this.heightMultiplier)},fitMultiplier:function(t){return t>this.maxZoomFactor&&(t=this.maxZoomFactor),t},handleHSBZoom:function(t){var e=this.fitMultiplier(t.multiplier);t=-t.position*e;var i=-(this.plotAreaWidth*e-this.plotAreaWidth);i>t&&(t=i),this.widthMultiplier=e,this.horizontalPosition=t,this.zoomChart()},handleVSBZoom:function(t){var e=this.fitMultiplier(t.multiplier);t=-t.position*e;var i=-(this.plotAreaHeight*e-this.plotAreaHeight);i>t&&(t=i),this.heightMultiplier=e,this.verticalPosition=t,this.zoomChart()},handleAxisSelfZoom:function(t){if("H"==t.valueAxis.orientation){var e=this.fitMultiplier(t.multiplier);t=-t.position*e;var i=-(this.plotAreaWidth*e-this.plotAreaWidth);i>t&&(t=i),this.horizontalPosition=t,this.widthMultiplier=e}else e=this.fitMultiplier(t.multiplier),t=-t.position*e,i=-(this.plotAreaHeight*e-this.plotAreaHeight),i>t&&(t=i),this.verticalPosition=t,this.heightMultiplier=e;for(this.zoomChart(),e=this.graphs,t=0;t<e.length;t++)e[t].setAnimationPlayed();this.zoomScrollbars()},handleCursorZoom:function(t){var e=this.widthMultiplier*this.plotAreaWidth/t.selectionWidth,i=this.heightMultiplier*this.plotAreaHeight/t.selectionHeight,e=this.fitMultiplier(e),i=this.fitMultiplier(i);this.horizontalPosition=(this.horizontalPosition-t.selectionX)*e/this.widthMultiplier,this.verticalPosition=(this.verticalPosition-t.selectionY)*i/this.heightMultiplier,this.widthMultiplier=e,this.heightMultiplier=i,this.zoomChart(),this.zoomScrollbars()},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.scrollbarH,this.scrollbarV]),this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(t){AmCharts.AmXYChart.base.handleReleaseOutside.call(this,t),AmCharts.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])}}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);